"use strict";(self.webpackChunkvpn_xo_website=self.webpackChunkvpn_xo_website||[]).push([[921],{7921:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(5043),r=s(5369),l=s(1327),n=s(6150),c=s(108),i=s(7869),d=s(4240),x=s(7734),o=s(8643),h=s(2185),m=s(6026),p=s(2291),u=s(163),j=s(8289),b=s(4505),g=s(579);const y=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444"],f=()=>{const[e,t]=(0,a.useState)(null),[s,f]=(0,a.useState)(!0),[N,v]=(0,a.useState)(null);(0,a.useEffect)(()=>{w()},[]);const w=async()=>{try{f(!0);const e=await b.Kp.getRevenue();t(e.data)}catch(e){v("Failed to load revenue data"),console.error(e)}finally{f(!1)}},k=e=>e>=1e3?"$".concat((e/1e3).toFixed(1),"k"):"$".concat(parseFloat(e).toFixed(2));if(s)return(0,g.jsx)("div",{className:"text-center text-gray-400 py-12",children:"Loading revenue data..."});if(N)return(0,g.jsx)("div",{className:"text-center text-red-400 py-12",children:N});if(!e)return null;const R=(e.planDistribution||[]).map(e=>({name:"6month"===e.plan_type?"6-Month":"yearly"===e.plan_type?"Yearly":"monthly"===e.plan_type?"Monthly":e.plan_type,value:parseInt(e.count)})),A=(e.dailyRevenue||[]).map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:parseFloat(e.revenue),transactions:parseInt(e.transactions)}));return(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,g.jsx)(j.A,{className:"p-5 bg-gradient-to-br from-green-600/20 to-green-800/20 border border-green-500/30",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-green-300 text-xs font-medium uppercase tracking-wider",children:"Monthly Recurring"}),(0,g.jsx)("p",{className:"text-white text-2xl font-bold mt-1",children:k(e.mrr)}),(0,g.jsxs)("p",{className:"text-green-400 text-xs mt-1",children:["ARR: ",k(e.arr)]})]}),(0,g.jsx)(r.Tsk,{className:"text-green-400 text-3xl opacity-50"})]})}),(0,g.jsx)(j.A,{className:"p-5 bg-gradient-to-br from-blue-600/20 to-blue-800/20 border border-blue-500/30",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-blue-300 text-xs font-medium uppercase tracking-wider",children:"Last 30 Days"}),(0,g.jsx)("p",{className:"text-white text-2xl font-bold mt-1",children:k(e.last30DaysRevenue)}),(0,g.jsxs)("p",{className:"text-blue-400 text-xs mt-1",children:[e.totalTransactions," total txns"]})]}),(0,g.jsx)(r.YYR,{className:"text-blue-400 text-3xl opacity-50"})]})}),(0,g.jsx)(j.A,{className:"p-5 bg-gradient-to-br from-red-600/20 to-red-800/20 border border-red-500/30",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-red-300 text-xs font-medium uppercase tracking-wider",children:"Churn Rate"}),(0,g.jsxs)("p",{className:"text-white text-2xl font-bold mt-1",children:[e.churnRate,"%"]}),(0,g.jsxs)("p",{className:"text-red-400 text-xs mt-1",children:[e.churned," churned (30d)"]})]}),(0,g.jsx)(r.Dby,{className:"text-red-400 text-3xl opacity-50"})]})}),(0,g.jsx)(j.A,{className:"p-5 bg-gradient-to-br from-purple-600/20 to-purple-800/20 border border-purple-500/30",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-purple-300 text-xs font-medium uppercase tracking-wider",children:"Lifetime Value"}),(0,g.jsx)("p",{className:"text-white text-2xl font-bold mt-1",children:k(e.ltv)}),(0,g.jsxs)("p",{className:"text-purple-400 text-xs mt-1",children:["ARPU: ",k(e.arpu),"/mo"]})]}),(0,g.jsx)(r.BJb,{className:"text-purple-400 text-3xl opacity-50"})]})})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsx)(j.A,{className:"p-4",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("span",{className:"text-gray-400 text-sm",children:"Active Paid Users"}),(0,g.jsx)("span",{className:"text-white font-bold text-lg",children:e.activePaid})]})}),(0,g.jsx)(j.A,{className:"p-4",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("span",{className:"text-gray-400 text-sm",children:"New Subs This Month"}),(0,g.jsxs)("span",{className:"text-green-400 font-bold text-lg flex items-center gap-1",children:[(0,g.jsx)(r.uCC,{className:"text-xs"})," ",e.newSubscriptionsThisMonth]})]})}),(0,g.jsx)(j.A,{className:"p-4",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Revenue"}),(0,g.jsx)("span",{className:"text-white font-bold text-lg",children:k(e.totalRevenue)})]})})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,g.jsxs)(j.A,{className:"p-6 lg:col-span-2",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Daily Revenue (Last 30 Days)"}),A.length>0?(0,g.jsx)(c.u,{width:"100%",height:300,children:(0,g.jsxs)(p.E,{data:A,children:[(0,g.jsx)(x.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,g.jsx)(h.W,{dataKey:"date",stroke:"#9ca3af",fontSize:11}),(0,g.jsx)(m.h,{stroke:"#9ca3af",fontSize:11,tickFormatter:e=>"$".concat(e)}),(0,g.jsx)(n.m,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"},labelStyle:{color:"#fff"},formatter:e=>["$".concat(parseFloat(e).toFixed(2)),"Revenue"]}),(0,g.jsx)(o.y,{dataKey:"revenue",fill:"#10b981",radius:[4,4,0,0]})]})}):(0,g.jsx)("div",{className:"text-gray-500 text-center py-12",children:"No revenue data for this period"})]}),(0,g.jsxs)(j.A,{className:"p-6",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Plan Distribution"}),R.length>0?(0,g.jsx)(c.u,{width:"100%",height:300,children:(0,g.jsxs)(u.r,{children:[(0,g.jsx)(d.F,{data:R,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,dataKey:"value",label:e=>{let{name:t,percent:s}=e;return"".concat(t," ").concat((100*s).toFixed(0),"%")},children:R.map((e,t)=>(0,g.jsx)(i.f,{fill:y[t%y.length]},t))}),(0,g.jsx)(n.m,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,g.jsx)(l.s,{})]})}):(0,g.jsx)("div",{className:"text-gray-500 text-center py-12",children:"No plan data"})]})]}),(0,g.jsxs)(j.A,{className:"p-6",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Revenue Breakdown by Plan"}),(0,g.jsx)("div",{className:"overflow-x-auto",children:(0,g.jsxs)("table",{className:"w-full",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:"border-b border-white border-opacity-20",children:[(0,g.jsx)("th",{className:"text-left py-3 px-4 text-gray-300",children:"Plan"}),(0,g.jsx)("th",{className:"text-right py-3 px-4 text-gray-300",children:"Active Users"}),(0,g.jsx)("th",{className:"text-right py-3 px-4 text-gray-300",children:"Monthly Equiv."})]})}),(0,g.jsx)("tbody",{children:e.breakdown&&Object.entries(e.breakdown).map(e=>{let[t,s]=e;return(0,g.jsxs)("tr",{className:"border-b border-white border-opacity-10",children:[(0,g.jsx)("td",{className:"py-3 px-4 text-white capitalize",children:"sixmonth"===t?"6-Month":t}),(0,g.jsx)("td",{className:"py-3 px-4 text-white text-right",children:s.count}),(0,g.jsxs)("td",{className:"py-3 px-4 text-green-400 text-right",children:[k(s.revenue),"/mo"]})]},t)})})]})})]})]})}}}]);
//# sourceMappingURL=921.a7dfd781.chunk.js.map