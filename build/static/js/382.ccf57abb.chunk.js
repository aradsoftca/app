"use strict";(self.webpackChunkvpn_xo_website=self.webpackChunkvpn_xo_website||[]).push([[382],{4951:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5043);const i=e=>{(0,a.useEffect)(()=>{const t=document.title;return document.title=e?"".concat(e," | VPN XO"):"VPN XO - Secure VPN Service",()=>{document.title=t}},[e])}},8382:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(5043),i=s(5475),n=s(5369),l=s(4505),r=s(4951),o=s(579);const c=()=>{(0,r.A)("Payment Success");const[e]=(0,i.ok)(),[t,s]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),[x,m]=(0,a.useState)(null),[u,h]=(0,a.useState)(null),b=e=>{switch(e){case"monthly":return"Monthly";case"6month":return"6-Month";case"12month":return"12-Month";default:return"Premium"}},p=(0,a.useCallback)(async()=>{const t=e.get("session_id"),a="coinbase"===e.get("source");if(!t&&!a)return d("No payment session found"),void s(!1);try{if(t)try{var i;const e=await l.Kp.verifyCheckoutSession(t);null!==e&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&i.planType&&h(e.data.planType)}catch(n){console.warn("Session verify:",n)}const e=a?8:5,r=a?3e3:2e3;for(let t=0;t<e;t++){t>0&&await new Promise(e=>setTimeout(e,r));const e=(await l.Kp.getSubscriptionStatus()).data;if("paid"===(null===e||void 0===e?void 0:e.tier))return m(e),void s(!1)}const o=await l.Kp.getSubscriptionStatus();m(o.data)}catch(r){console.error("Payment verification failed:",r),d("Unable to verify payment. If you were charged, your plan will activate shortly.")}finally{s(!1)}},[e]);if((0,a.useEffect)(()=>{p()},[p]),t)return(0,o.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)(n.hW,{className:"text-white text-6xl mx-auto mb-4 animate-spin"}),(0,o.jsx)("div",{className:"text-white text-2xl",children:"Verifying your payment..."}),(0,o.jsx)("div",{className:"text-gray-300 mt-2",children:"This may take a few moments"})]})});if(c)return(0,o.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4",children:(0,o.jsxs)("div",{className:"max-w-md w-full bg-white bg-opacity-10 backdrop-blur-md rounded-2xl p-8 border border-white border-opacity-20 text-center",children:[(0,o.jsx)(n.BS8,{className:"text-yellow-400 text-6xl mx-auto mb-4"}),(0,o.jsx)("h1",{className:"text-2xl font-bold text-white mb-3",children:"Verification Issue"}),(0,o.jsx)("p",{className:"text-gray-300 mb-6",children:c}),(0,o.jsx)(i.N_,{to:"/dashboard",className:"block w-full py-3 rounded-full text-center font-semibold transition-all bg-blue-600 text-white hover:bg-blue-700",children:"Go to Dashboard"})]})});const f="paid"===(null===x||void 0===x?void 0:x.tier),y=(null===x||void 0===x?void 0:x.planType)||u;return(0,o.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4",children:(0,o.jsxs)("div",{className:"max-w-lg w-full bg-white bg-opacity-10 backdrop-blur-md rounded-2xl p-8 border border-white border-opacity-20 text-center",children:[f?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.A7C,{className:"text-green-400 text-7xl mx-auto mb-5"}),(0,o.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Payment Successful!"}),(0,o.jsxs)("p",{className:"text-gray-300 mb-6",children:["Your ",b(y)," plan is now active."]}),(0,o.jsxs)("div",{className:"bg-white bg-opacity-10 rounded-xl p-5 mb-6 text-left space-y-3",children:[(0,o.jsxs)("div",{className:"flex justify-between text-gray-200",children:[(0,o.jsx)("span",{children:"Plan"}),(0,o.jsx)("span",{className:"font-semibold text-white",children:b(y)})]}),(0,o.jsxs)("div",{className:"flex justify-between text-gray-200",children:[(0,o.jsx)("span",{children:"Status"}),(0,o.jsx)("span",{className:"font-semibold text-green-400",children:"Active"})]}),x.daysRemaining>0&&(0,o.jsxs)("div",{className:"flex justify-between text-gray-200",children:[(0,o.jsx)("span",{children:"Days Remaining"}),(0,o.jsx)("span",{className:"font-semibold text-white",children:x.daysRemaining})]}),x.subscriptionEndDate&&(0,o.jsxs)("div",{className:"flex justify-between text-gray-200",children:[(0,o.jsx)("span",{children:"Valid Until"}),(0,o.jsx)("span",{className:"font-semibold text-white",children:new Date(x.subscriptionEndDate).toLocaleDateString()})]})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.A7C,{className:"text-yellow-400 text-7xl mx-auto mb-5"}),(0,o.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Payment Received"}),(0,o.jsx)("p",{className:"text-gray-300 mb-6",children:"Your payment was received. Your Premium plan will activate within a few minutes. Check your dashboard for the updated status."})]}),(0,o.jsx)(i.N_,{to:"/dashboard",className:"block w-full py-4 rounded-full text-center font-semibold text-lg transition-all bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:shadow-lg hover:scale-105",children:"Go to Dashboard"})]})})}}}]);
//# sourceMappingURL=382.ccf57abb.chunk.js.map