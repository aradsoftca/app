"use strict";(self.webpackChunkvpn_xo_website=self.webpackChunkvpn_xo_website||[]).push([[73],{1073:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var a=t(5043),i=t(5475),r=t(4505),n=t(4951),c=t(579);const l=()=>{(0,n.A)("Email Preferences");const[e]=(0,i.ok)(),s=e.get("email")||"",[t,l]=(0,a.useState)("loading"),[o,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{s?r.Ay.get("/api/email-preferences",{params:{email:s}}).then(e=>{let{data:s}=e;void 0!==s.email_notifications&&d(s.email_notifications),l("ready")}).catch(()=>l("ready")):l("ready")},[s]);return(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0f0c29] via-[#302b63] to-[#24243e] p-5 font-sans",children:(0,c.jsxs)("div",{className:"max-w-md w-full bg-[#1a1a2e] rounded-2xl p-10 shadow-2xl text-gray-300 text-center",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold mb-2 text-indigo-400",children:"Email Preferences"}),(0,c.jsx)("p",{className:"text-gray-500 mb-6 text-sm",children:"VPN XO \u2014 Manage your email notifications"}),s?"loading"===t?(0,c.jsxs)("div",{className:"space-y-3 py-4",children:[(0,c.jsx)("div",{className:"h-4 w-3/4 mx-auto bg-gray-700/30 rounded animate-pulse"}),(0,c.jsx)("div",{className:"h-4 w-1/2 mx-auto bg-gray-700/30 rounded animate-pulse"}),(0,c.jsx)("div",{className:"h-10 w-48 mx-auto bg-gray-700/30 rounded-lg animate-pulse mt-4"})]}):"success"===t?(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl text-white ".concat(o?"bg-indigo-500":"bg-red-500"),children:o?"\u2713":"\u2715"}),(0,c.jsx)("h2",{className:"text-xl font-semibold mb-2",children:o?"You're subscribed!":"Unsubscribed"}),(0,c.jsx)("p",{className:"text-gray-400 mb-5",children:o?"You will continue receiving email notifications.":"You have been unsubscribed from email notifications."}),(0,c.jsx)("p",{className:"text-gray-600 text-sm",children:s})]}):(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"mb-2",children:["Email: ",(0,c.jsx)("strong",{className:"text-indigo-400",children:s})]}),(0,c.jsxs)("p",{className:"text-gray-400 mb-6 text-sm",children:["Notifications are currently"," ",(0,c.jsx)("strong",{className:o?"text-emerald-400":"text-red-400",children:o?"enabled":"disabled"})]}),o?(0,c.jsx)("button",{onClick:async()=>{try{const{data:e}=await r.Ay.post("/api/email-preferences",{email:s,unsubscribe:!0});e.success&&(d(!1),l("success"))}catch(e){l("error")}},className:"px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg font-bold text-base transition-colors",children:"Unsubscribe from Emails"}):(0,c.jsx)("button",{onClick:async()=>{try{const{data:e}=await r.Ay.post("/api/email-preferences",{email:s,unsubscribe:!1});e.success&&(d(!0),l("success"))}catch(e){l("error")}},className:"px-8 py-3 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg font-bold text-base transition-colors",children:"Re-subscribe to Emails"}),"error"===t&&(0,c.jsx)("p",{className:"text-red-400 mt-4 text-sm",children:"Something went wrong. Please try again."})]}):(0,c.jsx)("p",{className:"text-gray-400",children:"No email address provided."}),(0,c.jsx)("div",{className:"mt-8 border-t border-gray-700 pt-4",children:(0,c.jsxs)("p",{className:"text-gray-600 text-xs",children:["VPN XO \u2022"," ",(0,c.jsx)("a",{href:"https://vpn-xo.com",className:"text-indigo-400 hover:text-indigo-300 no-underline",children:"vpn-xo.com"})," ","\u2022"," ",(0,c.jsx)("a",{href:"/privacy-policy",className:"text-gray-500 hover:text-gray-400 underline",children:"Privacy Policy"})]})})]})})}},4951:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(5043);const i=e=>{(0,a.useEffect)(()=>{const s=document.title;return document.title=e?"".concat(e," | VPN XO"):"VPN XO - Secure VPN Service",()=>{document.title=s}},[e])}}}]);
//# sourceMappingURL=73.24228ce3.chunk.js.map