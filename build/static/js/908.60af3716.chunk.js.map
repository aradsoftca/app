{"version":3,"file":"static/js/908.60af3716.chunk.js","mappings":"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","sources":["pages/VPNXOSubscribe.js","hooks/useDocumentTitle.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { FaCrown, FaCheck, FaSpinner, FaCreditCard, FaShieldAlt, FaBitcoin } from 'react-icons/fa';\nimport { SiEthereum } from 'react-icons/si';\nimport { apiService } from '../services/api';\nimport { useAuth } from '../hooks/useAuth';\nimport useDocumentTitle from '../hooks/useDocumentTitle';\nimport axios from 'axios';\n\n// Plans that support crypto payment (Coinbase Commerce checkout configured)\nconst CRYPTO_SUPPORTED_PLANS = ['monthly', '6month'];\n\nconst VPNXOSubscribe = () => {\n  useDocumentTitle('Subscribe');\n  const navigate = useNavigate();\n  const { user, isAuthenticated } = useAuth();\n  const [plans, setPlans] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [processingPlan, setProcessingPlan] = useState(null);\n  const [paymentMethod, setPaymentMethod] = useState('stripe'); // 'stripe' | 'crypto'\n\n  useEffect(() => {\n    loadPlans();\n  }, []);\n\n  const loadPlans = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      // Use plain axios (no auth interceptor) so public /plans endpoint works for anonymous users\n      const API_BASE = process.env.REACT_APP_API_URL || 'https://api.vpn-xo.com';\n      const response = await axios.get(`${API_BASE}/api/subscriptions/plans`);\n      const paidPlans = response.data.filter(p => p.price > 0);\n      const sortedPlans = paidPlans.sort((a, b) => a.price - b.price);\n      setPlans(sortedPlans);\n    } catch (err) {\n      setError('Failed to load subscription plans. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubscribe = async (plan) => {\n    if (!isAuthenticated) {\n      navigate('/login?returnUrl=/subscribe');\n      return;\n    }\n    try {\n      setProcessingPlan(plan.plan_type);\n      setError(null);\n\n      let response;\n\n      if (paymentMethod === 'crypto') {\n        // Coinbase Commerce flow\n        response = await apiService.createCoinbaseCharge({\n          planType: plan.plan_type,\n        });\n      } else {\n        // Stripe flow\n        response = await apiService.createCheckoutSession({\n          planType: plan.plan_type,\n          priceId: plan.stripe_price_id,\n        });\n      }\n\n      if (response.data.url) {\n        window.location.href = response.data.url;\n        return;\n      }\n\n      throw new Error('No checkout URL received');\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to start payment. Please try again.');\n      setProcessingPlan(null);\n    }\n  };\n\n  const getPlanBadge = (planType) => {\n    switch (planType) {\n      case 'monthly':\n        return { text: 'POPULAR', color: 'bg-yellow-400 text-gray-900' };\n      case '12month':\n        return { text: 'BEST DEAL', color: 'bg-green-400 text-gray-900' };\n      default:\n        return null;\n    }\n  };\n\n  const getPlanColor = (planType) => {\n    switch (planType) {\n      case 'monthly':\n        return 'from-blue-600 to-purple-700 border-yellow-400';\n      case '12month':\n        return 'from-green-600 to-emerald-700 border-green-400';\n      default:\n        return 'from-gray-700 to-gray-800 border-white/20';\n    }\n  };\n\n  const calculateSavings = (plan) => {\n    if (!plan.bonus_months) return null;\n    const monthlyPrice = 6.99;\n    const wouldPay = monthlyPrice * plan.total_months;\n    const savings = wouldPay - plan.price;\n    return savings.toFixed(2);\n  };\n\n  const isCryptoAvailable = (planType) => {\n    return CRYPTO_SUPPORTED_PLANS.includes(planType);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <FaSpinner className=\"text-white text-6xl mx-auto mb-4 animate-spin\" />\n          <div className=\"text-white text-2xl\">Loading subscription plans...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900\">\n      {/* Navigation */}\n      <nav className=\"bg-black/30 backdrop-blur-md border-b border-white/10\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-20\">\n            <Link to=\"/\" className=\"text-white hover:text-gray-300 transition\">\n              &larr; Back to Home\n            </Link>\n            <img src=\"/logos/logo_vpnxo_original.png\" alt=\"VPN XO\" className=\"h-12\" />\n            <div className=\"text-white\">\n              {isAuthenticated ? (\n                <>\n                  <span className=\"text-gray-300\">Logged in as: </span>\n                  <span className=\"font-semibold\">{user?.email}</span>\n                </>\n              ) : (\n                <Link to=\"/login?returnUrl=/subscribe\" className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition\">\n                  Sign In\n                </Link>\n              )}\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <FaCrown className=\"text-yellow-400 text-6xl mx-auto mb-4\" />\n          <h1 className=\"text-5xl font-bold text-white mb-4\">Upgrade to Premium</h1>\n          <p className=\"text-xl text-gray-300\">Unlock all features and enjoy priority access</p>\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"max-w-2xl mx-auto mb-8 bg-red-500/20 border border-red-500 rounded-lg p-4\">\n            <p className=\"text-red-300 text-center\">{error}</p>\n          </div>\n        )}\n\n        {/* Payment Method Toggle */}\n        <div className=\"max-w-4xl mx-auto mb-12\">\n          <div className=\"bg-white/10 backdrop-blur-md rounded-xl border border-white/20 p-2\">\n            <div className=\"flex gap-2\">\n              {/* Stripe Option */}\n              <button\n                onClick={() => setPaymentMethod('stripe')}\n                className={`flex-1 flex items-center justify-center gap-3 py-4 px-6 rounded-lg font-bold text-lg transition-all ${\n                  paymentMethod === 'stripe'\n                    ? 'bg-white text-gray-900 shadow-lg'\n                    : 'text-white hover:bg-white/10'\n                }`}\n              >\n                <FaCreditCard className=\"text-xl\" />\n                <span>Pay with Card</span>\n                {paymentMethod === 'stripe' && (\n                  <FaShieldAlt className=\"text-green-600 text-sm\" />\n                )}\n              </button>\n\n              {/* Crypto Option */}\n              <button\n                onClick={() => setPaymentMethod('crypto')}\n                className={`flex-1 flex items-center justify-center gap-3 py-4 px-6 rounded-lg font-bold text-lg transition-all ${\n                  paymentMethod === 'crypto'\n                    ? 'bg-gradient-to-r from-orange-500 to-yellow-500 text-white shadow-lg'\n                    : 'text-white hover:bg-white/10'\n                }`}\n              >\n                <FaBitcoin className=\"text-xl\" />\n                <span>Pay with Crypto</span>\n                <SiEthereum className=\"text-lg\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Crypto info banner */}\n          {paymentMethod === 'crypto' && (\n            <div className=\"mt-4 bg-orange-500/10 border border-orange-500/30 rounded-lg p-4\">\n              <div className=\"flex items-center gap-2 text-orange-300 text-sm\">\n                <FaBitcoin className=\"flex-shrink-0\" />\n                <span>\n                  Pay with Bitcoin, Ethereum, USDC, and other cryptocurrencies via Coinbase Commerce.\n                  Crypto payments are one-time (no auto-renewal).\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Pricing Cards */}\n        <div className=\"grid md:grid-cols-3 gap-8 mb-12\">\n          {plans.map((plan) => {\n            const badge = getPlanBadge(plan.plan_type);\n            const savings = calculateSavings(plan);\n            const isProcessing = processingPlan === plan.plan_type;\n            const cryptoAvailable = isCryptoAvailable(plan.plan_type);\n            const showCryptoUnavailable = paymentMethod === 'crypto' && !cryptoAvailable;\n\n            return (\n              <div\n                key={plan.id}\n                className={`relative bg-gradient-to-br ${getPlanColor(plan.plan_type)} p-8 rounded-2xl border-4 ${\n                  badge ? 'scale-105 shadow-2xl z-10' : 'opacity-90 hover:opacity-100'\n                } transition-all duration-300 hover:scale-105 ${showCryptoUnavailable ? 'opacity-60' : ''}`}\n              >\n                {badge && (\n                  <div className=\"absolute -top-4 left-1/2 transform -translate-x-1/2 w-full text-center\">\n                    <span className={`${badge.color} px-4 py-1 rounded-full text-sm font-bold shadow-lg`}>\n                      {badge.text}\n                    </span>\n                  </div>\n                )}\n\n                <div className=\"text-center mb-6\">\n                  <h3 className=\"text-2xl font-bold text-white mb-2\">{plan.name}</h3>\n                  <div className=\"text-5xl font-bold text-white mb-2\">${plan.price}</div>\n                  <div className=\"text-gray-200\">\n                    for {plan.total_months} month{plan.total_months > 1 ? 's' : ''}\n                  </div>\n                  {plan.bonus_months > 0 && (\n                    <div className=\"mt-2\">\n                      <span className=\"bg-green-400 text-gray-900 px-3 py-1 rounded-full text-sm font-bold animate-pulse\">\n                        +{plan.bonus_months} MONTH{plan.bonus_months > 1 ? 'S' : ''} FREE\n                      </span>\n                    </div>\n                  )}\n                  {savings && (\n                    <div className=\"text-green-300 font-bold mt-2\">Save ${savings}</div>\n                  )}\n                </div>\n\n                <div className=\"space-y-3 mb-8\">\n                  {['Priority access to all servers', 'No disconnections', 'Faster connection speeds', `Up to ${plan.max_devices} devices`, '24/7 priority support', 'Unlimited bandwidth', 'Cancel anytime'].map((f, i) => (\n                    <div key={i} className=\"flex items-center text-white\">\n                      <FaCheck className=\"text-green-300 mr-3 flex-shrink-0\" />\n                      <span>{f}</span>\n                    </div>\n                  ))}\n                </div>\n\n                {showCryptoUnavailable ? (\n                  <div className=\"w-full py-4 rounded-lg font-bold text-center text-gray-300 bg-gray-600/50\">\n                    Crypto not available for this plan\n                  </div>\n                ) : (\n                  <button\n                    onClick={() => handleSubscribe(plan)}\n                    disabled={isProcessing}\n                    className={`w-full py-4 rounded-lg font-bold text-xl transition transform shadow-lg ${\n                      isProcessing\n                        ? 'bg-gray-500 cursor-not-allowed'\n                        : paymentMethod === 'crypto'\n                          ? 'bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white hover:scale-105'\n                          : 'bg-white hover:bg-gray-100 hover:scale-105 text-gray-900'\n                    }`}\n                  >\n                    {isProcessing ? (\n                      <span className=\"flex items-center justify-center\">\n                        <FaSpinner className=\"animate-spin mr-2\" />\n                        Processing...\n                      </span>\n                    ) : paymentMethod === 'crypto' ? (\n                      <span className=\"flex items-center justify-center gap-2\">\n                        <FaBitcoin /> Pay with Crypto\n                      </span>\n                    ) : (\n                      <span>Subscribe Now</span>\n                    )}\n                  </button>\n                )}\n\n                <p className=\"text-center text-white text-sm mt-4 opacity-75 flex items-center justify-center\">\n                  {paymentMethod === 'crypto' ? (\n                    <>\n                      <FaBitcoin className=\"mr-1\" /> Powered by Coinbase Commerce\n                    </>\n                  ) : (\n                    <>\n                      <FaShieldAlt className=\"mr-1\" /> Secure payment via Stripe\n                    </>\n                  )}\n                </p>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Comparison */}\n        <div className=\"bg-white/10 backdrop-blur-md p-8 rounded-2xl border border-white/20 max-w-4xl mx-auto mb-12\">\n          <h3 className=\"text-2xl font-bold text-white mb-6 text-center\">Free vs Premium</h3>\n          <div className=\"grid md:grid-cols-2 gap-8\">\n            <div>\n              <h4 className=\"font-bold text-white mb-4 text-xl\">Free Plan</h4>\n              <ul className=\"space-y-3 text-gray-300\">\n                <li className=\"flex items-start\"><span className=\"text-green-400 mr-2\">&#10003;</span><span>Access to all servers</span></li>\n                <li className=\"flex items-start\"><span className=\"text-green-400 mr-2\">&#10003;</span><span>All VPN protocols</span></li>\n                <li className=\"flex items-start\"><span className=\"text-yellow-400 mr-2\">&#9888;</span><span>Queue-based access (250 safe slots)</span></li>\n                <li className=\"flex items-start\"><span className=\"text-yellow-400 mr-2\">&#9888;</span><span>May disconnect when full (20-min grace)</span></li>\n                <li className=\"flex items-start\"><span className=\"text-yellow-400 mr-2\">&#9888;</span><span>Standard speeds</span></li>\n                <li className=\"flex items-start\"><span className=\"text-yellow-400 mr-2\">&#9888;</span><span>1 device only</span></li>\n              </ul>\n            </div>\n            <div>\n              <h4 className=\"font-bold text-white mb-4 text-xl\">Premium Plan</h4>\n              <ul className=\"space-y-3 text-green-300\">\n                <li className=\"flex items-start\"><span className=\"text-green-400 mr-2\">&#10003;</span><span>Priority access &mdash; never wait</span></li>\n                <li className=\"flex items-start\"><span className=\"text-green-400 mr-2\">&#10003;</span><span>Never disconnected</span></li>\n                <li className=\"flex items-start\"><span className=\"text-green-400 mr-2\">&#10003;</span><span>Faster speeds</span></li>\n                <li className=\"flex items-start\"><span className=\"text-green-400 mr-2\">&#10003;</span><span>Priority support</span></li>\n                <li className=\"flex items-start\"><span className=\"text-green-400 mr-2\">&#10003;</span><span>Unlimited bandwidth</span></li>\n                <li className=\"flex items-start\"><span className=\"text-green-400 mr-2\">&#10003;</span><span>Up to 3 devices</span></li>\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        {/* Terms footnote */}\n        <div className=\"max-w-4xl mx-auto text-center\">\n          <p className=\"text-gray-400 text-xs\">\n            {paymentMethod === 'crypto'\n              ? 'Crypto payments are one-time and will not auto-renew. '\n              : 'You can cancel anytime to prevent future charges. '}\n            All sales are final. By subscribing you agree to our{' '}\n            <Link to=\"/terms\" className=\"underline hover:text-gray-300\">Terms of Service</Link>.\n          </p>\n        </div>\n\n        {/* Accepted Cryptocurrencies */}\n        {paymentMethod === 'crypto' && (\n          <div className=\"bg-white/10 backdrop-blur-md p-6 rounded-2xl border border-white/20 max-w-4xl mx-auto mt-8\">\n            <h3 className=\"text-xl font-bold text-white mb-4 text-center\">Accepted Cryptocurrencies</h3>\n            <div className=\"flex flex-wrap items-center justify-center gap-6\">\n              {[\n                { name: 'Bitcoin', symbol: 'BTC', color: 'text-orange-400' },\n                { name: 'Ethereum', symbol: 'ETH', color: 'text-blue-400' },\n                { name: 'USD Coin', symbol: 'USDC', color: 'text-blue-300' },\n                { name: 'Litecoin', symbol: 'LTC', color: 'text-gray-300' },\n                { name: 'Dogecoin', symbol: 'DOGE', color: 'text-yellow-400' },\n                { name: 'DAI', symbol: 'DAI', color: 'text-yellow-300' },\n              ].map((coin) => (\n                <div key={coin.symbol} className=\"flex flex-col items-center gap-1\">\n                  <div className={`text-2xl font-bold ${coin.color}`}>{coin.symbol}</div>\n                  <div className=\"text-xs text-gray-400\">{coin.name}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default VPNXOSubscribe;\n","import { useEffect } from 'react';\r\n\r\n/**\r\n * Sets the document title for the current page.\r\n * Resets to default title on unmount.\r\n * @param {string} title - Page-specific title\r\n */\r\nconst useDocumentTitle = (title) => {\r\n  useEffect(() => {\r\n    const prev = document.title;\r\n    document.title = title ? `${title} | VPN XO` : 'VPN XO - Secure VPN Service';\r\n    return () => { document.title = prev; };\r\n  }, [title]);\r\n};\r\n\r\nexport default useDocumentTitle;\r\n"],"names":["CRYPTO_SUPPORTED_PLANS","VPNXOSubscribe","useDocumentTitle","navigate","useNavigate","user","isAuthenticated","useAuth","plans","setPlans","useState","loading","setLoading","error","setError","processingPlan","setProcessingPlan","paymentMethod","setPaymentMethod","useEffect","loadPlans","async","API_BASE","process","response","axios","get","concat","sortedPlans","data","filter","p","price","sort","a","b","err","getPlanColor","planType","_jsx","className","children","_jsxs","FaSpinner","Link","to","src","alt","_Fragment","email","FaCrown","onClick","FaCreditCard","FaShieldAlt","FaBitcoin","SiEthereum","map","plan","badge","text","color","getPlanBadge","plan_type","savings","bonus_months","total_months","toFixed","calculateSavings","isProcessing","cryptoAvailable","includes","showCryptoUnavailable","name","max_devices","f","i","FaCheck","apiService","createCoinbaseCharge","createCheckoutSession","priceId","stripe_price_id","url","window","location","href","Error","_err$response","_err$response$data","handleSubscribe","disabled","id","symbol","coin","title","prev","document"],"sourceRoot":""}