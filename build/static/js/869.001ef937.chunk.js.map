{"version":3,"file":"static/js/869.001ef937.chunk.js","mappings":"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","sources":["hooks/useDocumentTitle.js","pages/ResetPassword.js"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\n/**\r\n * Sets the document title for the current page.\r\n * Resets to default title on unmount.\r\n * @param {string} title - Page-specific title\r\n */\r\nconst useDocumentTitle = (title) => {\r\n  useEffect(() => {\r\n    const prev = document.title;\r\n    document.title = title ? `${title} | VPN XO` : 'VPN XO - Secure VPN Service';\r\n    return () => { document.title = prev; };\r\n  }, [title]);\r\n};\r\n\r\nexport default useDocumentTitle;\r\n","import React, { useState, useMemo } from 'react';\r\nimport { Link, useSearchParams } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { FaLock, FaArrowLeft, FaCheckCircle, FaExclamationTriangle, FaEye, FaEyeSlash } from 'react-icons/fa';\r\nimport { apiService } from '../services/api';\r\nimport useDocumentTitle from '../hooks/useDocumentTitle';\r\n\r\nconst ResetPassword = () => {\r\n    useDocumentTitle('Reset Password');\r\n    const [searchParams] = useSearchParams();\r\n    const token = useMemo(() => searchParams.get('token'), [searchParams]);\r\n\r\n    const [newPassword, setNewPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        if (!newPassword || !confirmPassword) {\r\n            setError('Please fill in both password fields');\r\n            return;\r\n        }\r\n\r\n        if (newPassword.length < 8) {\r\n            setError('Password must be at least 8 characters long');\r\n            return;\r\n        }\r\n\r\n        if (newPassword !== confirmPassword) {\r\n            setError('Passwords do not match');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            await apiService.resetPassword(token, newPassword);\r\n            setSuccess(true);\r\n        } catch (err) {\r\n            const message =\r\n                err.response?.data?.error ||\r\n                err.response?.data?.message ||\r\n                'Failed to reset password. The link may have expired.';\r\n            setError(message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // No token in URL\r\n    if (!token) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4\">\r\n                <motion.div\r\n                    className=\"w-full max-w-md relative z-10\"\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ duration: 0.5 }}\r\n                >\r\n                    <div className=\"bg-gray-800 bg-opacity-80 backdrop-blur-lg rounded-2xl shadow-2xl p-8 border border-gray-700\">\r\n                        <div className=\"text-center\">\r\n                            <FaExclamationTriangle className=\"text-yellow-400 text-5xl mx-auto mb-4\" />\r\n                            <h1 className=\"text-2xl font-bold text-white mb-2\">Invalid Reset Link</h1>\r\n                            <p className=\"text-gray-300 mb-6\">\r\n                                This password reset link is invalid or missing the required token.\r\n                            </p>\r\n                            <Link\r\n                                to=\"/forgot-password\"\r\n                                className=\"inline-block bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-full font-semibold hover:shadow-lg transition-all\"\r\n                            >\r\n                                Request New Reset Link\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center p-4\">\r\n            {/* Background Animation */}\r\n            <div className=\"absolute inset-0 overflow-hidden\">\r\n                <motion.div\r\n                    className=\"absolute top-20 left-10 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20\"\r\n                    animate={{ x: [0, 100, 0], y: [0, 50, 0] }}\r\n                    transition={{ duration: 20, repeat: Infinity, ease: \"easeInOut\" }}\r\n                />\r\n            </div>\r\n\r\n            <motion.div\r\n                className=\"w-full max-w-md relative z-10\"\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.5 }}\r\n            >\r\n                <Link\r\n                    to=\"/login\"\r\n                    className=\"inline-flex items-center text-white hover:text-blue-300 mb-6 transition\"\r\n                >\r\n                    <FaArrowLeft className=\"mr-2\" />\r\n                    Back to Login\r\n                </Link>\r\n\r\n                <div className=\"bg-gray-800 bg-opacity-80 backdrop-blur-lg rounded-2xl shadow-2xl p-8 border border-gray-700\">\r\n                    <div className=\"text-center mb-8\">\r\n                        <motion.img\r\n                            src=\"/logos/logo_vpnxo_original.png\"\r\n                            alt=\"VPN XO\"\r\n                            className=\"h-16 mx-auto mb-4\"\r\n                            initial={{ scale: 0.8 }}\r\n                            animate={{ scale: 1 }}\r\n                            transition={{ duration: 0.3 }}\r\n                        />\r\n                        <h1 className=\"text-3xl font-bold text-white mb-2\">Set New Password</h1>\r\n                        <p className=\"text-gray-300\">\r\n                            Enter your new password below\r\n                        </p>\r\n                    </div>\r\n\r\n                    {success ? (\r\n                        <motion.div\r\n                            className=\"text-center\"\r\n                            initial={{ opacity: 0, scale: 0.9 }}\r\n                            animate={{ opacity: 1, scale: 1 }}\r\n                        >\r\n                            <FaCheckCircle className=\"text-green-400 text-5xl mx-auto mb-4\" />\r\n                            <h2 className=\"text-xl font-bold text-white mb-2\">Password Reset Successfully!</h2>\r\n                            <p className=\"text-gray-300 mb-6\">\r\n                                Your password has been updated. You can now sign in with your new password.\r\n                            </p>\r\n                            <Link\r\n                                to=\"/login\"\r\n                                className=\"inline-block bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-full font-semibold hover:shadow-lg transition-all\"\r\n                            >\r\n                                Go to Login\r\n                            </Link>\r\n                        </motion.div>\r\n                    ) : (\r\n                        <>\r\n                            {error && (\r\n                                <motion.div\r\n                                    className=\"mb-6 p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-200\"\r\n                                    initial={{ opacity: 0, y: -10 }}\r\n                                    animate={{ opacity: 1, y: 0 }}\r\n                                >\r\n                                    <p className=\"text-sm\">{error}</p>\r\n                                </motion.div>\r\n                            )}\r\n\r\n                            <form onSubmit={handleSubmit}>\r\n                                <div className=\"mb-4\">\r\n                                    <label className=\"block text-gray-300 text-sm font-medium mb-2\">\r\n                                        New Password\r\n                                    </label>\r\n                                    <div className=\"relative\">\r\n                                        <FaLock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n                                        <input\r\n                                            type={showPassword ? 'text' : 'password'}\r\n                                            value={newPassword}\r\n                                            onChange={(e) => { setNewPassword(e.target.value); setError(''); }}\r\n                                            placeholder=\"Enter new password\"\r\n                                            className=\"w-full pl-10 pr-12 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\r\n                                            required\r\n                                            minLength={8}\r\n                                        />\r\n                                        <button type=\"button\" onClick={() => setShowPassword(!showPassword)} className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition\" tabIndex={-1}>\r\n                                          {showPassword ? <FaEyeSlash /> : <FaEye />}\r\n                                        </button>\r\n                                    </div>\r\n                                    <p className=\"text-gray-500 text-xs mt-1\">Minimum 8 characters</p>\r\n                                </div>\r\n\r\n                                <div className=\"mb-6\">\r\n                                    <label className=\"block text-gray-300 text-sm font-medium mb-2\">\r\n                                        Confirm New Password\r\n                                    </label>\r\n                                    <div className=\"relative\">\r\n                                        <FaLock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n                                        <input\r\n                                            type={showConfirmPassword ? 'text' : 'password'}\r\n                                            value={confirmPassword}\r\n                                            onChange={(e) => { setConfirmPassword(e.target.value); setError(''); }}\r\n                                            placeholder=\"Confirm new password\"\r\n                                            className=\"w-full pl-10 pr-12 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\r\n                                            required\r\n                                            minLength={8}\r\n                                        />\r\n                                        <button type=\"button\" onClick={() => setShowConfirmPassword(!showConfirmPassword)} className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition\" tabIndex={-1}>\r\n                                          {showConfirmPassword ? <FaEyeSlash /> : <FaEye />}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    disabled={loading}\r\n                                    className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                >\r\n                                    {loading ? (\r\n                                        <span className=\"flex items-center justify-center\">\r\n                                            <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                                            </svg>\r\n                                            Resetting Password...\r\n                                        </span>\r\n                                    ) : (\r\n                                        'Reset Password'\r\n                                    )}\r\n                                </button>\r\n                            </form>\r\n\r\n                            <div className=\"text-center mt-6\">\r\n                                <p className=\"text-gray-300\">\r\n                                    Remember your password?{' '}\r\n                                    <Link to=\"/login\" className=\"text-blue-400 hover:text-blue-300 font-semibold\">\r\n                                        Sign in\r\n                                    </Link>\r\n                                </p>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </motion.div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ResetPassword;\r\n"],"names":["title","useEffect","prev","document","concat","ResetPassword","useDocumentTitle","searchParams","useSearchParams","token","useMemo","get","newPassword","setNewPassword","useState","confirmPassword","setConfirmPassword","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","error","setError","success","setSuccess","loading","setLoading","_jsxs","className","children","_jsx","motion","div","animate","x","y","transition","duration","repeat","Infinity","ease","initial","opacity","Link","to","FaArrowLeft","img","src","alt","scale","FaCheckCircle","_Fragment","onSubmit","async","e","preventDefault","length","apiService","resetPassword","err","_err$response","_err$response$data","_err$response2","_err$response2$data","message","response","data","FaLock","type","value","onChange","target","placeholder","required","minLength","onClick","tabIndex","FaEyeSlash","FaEye","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","FaExclamationTriangle"],"sourceRoot":""}