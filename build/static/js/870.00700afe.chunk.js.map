{"version":3,"file":"static/js/870.00700afe.chunk.js","mappings":"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","sources":["hooks/useConfirm.js","components/common/Button.js","components/common/ConfirmDialog.js","components/common/Modal.js","components/admin/modals/UserEditModal.js","components/admin/modals/ServerModal.js","components/admin/modals/DeleteConfirmModal.js","components/admin/PaymentManagement.js","components/admin/SystemSettings.js","hooks/useDebounce.js","components/admin/TicketManagement.js","components/admin/ContactMessages.js","components/admin/ErrorTracking.js","components/admin/DiscountCampaignManager.jsx","components/admin/AuditTrail.js","components/admin/GeoAnalytics.js","components/admin/EmailTemplateManager.js","components/admin/AnnouncementManager.js","components/admin/UserDetailModal.js","components/admin/IPDeviceBanManager.js","components/admin/VPSMetrics.js","components/admin/AlertManager.js","components/admin/ServerCommandCenter.js","components/admin/SegmentAnalytics.js","components/admin/AbuseDetection.js","components/admin/SessionControl.js","components/admin/LoadBalancer.js","components/admin/QoSManagement.js","components/admin/GDPRCompliance.js","pages/AdminDashboard.js","hooks/useDocumentTitle.js","components/common/Card.js"],"sourcesContent":["import { useState, useCallback } from 'react';\r\n\r\n/**\r\n * Hook that provides a confirm() replacement using ConfirmDialog.\r\n * \r\n * Usage:\r\n *   const { confirm, dialogProps } = useConfirm();\r\n *   \r\n *   const handleDelete = async () => {\r\n *     const ok = await confirm({\r\n *       title: 'Delete user?',\r\n *       message: 'This action cannot be undone.',\r\n *       confirmText: 'Delete',\r\n *       variant: 'danger',\r\n *     });\r\n *     if (ok) { ... }\r\n *   };\r\n *   \r\n *   return <><ConfirmDialog {...dialogProps} /> ... </>;\r\n */\r\nconst useConfirm = () => {\r\n  const [state, setState] = useState({\r\n    isOpen: false,\r\n    title: 'Are you sure?',\r\n    message: '',\r\n    confirmText: 'Confirm',\r\n    cancelText: 'Cancel',\r\n    variant: 'danger',\r\n    resolve: null,\r\n  });\r\n\r\n  const confirm = useCallback((options = {}) => {\r\n    return new Promise((resolve) => {\r\n      setState({\r\n        isOpen: true,\r\n        title: options.title || 'Are you sure?',\r\n        message: options.message || '',\r\n        confirmText: options.confirmText || 'Confirm',\r\n        cancelText: options.cancelText || 'Cancel',\r\n        variant: options.variant || 'danger',\r\n        resolve,\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  const onConfirm = useCallback(() => {\r\n    state.resolve?.(true);\r\n    setState(prev => ({ ...prev, isOpen: false, resolve: null }));\r\n  }, [state.resolve]);\r\n\r\n  const onCancel = useCallback(() => {\r\n    state.resolve?.(false);\r\n    setState(prev => ({ ...prev, isOpen: false, resolve: null }));\r\n  }, [state.resolve]);\r\n\r\n  const dialogProps = {\r\n    isOpen: state.isOpen,\r\n    title: state.title,\r\n    message: state.message,\r\n    confirmText: state.confirmText,\r\n    cancelText: state.cancelText,\r\n    variant: state.variant,\r\n    onConfirm,\r\n    onCancel,\r\n  };\r\n\r\n  return { confirm, dialogProps };\r\n};\r\n\r\nexport default useConfirm;\r\n","import React from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst Button = ({\r\n  children,\r\n  variant = 'primary',\r\n  size = 'md',\r\n  fullWidth = false,\r\n  disabled = false,\r\n  loading = false,\r\n  icon,\r\n  onClick,\r\n  type = 'button',\r\n  className = '',\r\n  ...props\r\n}) => {\r\n  const baseClasses = 'font-bold rounded-full transition-all duration-300 flex items-center justify-center';\r\n\r\n  const variantClasses = {\r\n    primary: 'bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl',\r\n    secondary: 'bg-green-500 hover:bg-green-600 text-white shadow-lg hover:shadow-xl',\r\n    outline: 'bg-white bg-opacity-10 hover:bg-opacity-20 text-white border-2 border-white border-opacity-30',\r\n    ghost: 'bg-transparent hover:bg-white hover:bg-opacity-10 text-white',\r\n    danger: 'bg-red-500 hover:bg-red-600 text-white shadow-lg hover:shadow-xl',\r\n    success: 'bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl',\r\n    warning: 'bg-yellow-500 hover:bg-yellow-600 text-gray-900 shadow-lg hover:shadow-xl',\r\n    solid: 'bg-white hover:bg-gray-100 text-gray-900 shadow-lg hover:shadow-xl',\r\n  };\r\n\r\n  const sizeClasses = {\r\n    sm: 'px-4 py-2 text-sm',\r\n    md: 'px-6 py-3 text-base',\r\n    lg: 'px-10 py-4 text-lg',\r\n    xl: 'px-12 py-5 text-xl',\r\n  };\r\n\r\n  const widthClass = fullWidth ? 'w-full' : '';\r\n\r\n  const disabledClasses = disabled || loading\r\n    ? 'opacity-50 cursor-not-allowed'\r\n    : 'cursor-pointer transform hover:scale-105';\r\n\r\n  const classes = `\r\n    ${baseClasses}\r\n    ${variantClasses[variant]}\r\n    ${sizeClasses[size]}\r\n    ${widthClass}\r\n    ${disabledClasses}\r\n    ${className}\r\n  `.trim().replace(/\\s+/g, ' ');\r\n\r\n  return (\r\n    <motion.button\r\n      type={type}\r\n      className={classes}\r\n      onClick={onClick}\r\n      disabled={disabled || loading}\r\n      whileTap={{ scale: disabled || loading ? 1 : 0.95 }}\r\n      {...props}\r\n    >\r\n      {loading ? (\r\n        <>\r\n          <svg\r\n            className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <circle\r\n              className=\"opacity-25\"\r\n              cx=\"12\"\r\n              cy=\"12\"\r\n              r=\"10\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"4\"\r\n            ></circle>\r\n            <path\r\n              className=\"opacity-75\"\r\n              fill=\"currentColor\"\r\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n            ></path>\r\n          </svg>\r\n          Loading...\r\n        </>\r\n      ) : (\r\n        <>\r\n          {icon && <span className=\"mr-2\">{icon}</span>}\r\n          {children}\r\n        </>\r\n      )}\r\n    </motion.button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { FaExclamationTriangle } from 'react-icons/fa';\r\n\r\n/**\r\n * Reusable confirmation dialog to replace window.confirm().\r\n * \r\n * @param {boolean} isOpen - Whether the dialog is visible\r\n * @param {string} title - Dialog title\r\n * @param {string} message - Dialog message/description\r\n * @param {string} confirmText - Text for the confirm button (default: \"Confirm\")\r\n * @param {string} cancelText - Text for the cancel button (default: \"Cancel\")\r\n * @param {string} variant - \"danger\" | \"warning\" | \"info\" (default: \"danger\")\r\n * @param {function} onConfirm - Called when user confirms\r\n * @param {function} onCancel - Called when user cancels\r\n */\r\nconst ConfirmDialog = ({\r\n  isOpen,\r\n  title = 'Are you sure?',\r\n  message = '',\r\n  confirmText = 'Confirm',\r\n  cancelText = 'Cancel',\r\n  variant = 'danger',\r\n  onConfirm,\r\n  onCancel,\r\n}) => {\r\n  const variantStyles = {\r\n    danger: {\r\n      icon: 'text-red-400',\r\n      button: 'bg-red-600 hover:bg-red-700 focus:ring-red-500',\r\n      bg: 'bg-red-900 bg-opacity-20',\r\n    },\r\n    warning: {\r\n      icon: 'text-yellow-400',\r\n      button: 'bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500',\r\n      bg: 'bg-yellow-900 bg-opacity-20',\r\n    },\r\n    info: {\r\n      icon: 'text-blue-400',\r\n      button: 'bg-blue-600 hover:bg-blue-700 focus:ring-blue-500',\r\n      bg: 'bg-blue-900 bg-opacity-20',\r\n    },\r\n  };\r\n\r\n  const style = variantStyles[variant] || variantStyles.danger;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <motion.div\r\n          className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          transition={{ duration: 0.15 }}\r\n        >\r\n          {/* Backdrop */}\r\n          <div\r\n            className=\"absolute inset-0 bg-black bg-opacity-60\"\r\n            onClick={onCancel}\r\n          />\r\n\r\n          {/* Dialog */}\r\n          <motion.div\r\n            className=\"relative bg-gray-800 rounded-xl shadow-2xl border border-gray-700 max-w-md w-full p-6\"\r\n            initial={{ scale: 0.9, opacity: 0 }}\r\n            animate={{ scale: 1, opacity: 1 }}\r\n            exit={{ scale: 0.9, opacity: 0 }}\r\n            transition={{ duration: 0.15 }}\r\n            role=\"alertdialog\"\r\n            aria-modal=\"true\"\r\n            aria-labelledby=\"confirm-dialog-title\"\r\n            aria-describedby=\"confirm-dialog-message\"\r\n          >\r\n            <div className=\"flex items-start gap-4\">\r\n              <div className={`flex-shrink-0 p-2 rounded-full ${style.bg}`}>\r\n                <FaExclamationTriangle className={`text-xl ${style.icon}`} />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h3\r\n                  id=\"confirm-dialog-title\"\r\n                  className=\"text-lg font-semibold text-white mb-1\"\r\n                >\r\n                  {title}\r\n                </h3>\r\n                <p\r\n                  id=\"confirm-dialog-message\"\r\n                  className=\"text-sm text-gray-300 leading-relaxed\"\r\n                >\r\n                  {message}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 mt-6\">\r\n              <button\r\n                onClick={onCancel}\r\n                className=\"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition\"\r\n              >\r\n                {cancelText}\r\n              </button>\r\n              <button\r\n                onClick={onConfirm}\r\n                className={`px-4 py-2 text-sm font-medium text-white rounded-lg focus:outline-none focus:ring-2 transition ${style.button}`}\r\n                autoFocus\r\n              >\r\n                {confirmText}\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default ConfirmDialog;\r\n","import React, { useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { FaTimes } from 'react-icons/fa';\r\n\r\n/**\r\n * AAA-Level Modal Component\r\n * Features:\r\n * - Smooth animations\r\n * - Backdrop click to close\r\n * - ESC key to close\r\n * - Focus trap\r\n * - Accessible (ARIA)\r\n * - Responsive design\r\n */\r\nconst Modal = ({\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  children,\r\n  size = 'md',\r\n  showCloseButton = true,\r\n  closeOnBackdrop = true,\r\n  closeOnEsc = true,\r\n  footer,\r\n}) => {\r\n  // Handle ESC key\r\n  useEffect(() => {\r\n    if (!isOpen || !closeOnEsc) return;\r\n\r\n    const handleEsc = (e) => {\r\n      if (e.key === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEsc);\r\n    return () => document.removeEventListener('keydown', handleEsc);\r\n  }, [isOpen, closeOnEsc, onClose]);\r\n\r\n  // Prevent body scroll when modal is open\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  const sizeClasses = {\r\n    sm: 'max-w-md',\r\n    md: 'max-w-2xl',\r\n    lg: 'max-w-4xl',\r\n    xl: 'max-w-6xl',\r\n    full: 'max-w-full mx-4',\r\n  };\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <div\r\n          className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n          aria-labelledby=\"modal-title\"\r\n        >\r\n          {/* Backdrop */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 0.2 }}\r\n            className=\"absolute inset-0 bg-black bg-opacity-75 backdrop-blur-sm\"\r\n            onClick={closeOnBackdrop ? onClose : undefined}\r\n          />\r\n\r\n          {/* Modal Content */}\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n            transition={{ duration: 0.2, ease: 'easeOut' }}\r\n            className={`relative w-full ${sizeClasses[size]} bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl shadow-2xl border border-white border-opacity-10 max-h-[90vh] flex flex-col`}\r\n          >\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between p-6 border-b border-white border-opacity-10\">\r\n              <h2\r\n                id=\"modal-title\"\r\n                className=\"text-2xl font-bold text-white\"\r\n              >\r\n                {title}\r\n              </h2>\r\n              {showCloseButton && (\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"text-gray-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-white hover:bg-opacity-10\"\r\n                  aria-label=\"Close modal\"\r\n                >\r\n                  <FaTimes size={20} />\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Body */}\r\n            <div className=\"flex-1 overflow-y-auto p-6\">\r\n              {children}\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            {footer && (\r\n              <div className=\"p-6 border-t border-white border-opacity-10\">\r\n                {footer}\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState } from 'react';\r\nimport Modal from '../../common/Modal';\r\nimport Button from '../../common/Button';\r\nimport { FaUser, FaCrown, FaShieldAlt, FaEnvelope, FaCheckCircle, FaBan } from 'react-icons/fa';\r\nimport { apiService } from '../../../services/api';\r\n\r\n/**\r\n * AAA-Level User Edit Modal\r\n * Features:\r\n * - Form validation\r\n * - Error handling\r\n * - Loading states\r\n * - Success feedback\r\n * - Professional UI\r\n * - Accessibility\r\n */\r\nconst UserEditModal = ({ isOpen, onClose, user, onSuccess }) => {\r\n  const [formData, setFormData] = useState({\r\n    email: user?.email || '',\r\n    tier: user?.tier || 'free',\r\n    status: user?.status || 'active',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const handleChange = (field, value) => {\r\n    setFormData((prev) => ({ ...prev, [field]: value }));\r\n    setError(null);\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (!formData.email || !formData.email.includes('@')) {\r\n      setError('Please enter a valid email address');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await apiService.updateUser(user.id, formData);\r\n      setSuccess(true);\r\n      \r\n      // Show success message briefly\r\n      setTimeout(() => {\r\n        onSuccess();\r\n        onClose();\r\n      }, 1000);\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'Failed to update user');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const tierOptions = [\r\n    { value: 'free', label: 'Free', icon: FaUser, color: 'gray' },\r\n    { value: 'paid', label: 'Premium', icon: FaCrown, color: 'purple' },\r\n    { value: 'admin', label: 'Admin', icon: FaShieldAlt, color: 'yellow' },\r\n  ];\r\n\r\n  const statusOptions = [\r\n    { value: 'active', label: 'Active', icon: FaCheckCircle, color: 'green' },\r\n    { value: 'suspended', label: 'Suspended', icon: FaBan, color: 'red' },\r\n    { value: 'deleted', label: 'Deleted', icon: FaBan, color: 'gray' },\r\n  ];\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title=\"Edit User\"\r\n      size=\"md\"\r\n      footer={\r\n        <div className=\"flex gap-3 justify-end\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={onClose}\r\n            disabled={loading}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            variant=\"primary\"\r\n            onClick={handleSubmit}\r\n            loading={loading}\r\n            disabled={success}\r\n          >\r\n            {success ? 'Saved!' : 'Save Changes'}\r\n          </Button>\r\n        </div>\r\n      }\r\n    >\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"bg-red-500 bg-opacity-10 border border-red-500 rounded-lg p-4\">\r\n            <p className=\"text-red-400 text-sm\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Success Message */}\r\n        {success && (\r\n          <div className=\"bg-green-500 bg-opacity-10 border border-green-500 rounded-lg p-4\">\r\n            <p className=\"text-green-400 text-sm flex items-center\">\r\n              <FaCheckCircle className=\"mr-2\" />\r\n              User updated successfully!\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Email Field */}\r\n        <div>\r\n          <label className=\"block text-sm font-semibold text-gray-300 mb-2\">\r\n            Email Address\r\n          </label>\r\n          <div className=\"relative\">\r\n            <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\r\n              <FaEnvelope className=\"text-gray-400\" />\r\n            </div>\r\n            <input\r\n              type=\"email\"\r\n              value={formData.email}\r\n              onChange={(e) => handleChange('email', e.target.value)}\r\n              className=\"w-full pl-12 pr-4 py-3 bg-white bg-opacity-5 border border-white border-opacity-10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\r\n              placeholder=\"user@example.com\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tier Selection */}\r\n        <div>\r\n          <label className=\"block text-sm font-semibold text-gray-300 mb-3\">\r\n            User Tier\r\n          </label>\r\n          <div className=\"grid grid-cols-3 gap-3\">\r\n            {tierOptions.map((option) => {\r\n              const Icon = option.icon;\r\n              const isSelected = formData.tier === option.value;\r\n              \r\n              return (\r\n                <button\r\n                  key={option.value}\r\n                  type=\"button\"\r\n                  onClick={() => handleChange('tier', option.value)}\r\n                  className={`p-4 rounded-lg border-2 transition-all ${\r\n                    isSelected\r\n                      ? `border-${option.color}-500 bg-${option.color}-500 bg-opacity-10`\r\n                      : 'border-white border-opacity-10 hover:border-opacity-30'\r\n                  }`}\r\n                >\r\n                  <Icon\r\n                    className={`mx-auto mb-2 text-2xl ${\r\n                      isSelected ? `text-${option.color}-400` : 'text-gray-400'\r\n                    }`}\r\n                  />\r\n                  <p\r\n                    className={`text-sm font-semibold ${\r\n                      isSelected ? 'text-white' : 'text-gray-400'\r\n                    }`}\r\n                  >\r\n                    {option.label}\r\n                  </p>\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Status Selection */}\r\n        <div>\r\n          <label className=\"block text-sm font-semibold text-gray-300 mb-3\">\r\n            Account Status\r\n          </label>\r\n          <div className=\"grid grid-cols-3 gap-3\">\r\n            {statusOptions.map((option) => {\r\n              const Icon = option.icon;\r\n              const isSelected = formData.status === option.value;\r\n              \r\n              return (\r\n                <button\r\n                  key={option.value}\r\n                  type=\"button\"\r\n                  onClick={() => handleChange('status', option.value)}\r\n                  className={`p-4 rounded-lg border-2 transition-all ${\r\n                    isSelected\r\n                      ? `border-${option.color}-500 bg-${option.color}-500 bg-opacity-10`\r\n                      : 'border-white border-opacity-10 hover:border-opacity-30'\r\n                  }`}\r\n                >\r\n                  <Icon\r\n                    className={`mx-auto mb-2 text-2xl ${\r\n                      isSelected ? `text-${option.color}-400` : 'text-gray-400'\r\n                    }`}\r\n                  />\r\n                  <p\r\n                    className={`text-sm font-semibold ${\r\n                      isSelected ? 'text-white' : 'text-gray-400'\r\n                    }`}\r\n                  >\r\n                    {option.label}\r\n                  </p>\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* User Info */}\r\n        <div className=\"bg-white bg-opacity-5 rounded-lg p-4 space-y-2\">\r\n          <div className=\"flex justify-between text-sm\">\r\n            <span className=\"text-gray-400\">User ID:</span>\r\n            <span className=\"text-white font-mono\">{user?.id}</span>\r\n          </div>\r\n          <div className=\"flex justify-between text-sm\">\r\n            <span className=\"text-gray-400\">Created:</span>\r\n            <span className=\"text-white\">\r\n              {user?.created_at ? new Date(user.created_at).toLocaleDateString() : 'N/A'}\r\n            </span>\r\n          </div>\r\n          <div className=\"flex justify-between text-sm\">\r\n            <span className=\"text-gray-400\">Last Login:</span>\r\n            <span className=\"text-white\">\r\n              {user?.last_login ? new Date(user.last_login).toLocaleDateString() : 'Never'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default UserEditModal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Modal from '../../common/Modal';\r\nimport Button from '../../common/Button';\r\nimport {\r\n  FaServer,\r\n  FaMapMarkerAlt,\r\n  FaGlobe,\r\n  FaNetworkWired,\r\n  FaUsers,\r\n  FaCheckCircle,\r\n  FaExclamationTriangle,\r\n  FaKey,\r\n  FaTerminal,\r\n  FaShieldAlt,\r\n  FaCog,\r\n  FaEye,\r\n  FaEyeSlash,\r\n} from 'react-icons/fa';\r\nimport { apiService } from '../../../services/api';\r\n\r\n/**\r\n * Comprehensive Server Management Modal\r\n * Manages ALL 25+ DB columns organized in tabbed sections:\r\n *  - Basic Info: name, location, country_code, ip_address, capacity, status\r\n *  - Protocols & Ports: protocol toggles + per-protocol port config\r\n *  - SSH Config: ssh_host, ssh_port, ssh_user, key/password\r\n *  - Advanced: REALITY keys, WireGuard pubkey, V2Ray UUID, bandwidth\r\n */\r\nconst ServerModal = ({ isOpen, onClose, server, onSuccess }) => {\r\n  const isEditMode = !!server;\r\n  const [activeSection, setActiveSection] = useState('basic');\r\n  const [showSshKey, setShowSshKey] = useState(false);\r\n  const [showSshPassword, setShowSshPassword] = useState(false);\r\n  \r\n  const defaultForm = {\r\n    // Basic\r\n    name: '', location: '', country_code: '', ip_address: '',\r\n    capacity: 250, status: 'active',\r\n    // Protocols\r\n    protocols: ['shadowsocks', 'trojan', 'v2ray', 'hysteria'],\r\n    // Ports\r\n    ss_port: 8388, ss_api_port: 8389,\r\n    trojan_api_port: 10443,\r\n    v2ray_api_port: 9443,\r\n    xray_api_port: 0,\r\n    // SSH\r\n    ssh_host: '', ssh_port: 22, ssh_user: 'root',\r\n    ssh_private_key: '', ssh_password: '',\r\n    // Advanced\r\n    wireguard_public_key: '',\r\n    v2ray_uuid: '',\r\n    reality_server_name: '',\r\n    reality_public_key: '',\r\n    reality_short_id: '',\r\n    bandwidth_limit: 0,\r\n  };\r\n\r\n  const [formData, setFormData] = useState(defaultForm);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  // Populate form when server prop changes\r\n  useEffect(() => {\r\n    if (server) {\r\n      setFormData({\r\n        name: server.name || '',\r\n        location: server.location || '',\r\n        country_code: server.country_code || '',\r\n        ip_address: server.ip_address || '',\r\n        capacity: server.capacity || 250,\r\n        status: server.status || 'active',\r\n        protocols: server.protocols || ['shadowsocks'],\r\n        ss_port: server.ss_port || 8388,\r\n        ss_api_port: server.ss_api_port || 8389,\r\n        trojan_api_port: server.trojan_api_port || 10443,\r\n        v2ray_api_port: server.v2ray_api_port || 9443,\r\n        xray_api_port: server.xray_api_port || 0,\r\n        ssh_host: server.ssh_host || '',\r\n        ssh_port: server.ssh_port || 22,\r\n        ssh_user: server.ssh_user || 'root',\r\n        ssh_private_key: '', // Never pre-filled (security)\r\n        ssh_password: '',    // Never pre-filled (security)\r\n        wireguard_public_key: server.wireguard_public_key || '',\r\n        v2ray_uuid: server.v2ray_uuid || '',\r\n        reality_server_name: server.reality_server_name || '',\r\n        reality_public_key: server.reality_public_key || '',\r\n        reality_short_id: server.reality_short_id || '',\r\n        bandwidth_limit: server.bandwidth_limit || 0,\r\n      });\r\n    } else {\r\n      setFormData(defaultForm);\r\n    }\r\n    setActiveSection('basic');\r\n    setError(null);\r\n    setSuccess(false);\r\n  }, [server, isOpen]);\r\n\r\n  const handleChange = (field, value) => {\r\n    setFormData((prev) => ({ ...prev, [field]: value }));\r\n    setError(null);\r\n  };\r\n\r\n  const toggleProtocol = (protocol) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      protocols: prev.protocols.includes(protocol)\r\n        ? prev.protocols.filter((p) => p !== protocol)\r\n        : [...prev.protocols, protocol],\r\n    }));\r\n  };\r\n\r\n  const validateIP = (ip) => {\r\n    const ipRegex = /^(\\d{1,3}\\.){3}\\d{1,3}$/;\r\n    if (!ipRegex.test(ip)) return false;\r\n    return ip.split('.').every((p) => parseInt(p) >= 0 && parseInt(p) <= 255);\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (!formData.name.trim()) return setError('Server name is required') || false;\r\n    if (!formData.location.trim()) return setError('Location is required') || false;\r\n    if (!formData.country_code.trim() || formData.country_code.length !== 2)\r\n      return setError('Country code must be 2 characters') || false;\r\n    if (!validateIP(formData.ip_address)) return setError('Invalid IP address') || false;\r\n    if (formData.capacity < 1) return setError('Capacity must be at least 1') || false;\r\n    if (formData.protocols.length === 0) return setError('Select at least one protocol') || false;\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e?.preventDefault();\r\n    if (!validateForm()) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    // Build payload  only send non-empty SSH fields in edit mode\r\n    const payload = { ...formData };\r\n    if (isEditMode) {\r\n      if (!payload.ssh_private_key) delete payload.ssh_private_key;\r\n      if (!payload.ssh_password) delete payload.ssh_password;\r\n    }\r\n\r\n    try {\r\n      if (isEditMode) {\r\n        await apiService.updateServer(server.id, payload);\r\n      } else {\r\n        await apiService.addServer(payload);\r\n      }\r\n      setSuccess(true);\r\n      setTimeout(() => { onSuccess(); onClose(); }, 800);\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || `Failed to ${isEditMode ? 'update' : 'add'} server`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const sections = [\r\n    { id: 'basic', label: 'Basic', icon: FaServer },\r\n    { id: 'protocols', label: 'Protocols', icon: FaShieldAlt },\r\n    { id: 'ssh', label: 'SSH', icon: FaTerminal },\r\n    { id: 'advanced', label: 'Advanced', icon: FaCog },\r\n  ];\r\n\r\n  const protocolOptions = [\r\n    { value: 'shadowsocks', label: 'Shadowsocks', color: 'text-blue-400' },\r\n    { value: 'trojan', label: 'Trojan', color: 'text-purple-400' },\r\n    { value: 'v2ray', label: 'V2Ray/VMess', color: 'text-green-400' },\r\n    { value: 'vless', label: 'VLESS+Reality', color: 'text-cyan-400' },\r\n    { value: 'wireguard', label: 'WireGuard', color: 'text-yellow-400' },\r\n    { value: 'hysteria', label: 'Hysteria', color: 'text-orange-400' },\r\n  ];\r\n\r\n  const inputCls = 'w-full px-4 py-2.5 bg-white bg-opacity-5 border border-white border-opacity-10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition text-sm';\r\n  const labelCls = 'block text-sm font-semibold text-gray-300 mb-1.5';\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose}\r\n      title={isEditMode ? `Edit: ${server?.name}` : 'Add New Server'} size=\"xl\"\r\n      footer={\r\n        <div className=\"flex gap-3 justify-end\">\r\n          <Button variant=\"outline\" onClick={onClose} disabled={loading}>Cancel</Button>\r\n          <Button variant=\"primary\" onClick={handleSubmit} loading={loading} disabled={success}>\r\n            {success ? 'Saved!' : isEditMode ? 'Update Server' : 'Add Server'}\r\n          </Button>\r\n        </div>\r\n      }\r\n    >\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        {/* Alerts */}\r\n        {error && (\r\n          <div className=\"bg-red-500 bg-opacity-10 border border-red-500 rounded-lg p-3\">\r\n            <p className=\"text-red-400 text-sm\">{error}</p>\r\n          </div>\r\n        )}\r\n        {success && (\r\n          <div className=\"bg-green-500 bg-opacity-10 border border-green-500 rounded-lg p-3\">\r\n            <p className=\"text-green-400 text-sm flex items-center\">\r\n              <FaCheckCircle className=\"mr-2\" />\r\n              Server {isEditMode ? 'updated' : 'added'} successfully!\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Section Tabs */}\r\n        <div className=\"flex gap-1 bg-black bg-opacity-20 p-1 rounded-lg\">\r\n          {sections.map((s) => (\r\n            <button key={s.id} type=\"button\" onClick={() => setActiveSection(s.id)}\r\n              className={`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition ${\r\n                activeSection === s.id\r\n                  ? 'bg-blue-600 text-white shadow'\r\n                  : 'text-gray-400 hover:text-white hover:bg-white hover:bg-opacity-5'\r\n              }`}\r\n            >\r\n              <s.icon className=\"text-xs\" />\r\n              {s.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* ========== BASIC INFO ========== */}\r\n        {activeSection === 'basic' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"grid md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className={labelCls}>Server Name *</label>\r\n                <input type=\"text\" value={formData.name}\r\n                  onChange={(e) => handleChange('name', e.target.value)}\r\n                  className={inputCls} placeholder=\"Canada OVH\" required />\r\n              </div>\r\n              <div>\r\n                <label className={labelCls}>IP Address *</label>\r\n                <input type=\"text\" value={formData.ip_address}\r\n                  onChange={(e) => handleChange('ip_address', e.target.value)}\r\n                  className={`${inputCls} font-mono`} placeholder=\"51.222.9.219\" required />\r\n              </div>\r\n              <div>\r\n                <label className={labelCls}>Location *</label>\r\n                <input type=\"text\" value={formData.location}\r\n                  onChange={(e) => handleChange('location', e.target.value)}\r\n                  className={inputCls} placeholder=\"Montreal, Canada\" required />\r\n              </div>\r\n              <div>\r\n                <label className={labelCls}>Country Code *</label>\r\n                <input type=\"text\" value={formData.country_code}\r\n                  onChange={(e) => handleChange('country_code', e.target.value.toUpperCase())}\r\n                  className={`${inputCls} uppercase`} placeholder=\"CA\" maxLength={2} required />\r\n                <p className=\"text-xs text-gray-500 mt-1\">ISO 3166 (US, CA, FR, DE...)</p>\r\n              </div>\r\n              <div>\r\n                <label className={labelCls}>Capacity (Max Users)</label>\r\n                <input type=\"number\" value={formData.capacity}\r\n                  onChange={(e) => handleChange('capacity', parseInt(e.target.value) || 0)}\r\n                  className={inputCls} min=\"1\" max=\"10000\" />\r\n              </div>\r\n              <div>\r\n                <label className={labelCls}>Status</label>\r\n                <select value={formData.status}\r\n                  onChange={(e) => handleChange('status', e.target.value)}\r\n                  className={inputCls}>\r\n                  <option value=\"active\">Active</option>\r\n                  <option value=\"maintenance\">Maintenance</option>\r\n                  <option value=\"offline\">Offline</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ========== PROTOCOLS & PORTS ========== */}\r\n        {activeSection === 'protocols' && (\r\n          <div className=\"space-y-5\">\r\n            <div>\r\n              <label className={labelCls}>Enabled Protocols</label>\r\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2\">\r\n                {protocolOptions.map((p) => {\r\n                  const on = formData.protocols.includes(p.value);\r\n                  return (\r\n                    <button key={p.value} type=\"button\" onClick={() => toggleProtocol(p.value)}\r\n                      className={`p-3 rounded-lg border-2 transition-all text-left ${\r\n                        on ? 'border-blue-500 bg-blue-500 bg-opacity-10' : 'border-white border-opacity-10 hover:border-opacity-30'\r\n                      }`}>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div className={`w-3 h-3 rounded-full ${on ? 'bg-green-400' : 'bg-gray-600'}`} />\r\n                        <span className={`text-sm font-semibold ${on ? p.color : 'text-gray-500'}`}>{p.label}</span>\r\n                      </div>\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"border-t border-white border-opacity-10 pt-4\">\r\n              <label className={labelCls}>Protocol Ports</label>\r\n              <div className=\"grid md:grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"text-xs text-gray-500\">Shadowsocks Port</label>\r\n                  <input type=\"number\" value={formData.ss_port}\r\n                    onChange={(e) => handleChange('ss_port', parseInt(e.target.value) || 0)}\r\n                    className={inputCls} />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-xs text-gray-500\">SS API Port</label>\r\n                  <input type=\"number\" value={formData.ss_api_port}\r\n                    onChange={(e) => handleChange('ss_api_port', parseInt(e.target.value) || 0)}\r\n                    className={inputCls} />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-xs text-gray-500\">Trojan API Port</label>\r\n                  <input type=\"number\" value={formData.trojan_api_port}\r\n                    onChange={(e) => handleChange('trojan_api_port', parseInt(e.target.value) || 0)}\r\n                    className={inputCls} />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-xs text-gray-500\">V2Ray API Port</label>\r\n                  <input type=\"number\" value={formData.v2ray_api_port}\r\n                    onChange={(e) => handleChange('v2ray_api_port', parseInt(e.target.value) || 0)}\r\n                    className={inputCls} />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-xs text-gray-500\">XRay API Port</label>\r\n                  <input type=\"number\" value={formData.xray_api_port}\r\n                    onChange={(e) => handleChange('xray_api_port', parseInt(e.target.value) || 0)}\r\n                    className={inputCls} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ========== SSH CONFIG ========== */}\r\n        {activeSection === 'ssh' && (\r\n          <div className=\"space-y-4\">\r\n            <p className=\"text-xs text-gray-500\">SSH credentials for remote server management. Used for health checks and configuration deployment.</p>\r\n            <div className=\"grid md:grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className={labelCls}>SSH Host</label>\r\n                <input type=\"text\" value={formData.ssh_host}\r\n                  onChange={(e) => handleChange('ssh_host', e.target.value)}\r\n                  className={`${inputCls} font-mono`} placeholder=\"Same as IP if empty\" />\r\n                <p className=\"text-xs text-gray-500 mt-1\">Leave empty to use server IP</p>\r\n              </div>\r\n              <div>\r\n                <label className={labelCls}>SSH Port</label>\r\n                <input type=\"number\" value={formData.ssh_port}\r\n                  onChange={(e) => handleChange('ssh_port', parseInt(e.target.value) || 22)}\r\n                  className={inputCls} />\r\n              </div>\r\n              <div>\r\n                <label className={labelCls}>SSH User</label>\r\n                <input type=\"text\" value={formData.ssh_user}\r\n                  onChange={(e) => handleChange('ssh_user', e.target.value)}\r\n                  className={inputCls} placeholder=\"root\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"border-t border-white border-opacity-10 pt-4\">\r\n              <label className={labelCls}>\r\n                SSH Private Key {isEditMode && server?.has_ssh_key && <span className=\"text-green-400 text-xs font-normal ml-2\">(key stored)</span>}\r\n              </label>\r\n              <div className=\"relative\">\r\n                <textarea value={formData.ssh_private_key}\r\n                  onChange={(e) => handleChange('ssh_private_key', e.target.value)}\r\n                  className={`${inputCls} font-mono text-xs h-28 resize-none`}\r\n                  placeholder={isEditMode ? 'Leave empty to keep existing key' : '-----BEGIN OPENSSH PRIVATE KEY-----\\n...\\n-----END OPENSSH PRIVATE KEY-----'}\r\n                  style={{ fontFamily: 'monospace' }} />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className={labelCls}>\r\n                SSH Password {isEditMode && server?.has_ssh_password && <span className=\"text-green-400 text-xs font-normal ml-2\">(password stored)</span>}\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input type={showSshPassword ? 'text' : 'password'} value={formData.ssh_password}\r\n                  onChange={(e) => handleChange('ssh_password', e.target.value)}\r\n                  className={`${inputCls} pr-10 font-mono`}\r\n                  placeholder={isEditMode ? 'Leave empty to keep existing' : 'Enter SSH password'} />\r\n                <button type=\"button\" onClick={() => setShowSshPassword(!showSshPassword)}\r\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white\">\r\n                  {showSshPassword ? <FaEyeSlash /> : <FaEye />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ========== ADVANCED ========== */}\r\n        {activeSection === 'advanced' && (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"border border-white border-opacity-10 rounded-lg p-4\">\r\n              <h4 className=\"text-sm font-bold text-cyan-400 mb-3 flex items-center gap-2\">\r\n                <FaShieldAlt /> VLESS + REALITY\r\n              </h4>\r\n              <div className=\"grid md:grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"text-xs text-gray-500\">Server Name (SNI)</label>\r\n                  <input type=\"text\" value={formData.reality_server_name}\r\n                    onChange={(e) => handleChange('reality_server_name', e.target.value)}\r\n                    className={inputCls} placeholder=\"www.google.com\" />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-xs text-gray-500\">Short ID</label>\r\n                  <input type=\"text\" value={formData.reality_short_id}\r\n                    onChange={(e) => handleChange('reality_short_id', e.target.value)}\r\n                    className={`${inputCls} font-mono`} placeholder=\"abcdef01\" />\r\n                </div>\r\n                <div className=\"md:col-span-2\">\r\n                  <label className=\"text-xs text-gray-500\">Public Key</label>\r\n                  <input type=\"text\" value={formData.reality_public_key}\r\n                    onChange={(e) => handleChange('reality_public_key', e.target.value)}\r\n                    className={`${inputCls} font-mono text-xs`} placeholder=\"Base64 public key...\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid md:grid-cols-2 gap-4\">\r\n              <div className=\"border border-white border-opacity-10 rounded-lg p-4\">\r\n                <h4 className=\"text-sm font-bold text-yellow-400 mb-3 flex items-center gap-2\">\r\n                  <FaKey /> WireGuard\r\n                </h4>\r\n                <label className=\"text-xs text-gray-500\">Public Key</label>\r\n                <input type=\"text\" value={formData.wireguard_public_key}\r\n                  onChange={(e) => handleChange('wireguard_public_key', e.target.value)}\r\n                  className={`${inputCls} font-mono text-xs`} placeholder=\"Base64 WG public key...\" />\r\n              </div>\r\n\r\n              <div className=\"border border-white border-opacity-10 rounded-lg p-4\">\r\n                <h4 className=\"text-sm font-bold text-green-400 mb-3 flex items-center gap-2\">\r\n                  <FaNetworkWired /> V2Ray\r\n                </h4>\r\n                <label className=\"text-xs text-gray-500\">UUID</label>\r\n                <input type=\"text\" value={formData.v2ray_uuid}\r\n                  onChange={(e) => handleChange('v2ray_uuid', e.target.value)}\r\n                  className={`${inputCls} font-mono text-xs`} placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className={labelCls}>Bandwidth Limit (Mbps)</label>\r\n              <input type=\"number\" value={formData.bandwidth_limit}\r\n                onChange={(e) => handleChange('bandwidth_limit', parseInt(e.target.value) || 0)}\r\n                className={inputCls} min=\"0\" />\r\n              <p className=\"text-xs text-gray-500 mt-1\">0 = unlimited</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ServerModal;\r\n","import React, { useState } from 'react';\r\nimport Modal from '../../common/Modal';\r\nimport Button from '../../common/Button';\r\nimport { FaExclamationTriangle, FaTrash } from 'react-icons/fa';\r\n\r\n/**\r\n * AAA-Level Delete Confirmation Modal\r\n * Features:\r\n * - Type-to-confirm for dangerous actions\r\n * - Clear warning messages\r\n * - Loading states\r\n * - Error handling\r\n * - Accessible\r\n */\r\nconst DeleteConfirmModal = ({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  title = 'Confirm Deletion',\r\n  message,\r\n  itemName,\r\n  requireConfirmation = true,\r\n  confirmText = 'DELETE',\r\n  type = 'user', // 'user', 'server', 'connection'\r\n}) => {\r\n  const [confirmInput, setConfirmInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const isConfirmed = !requireConfirmation || confirmInput === confirmText;\r\n\r\n  const handleConfirm = async () => {\r\n    if (!isConfirmed) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await onConfirm();\r\n      onClose();\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'Failed to delete');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getWarningMessage = () => {\r\n    switch (type) {\r\n      case 'user':\r\n        return 'This will permanently delete the user account and all associated data. This action cannot be undone.';\r\n      case 'server':\r\n        return 'This will permanently remove the server. Active connections will be terminated. This action cannot be undone.';\r\n      case 'connection':\r\n        return 'This will force disconnect the user from the VPN server.';\r\n      default:\r\n        return message || 'This action cannot be undone.';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      title={title}\r\n      size=\"md\"\r\n      footer={\r\n        <div className=\"flex gap-3 justify-end\">\r\n          <Button variant=\"outline\" onClick={onClose} disabled={loading}>\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={handleConfirm}\r\n            loading={loading}\r\n            disabled={!isConfirmed}\r\n            icon={<FaTrash />}\r\n          >\r\n            {loading ? 'Deleting...' : 'Delete'}\r\n          </Button>\r\n        </div>\r\n      }\r\n    >\r\n      <div className=\"space-y-6\">\r\n        {/* Warning Icon */}\r\n        <div className=\"flex justify-center\">\r\n          <div className=\"w-16 h-16 rounded-full bg-red-500 bg-opacity-10 flex items-center justify-center\">\r\n            <FaExclamationTriangle className=\"text-red-500 text-3xl\" />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Warning Message */}\r\n        <div className=\"text-center\">\r\n          <p className=\"text-white text-lg font-semibold mb-2\">\r\n            Are you sure you want to delete this {type}?\r\n          </p>\r\n          {itemName && (\r\n            <p className=\"text-gray-400 mb-4\">\r\n              <span className=\"font-mono bg-white bg-opacity-5 px-2 py-1 rounded\">\r\n                {itemName}\r\n              </span>\r\n            </p>\r\n          )}\r\n          <p className=\"text-gray-400 text-sm\">\r\n            {getWarningMessage()}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"bg-red-500 bg-opacity-10 border border-red-500 rounded-lg p-4\">\r\n            <p className=\"text-red-400 text-sm\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Confirmation Input */}\r\n        {requireConfirmation && (\r\n          <div>\r\n            <label className=\"block text-sm font-semibold text-gray-300 mb-2\">\r\n              Type <span className=\"font-mono text-red-400\">{confirmText}</span> to confirm\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={confirmInput}\r\n              onChange={(e) => setConfirmInput(e.target.value)}\r\n              className=\"w-full px-4 py-3 bg-white bg-opacity-5 border border-white border-opacity-10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 transition font-mono\"\r\n              placeholder={confirmText}\r\n              autoFocus\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Warning List */}\r\n        <div className=\"bg-yellow-500 bg-opacity-10 border border-yellow-500 rounded-lg p-4\">\r\n          <p className=\"text-yellow-400 text-sm font-semibold mb-2\">\r\n             This action will:\r\n          </p>\r\n          <ul className=\"text-yellow-400 text-sm space-y-1 list-disc list-inside\">\r\n            {type === 'user' && (\r\n              <>\r\n                <li>Delete all user data</li>\r\n                <li>Terminate active connections</li>\r\n                <li>Remove subscription information</li>\r\n                <li>Cannot be recovered</li>\r\n              </>\r\n            )}\r\n            {type === 'server' && (\r\n              <>\r\n                <li>Remove server from network</li>\r\n                <li>Disconnect all active users</li>\r\n                <li>Delete server configuration</li>\r\n                <li>Cannot be recovered</li>\r\n              </>\r\n            )}\r\n            {type === 'connection' && (\r\n              <>\r\n                <li>Immediately disconnect user</li>\r\n                <li>User will need to reconnect</li>\r\n              </>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default DeleteConfirmModal;\r\n","import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  FaDollarSign,\n  FaCheckCircle,\n  FaTimesCircle,\n  FaCreditCard,\n  FaDownload,\n  FaSearch,\n} from 'react-icons/fa';\nimport { apiService } from '../../services/api';\nimport Card from '../common/Card';\nimport Button from '../common/Button';\nimport useConfirm from '../../hooks/useConfirm';\nimport ConfirmDialog from '../common/ConfirmDialog';\n\nconst PaymentManagement = () => {\n  const [payments, setPayments] = useState([]);\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [stats, setStats] = useState({\n    totalRevenue: 0,\n    monthlyRevenue: 0,\n    activeSubscriptions: 0,\n    failedPayments: 0,\n  });\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedPayment, setSelectedPayment] = useState(null);\n  const { confirm: confirmDialog, dialogProps } = useConfirm();\n\n  useEffect(() => {\n    loadPaymentData();\n    const interval = setInterval(loadPaymentData, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const loadPaymentData = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch real payment data from API\n      try {\n        const response = await apiService.getAdminPaymentHistory();\n        const paymentData = response.data || [];\n        \n        // Calculate real statistics from actual payment data\n        const totalRevenue = paymentData.reduce((sum, payment) => \n          payment.status === 'succeeded' ? sum + (payment.amount || 0) : sum, 0\n        );\n        \n        const now = new Date();\n        const monthStart = new Date(now.getFullYear(), now.getMonth(), 1);\n        const monthlyRevenue = paymentData\n          .filter(p => new Date(p.created_at) >= monthStart && p.status === 'succeeded')\n          .reduce((sum, payment) => sum + (payment.amount || 0), 0);\n        \n        const activeSubscriptions = paymentData.filter(p => p.status === 'active').length;\n        const failedPayments = paymentData.filter(p => p.status === 'failed').length;\n        \n        setPayments(paymentData);\n        setStats({\n          totalRevenue,\n          monthlyRevenue,\n          activeSubscriptions,\n          failedPayments,\n        });\n      } catch (error) {\n        console.error('Failed to load payment data:', error);\n        setPayments([]);\n        setStats({ totalRevenue: 0, monthlyRevenue: 0, activeSubscriptions: 0, failedPayments: 0 });\n      }\n\n      // Load active subscriptions\n      try {\n        const subsRes = await apiService.getAdminSubscriptions();\n        setSubscriptions(subsRes.data || []);\n      } catch (error) {\n        console.error('Failed to load subscriptions:', error);\n        setSubscriptions([]);\n      }\n    } catch (error) {\n      console.error('Failed to load payment data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    }).format(amount);\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const getStatusBadge = (status) => {\n    if (!status) return <span className=\"px-3 py-1 rounded-full text-xs font-semibold bg-gray-500 text-white\">Unknown</span>;\n    const badges = {\n      succeeded: 'bg-green-500 text-white',\n      active: 'bg-green-500 text-white',\n      failed: 'bg-red-500 text-white',\n      canceled: 'bg-gray-500 text-white',\n      pending: 'bg-yellow-500 text-white',\n    };\n\n    return (\n      <span className={`px-3 py-1 rounded-full text-xs font-semibold ${badges[status] || 'bg-gray-500 text-white'}`}>\n        {status.charAt(0).toUpperCase() + status.slice(1)}\n      </span>\n    );\n  };\n\n  const filteredPayments = payments.filter((payment) => {\n    const matchesFilter = filter === 'all' || payment.status === filter;\n    const matchesSearch = payment.user_email?.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesFilter && matchesSearch;\n  });\n\n  const exportCsv = () => {\n    const headers = ['Date', 'Email', 'Plan', 'Amount', 'Status', 'Payment ID'];\n    const rows = filteredPayments.map(p => [\n      new Date(p.created_at).toISOString(),\n      p.user_email,\n      p.plan,\n      p.amount,\n      p.status,\n      p.stripe_payment_id || ''\n    ]);\n    const csv = [headers, ...rows].map(r => r.map(c => `\"${String(c).replace(/\"/g, '\"\"')}\"`).join(',')).join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `payments_${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const handleCancelSubscription = async (subId) => {\n    const ok = await confirmDialog({ title: 'Cancel Subscription', message: 'Are you sure you want to cancel this subscription?', confirmText: 'Cancel Subscription', variant: 'danger' });\n    if (!ok) return;\n    try {\n      await apiService.cancelAdminSubscription(subId);\n      loadPaymentData();\n    } catch (err) {\n      console.error('Cancel failed:', err);\n      alert('Failed to cancel subscription');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-white text-xl\">Loading payment data...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Revenue Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1 }}\n        >\n          <Card className=\"p-6 bg-gradient-to-br from-green-600 to-green-800\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-green-200 text-sm\">Total Revenue</p>\n                <p className=\"text-white text-3xl font-bold\">{formatCurrency(stats.totalRevenue)}</p>\n              </div>\n              <FaDollarSign className=\"text-green-200 text-4xl\" />\n            </div>\n          </Card>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.2 }}\n        >\n          <Card className=\"p-6 bg-gradient-to-br from-blue-600 to-blue-800\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-blue-200 text-sm\">Monthly Revenue</p>\n                <p className=\"text-white text-3xl font-bold\">{formatCurrency(stats.monthlyRevenue)}</p>\n              </div>\n              <FaCreditCard className=\"text-blue-200 text-4xl\" />\n            </div>\n          </Card>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.3 }}\n        >\n          <Card className=\"p-6 bg-gradient-to-br from-purple-600 to-purple-800\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-purple-200 text-sm\">Active Subscriptions</p>\n                <p className=\"text-white text-3xl font-bold\">{stats.activeSubscriptions}</p>\n              </div>\n              <FaCheckCircle className=\"text-purple-200 text-4xl\" />\n            </div>\n          </Card>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.4 }}\n        >\n          <Card className=\"p-6 bg-gradient-to-br from-red-600 to-red-800\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-red-200 text-sm\">Failed Payments</p>\n                <p className=\"text-white text-3xl font-bold\">{stats.failedPayments}</p>\n              </div>\n              <FaTimesCircle className=\"text-red-200 text-4xl\" />\n            </div>\n          </Card>\n        </motion.div>\n      </div>\n\n      {/* Payment History */}\n      <Card className=\"p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-2xl font-bold text-white\">Payment History</h2>\n          <Button variant=\"outline\" size=\"sm\" icon={<FaDownload />} onClick={exportCsv}>\n            Export CSV\n          </Button>\n        </div>\n\n        {/* Filters */}\n        <div className=\"flex gap-4 mb-6\">\n          <div className=\"flex-1 relative\">\n            <FaSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search by email...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <select\n            value={filter}\n            onChange={(e) => setFilter(e.target.value)}\n            className=\"px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"all\">All Payments</option>\n            <option value=\"succeeded\">Succeeded</option>\n            <option value=\"failed\">Failed</option>\n            <option value=\"pending\">Pending</option>\n          </select>\n        </div>\n\n        {/* Payments Table */}\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-white border-opacity-20\">\n                <th className=\"text-left py-3 px-4 text-gray-300\">Date</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">User</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">Plan</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">Amount</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">Status</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">Payment ID</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredPayments.length === 0 ? (\n                <tr>\n                  <td colSpan=\"7\" className=\"text-center py-12 text-gray-400\">\n                    <FaCreditCard className=\"text-6xl mx-auto mb-4 opacity-50\" />\n                    <p>No payments found</p>\n                    <p className=\"text-sm mt-2\">Payments will appear here once users subscribe</p>\n                  </td>\n                </tr>\n              ) : (\n                filteredPayments.map((payment) => (\n                  <tr key={payment.id} className=\"border-b border-white border-opacity-10 hover:bg-white hover:bg-opacity-5\">\n                    <td className=\"py-3 px-4 text-gray-300\">{formatDate(payment.created_at)}</td>\n                    <td className=\"py-3 px-4 text-white\">{payment.user_email}</td>\n                    <td className=\"py-3 px-4 text-gray-300\">{payment.plan}</td>\n                    <td className=\"py-3 px-4 text-white font-semibold\">{formatCurrency(payment.amount)}</td>\n                    <td className=\"py-3 px-4\">{getStatusBadge(payment.status)}</td>\n                    <td className=\"py-3 px-4 text-gray-300 font-mono text-sm\">{payment.stripe_payment_id}</td>\n                    <td className=\"py-3 px-4\">\n                      <button className=\"text-blue-400 hover:text-blue-300 mr-3\" onClick={() => setSelectedPayment(selectedPayment?.id === payment.id ? null : payment)}>View</button>\n                      {payment.stripe_payment_id && (\n                        <a href={`https://dashboard.stripe.com/payments/${payment.stripe_payment_id}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-green-400 hover:text-green-300\">Invoice</a>\n                      )}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </Card>\n\n      {/* Payment Detail Panel */}\n      {selectedPayment && (\n        <Card className=\"p-6\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h3 className=\"text-xl font-bold text-white\">Payment Details</h3>\n            <button onClick={() => setSelectedPayment(null)} className=\"text-gray-400 hover:text-white text-xl\">&times;</button>\n          </div>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div><p className=\"text-gray-400 text-sm\">ID</p><p className=\"text-white\">{selectedPayment.id}</p></div>\n            <div><p className=\"text-gray-400 text-sm\">User</p><p className=\"text-white\">{selectedPayment.user_email}</p></div>\n            <div><p className=\"text-gray-400 text-sm\">Plan</p><p className=\"text-white\">{selectedPayment.plan}</p></div>\n            <div><p className=\"text-gray-400 text-sm\">Amount</p><p className=\"text-white font-bold\">{formatCurrency(selectedPayment.amount)}</p></div>\n            <div><p className=\"text-gray-400 text-sm\">Status</p><p>{getStatusBadge(selectedPayment.status)}</p></div>\n            <div><p className=\"text-gray-400 text-sm\">Date</p><p className=\"text-white\">{formatDate(selectedPayment.created_at)}</p></div>\n            <div><p className=\"text-gray-400 text-sm\">Stripe ID</p><p className=\"text-white font-mono text-xs\">{selectedPayment.stripe_payment_id || 'N/A'}</p></div>\n          </div>\n        </Card>\n      )}\n\n      {/* Active Subscriptions */}\n      <Card className=\"p-6\">\n        <h2 className=\"text-2xl font-bold text-white mb-6\">Active Subscriptions</h2>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-white border-opacity-20\">\n                <th className=\"text-left py-3 px-4 text-gray-300\">User</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">Plan</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">Amount</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">Status</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">Next Billing</th>\n                <th className=\"text-left py-3 px-4 text-gray-300\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {subscriptions.length === 0 ? (\n                <tr>\n                  <td colSpan=\"6\" className=\"text-center py-12 text-gray-400\">\n                    <FaCheckCircle className=\"text-6xl mx-auto mb-4 opacity-50\" />\n                    <p>No active subscriptions</p>\n                    <p className=\"text-sm mt-2\">Active subscriptions will appear here</p>\n                  </td>\n                </tr>\n              ) : (\n                subscriptions.map((sub) => (\n                  <tr key={sub.id} className=\"border-b border-white border-opacity-10 hover:bg-white hover:bg-opacity-5\">\n                    <td className=\"py-3 px-4 text-white\">{sub.user_email}</td>\n                    <td className=\"py-3 px-4 text-gray-300\">{sub.plan}</td>\n                    <td className=\"py-3 px-4 text-white font-semibold\">{formatCurrency(sub.amount)}</td>\n                    <td className=\"py-3 px-4\">{getStatusBadge(sub.status)}</td>\n                    <td className=\"py-3 px-4 text-gray-300\">{formatDate(sub.current_period_end)}</td>\n                    <td className=\"py-3 px-4\">\n                      <a href={sub.stripe_subscription_id ? `https://dashboard.stripe.com/subscriptions/${sub.stripe_subscription_id}` : '#'} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-400 hover:text-blue-300 mr-3\">Manage</a>\n                      <button className=\"text-red-400 hover:text-red-300\" onClick={() => handleCancelSubscription(sub.id)}>Cancel</button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </Card>\n      <ConfirmDialog {...dialogProps} />\n    </div>\n  );\n};\n\nexport default PaymentManagement;\n","import React, { useState, useEffect } from 'react';\nimport {\n  FaEnvelope,\n  FaCreditCard,\n  FaGoogle,\n  FaShieldAlt,\n  FaServer,\n  FaDatabase,\n  FaMobileAlt,\n  FaExclamationTriangle,\n  FaPaperPlane,\n  FaSpinner,\n  FaBell,\n  FaCalendarAlt,\n  FaUsers,\n  FaSyncAlt,\n  FaPlay,\n  FaRedo,\n  FaCheckCircle,\n  FaTimesCircle,\n  FaBullhorn\n} from 'react-icons/fa';\nimport Card from '../common/Card';\nimport Button from '../common/Button';\nimport { apiService } from '../../services/api';\nimport useConfirm from '../../hooks/useConfirm';\nimport ConfirmDialog from '../common/ConfirmDialog';\n\nconst SystemSettings = () => {\n  const [settings, setSettings] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [message, setMessage] = useState({ type: '', text: '' });\n  const [activeTab, setActiveTab] = useState('app');\n\n  const tabs = [\n    { id: 'app', name: 'Mobile App', icon: FaMobileAlt },\n    { id: 'subscriptions', name: 'Subscriptions', icon: FaBell },\n    { id: 'email', name: 'Email', icon: FaEnvelope },\n    { id: 'stripe', name: 'Stripe', icon: FaCreditCard },\n    { id: 'oauth', name: 'OAuth', icon: FaGoogle },\n    { id: 'vpn', name: 'VPN', icon: FaServer },\n    { id: 'security', name: 'Security', icon: FaShieldAlt },\n    { id: 'backup', name: 'Backup', icon: FaDatabase },\n    { id: 'ads', name: 'Ads', icon: FaBullhorn },\n  ];\n\n  useEffect(() => {\n    loadSettings();\n  }, []);\n\n  const loadSettings = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getSystemSettings();\n      // Convert array of {key, value} to object\n      const settingsMap = {};\n      (Array.isArray(response.data) ? response.data : []).forEach(item => {\n        // Parse booleans and numbers\n        if (item.value === 'true') settingsMap[item.key] = true;\n        else if (item.value === 'false') settingsMap[item.key] = false;\n        else if (!isNaN(item.value) && item.value.trim() !== '') settingsMap[item.key] = item.value;\n        else settingsMap[item.key] = item.value;\n      });\n      setSettings(settingsMap);\n    } catch (error) {\n      console.error('Failed to load settings:', error);\n      setMessage({ type: 'error', text: 'Failed to load settings' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (field, value) => {\n    setSettings((prev) => ({\n      ...prev,\n      [field]: value,\n    }));\n  };\n\n  const handleSave = async (key, value) => {\n    try {\n      setSaving(true);\n      await apiService.updateSystemSetting(key, value);\n      setMessage({ type: 'success', text: 'Setting updated successfully' });\n\n      // Clear message after 3 seconds\n      setTimeout(() => setMessage({ type: '', text: '' }), 3000);\n    } catch (error) {\n      console.error('Failed to save setting:', error);\n      setMessage({ type: 'error', text: 'Failed to save setting' });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"text-white text-center py-10\">Loading settings...</div>;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-3xl font-bold text-white\">System Settings</h2>\n        {message.text && (\n          <div className={`px-4 py-2 rounded-lg ${message.type === 'success' ? 'bg-green-600' : 'bg-red-600'} text-white`}>\n            {message.text}\n          </div>\n        )}\n      </div>\n\n      {/* Tabs */}\n      <div className=\"flex space-x-2 bg-black bg-opacity-30 p-2 rounded-lg overflow-x-auto\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.id}\n            onClick={() => setActiveTab(tab.id)}\n            className={`flex items-center px-4 py-2 rounded-lg transition whitespace-nowrap ${activeTab === tab.id\n                ? 'bg-blue-600 text-white'\n                : 'text-gray-300 hover:bg-white hover:bg-opacity-10'\n              }`}\n          >\n            <tab.icon className=\"mr-2\" />\n            {tab.name}\n          </button>\n        ))}\n      </div>\n\n      {/* App Configuration (Mobile App) */}\n      {activeTab === 'app' && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-2xl font-bold text-white mb-6\">Mobile App Configuration</h3>\n          <div className=\"space-y-6\">\n\n            {/* Maintenance Mode */}\n            <div className=\"bg-red-900 bg-opacity-20 border border-red-500 rounded-lg p-4\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <div className=\"flex items-center text-red-400 font-bold text-lg\">\n                  <FaExclamationTriangle className=\"mr-2\" />\n                  Maintenance Mode\n                </div>\n                <label className=\"relative inline-flex items-center cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={settings.maintenance_mode || false}\n                    onChange={(e) => {\n                      handleChange('maintenance_mode', e.target.checked);\n                      handleSave('maintenance_mode', e.target.checked);\n                    }}\n                    className=\"sr-only peer\"\n                  />\n                  <div className=\"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600\"></div>\n                </label>\n              </div>\n              <p className=\"text-gray-300 text-sm\">\n                If enabled, the mobile app will block user access and show a \"Under Maintenance\" screen. Use this during server upgrades.\n              </p>\n            </div>\n\n            {/* Min Version */}\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Minimum App Version</label>\n              <div className=\"flex gap-4\">\n                <input\n                  type=\"text\"\n                  value={settings.min_app_version || '1.0.0'}\n                  onChange={(e) => handleChange('min_app_version', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"e.g. 1.0.5\"\n                />\n                <Button\n                  variant=\"primary\"\n                  onClick={() => handleSave('min_app_version', settings.min_app_version)}\n                  disabled={saving}\n                >\n                  Save\n                </Button>\n              </div>\n              <p className=\"text-gray-400 text-sm mt-1\">Users with older versions will be forced to update.</p>\n            </div>\n\n            {/* Support Email */}\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Support Email</label>\n              <div className=\"flex gap-4\">\n                <input\n                  type=\"email\"\n                  value={settings.support_email || ''}\n                  onChange={(e) => handleChange('support_email', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <Button\n                  variant=\"primary\"\n                  onClick={() => handleSave('support_email', settings.support_email)}\n                  disabled={saving}\n                >\n                  Save\n                </Button>\n              </div>\n            </div>\n\n            {/* Privacy Policy */}\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Privacy Policy URL</label>\n              <div className=\"flex gap-4\">\n                <input\n                  type=\"text\"\n                  value={settings.privacy_policy_url || ''}\n                  onChange={(e) => handleChange('privacy_policy_url', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <Button\n                  variant=\"primary\"\n                  onClick={() => handleSave('privacy_policy_url', settings.privacy_policy_url)}\n                  disabled={saving}\n                >\n                  Save\n                </Button>\n              </div>\n            </div>\n\n          </div>\n        </Card>\n      )}\n\n      {/* Email Settings */}\n      {activeTab === 'email' && (\n        <EmailSettingsPanel />\n      )}\n\n      {/* Subscription Reminder Settings */}\n      {activeTab === 'subscriptions' && (\n        <SubscriptionSettingsPanel />\n      )}\n\n      {/* Security Settings */}\n      {activeTab === 'security' && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-2xl font-bold text-white mb-6\">Security Configuration</h3>\n          <div className=\"space-y-4\">\n\n            {/* Free User Limit */}\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Max Connections (Free Tier)</label>\n              <div className=\"flex gap-4\">\n                <input\n                  type=\"number\"\n                  value={settings.free_tier_limit || '1'}\n                  onChange={(e) => handleChange('free_tier_limit', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <Button\n                  variant=\"primary\"\n                  onClick={() => handleSave('free_tier_limit', settings.free_tier_limit)}\n                  disabled={saving}\n                >\n                  Save\n                </Button>\n              </div>\n            </div>\n\n            {/* Server Capacity */}\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Server Capacity Limit</label>\n              <div className=\"flex gap-4\">\n                <input\n                  type=\"number\"\n                  value={settings.server_capacity_limit || '250'}\n                  onChange={(e) => handleChange('server_capacity_limit', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <Button\n                  variant=\"primary\"\n                  onClick={() => handleSave('server_capacity_limit', settings.server_capacity_limit)}\n                  disabled={saving}\n                >\n                  Save\n                </Button>\n              </div>\n              <p className=\"text-gray-400 text-sm mt-1\">Global default capacity for new servers.</p>\n            </div>\n\n            <div className=\"bg-green-600 bg-opacity-20 border border-green-500 rounded-lg p-4 mt-6\">\n              <p className=\"text-green-200 text-sm\">\n                <strong>Current Security Status:</strong>\n              </p>\n              <ul className=\"text-green-200 text-sm mt-2 space-y-1\">\n                <li> JWT Authentication Active</li>\n                <li> Password Hashing (bcrypt)</li>\n                <li> Rate Limiting Enabled</li>\n                <li> CORS Configured</li>\n              </ul>\n            </div>\n          </div>\n        </Card>\n      )}\n\n      {/* Other tabs placeholders */}\n      {activeTab === 'stripe' && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-2xl font-bold text-white mb-6\">Stripe Configuration</h3>\n          <div className=\"space-y-4\">\n            <div className=\"bg-blue-600 bg-opacity-20 border border-blue-500 rounded-lg p-4\">\n              <p className=\"text-blue-200 text-sm\">\n                <strong>Note:</strong> Stripe API keys must be configured in the backend <code>.env</code> file for security. Never expose keys in the admin UI.\n              </p>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Stripe Mode</label>\n              <div className=\"flex gap-4\">\n                <input type=\"text\" readOnly value={settings.stripe_mode || 'test'}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none\"\n                />\n              </div>\n              <p className=\"text-gray-400 text-sm mt-1\">Change in .env: STRIPE_SECRET_KEY (sk_test_ vs sk_live_)</p>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Success Redirect URL</label>\n              <div className=\"flex gap-4\">\n                <input type=\"text\" value={settings.stripe_success_url || 'https://vpn-xo.com/payment-success'}\n                  onChange={(e) => handleChange('stripe_success_url', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                <Button variant=\"primary\" onClick={() => handleSave('stripe_success_url', settings.stripe_success_url)} disabled={saving}>Save</Button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Cancel Redirect URL</label>\n              <div className=\"flex gap-4\">\n                <input type=\"text\" value={settings.stripe_cancel_url || 'https://vpn-xo.com/payment-cancel'}\n                  onChange={(e) => handleChange('stripe_cancel_url', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                <Button variant=\"primary\" onClick={() => handleSave('stripe_cancel_url', settings.stripe_cancel_url)} disabled={saving}>Save</Button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Webhook Endpoint</label>\n              <input type=\"text\" readOnly value=\"/api/subscriptions/webhook\"\n                className=\"w-full px-4 py-2 rounded-lg bg-white bg-opacity-5 border border-white border-opacity-10 text-gray-400\" />\n              <p className=\"text-gray-400 text-sm mt-1\">Configure this in Stripe Dashboard  Developers  Webhooks</p>\n            </div>\n          </div>\n        </Card>\n      )}\n\n      {activeTab === 'oauth' && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-2xl font-bold text-white mb-6\">OAuth Configuration</h3>\n          <div className=\"space-y-4\">\n            <div className=\"bg-blue-600 bg-opacity-20 border border-blue-500 rounded-lg p-4\">\n              <p className=\"text-blue-200 text-sm\"><strong>Note:</strong> OAuth credentials must be set in backend <code>.env</code> for security.</p>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Google OAuth Status</label>\n              <div className=\"bg-green-600 bg-opacity-20 border border-green-500 rounded-lg p-3\">\n                <p className=\"text-green-200 text-sm\"> Google OAuth is configured and active</p>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Google OAuth Callback URL</label>\n              <input type=\"text\" readOnly value=\"https://api.vpn-xo.com/api/auth/google/callback\"\n                className=\"w-full px-4 py-2 rounded-lg bg-white bg-opacity-5 border border-white border-opacity-10 text-gray-400\" />\n              <p className=\"text-gray-400 text-sm mt-1\">Set this in Google Cloud Console  Authorized redirect URIs</p>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Allowed Login Methods</label>\n              <div className=\"flex gap-4 mt-2\">\n                <label className=\"flex items-center text-gray-300\"><input type=\"checkbox\" checked readOnly className=\"mr-2\" /> Email/Password</label>\n                <label className=\"flex items-center text-gray-300\"><input type=\"checkbox\" checked readOnly className=\"mr-2\" /> Google OAuth</label>\n              </div>\n            </div>\n          </div>\n        </Card>\n      )}\n\n      {activeTab === 'vpn' && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-2xl font-bold text-white mb-6\">VPN Configuration</h3>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Default Protocol</label>\n              <div className=\"flex gap-4\">\n                <select value={settings.default_protocol || 'shadowsocks'}\n                  onChange={(e) => handleChange('default_protocol', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\">\n                  <option value=\"shadowsocks\">Shadowsocks</option>\n                  <option value=\"trojan\">Trojan</option>\n                  <option value=\"v2ray\">V2Ray (VMess)</option>\n                  <option value=\"vless\">VLESS + Reality</option>\n                  <option value=\"wireguard\">WireGuard</option>\n                  <option value=\"hysteria2\">Hysteria2</option>\n                </select>\n                <Button variant=\"primary\" onClick={() => handleSave('default_protocol', settings.default_protocol)} disabled={saving}>Save</Button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Max Devices (Premium)</label>\n              <div className=\"flex gap-4\">\n                <input type=\"number\" value={settings.max_devices_premium || '5'}\n                  onChange={(e) => handleChange('max_devices_premium', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                <Button variant=\"primary\" onClick={() => handleSave('max_devices_premium', settings.max_devices_premium)} disabled={saving}>Save</Button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Max Devices (Free)</label>\n              <div className=\"flex gap-4\">\n                <input type=\"number\" value={settings.max_devices_free || '1'}\n                  onChange={(e) => handleChange('max_devices_free', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                <Button variant=\"primary\" onClick={() => handleSave('max_devices_free', settings.max_devices_free)} disabled={saving}>Save</Button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Connection Timeout (seconds)</label>\n              <div className=\"flex gap-4\">\n                <input type=\"number\" value={settings.connection_timeout || '30'}\n                  onChange={(e) => handleChange('connection_timeout', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                <Button variant=\"primary\" onClick={() => handleSave('connection_timeout', settings.connection_timeout)} disabled={saving}>Save</Button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Heartbeat Interval (seconds)</label>\n              <div className=\"flex gap-4\">\n                <input type=\"number\" value={settings.heartbeat_interval || '120'}\n                  onChange={(e) => handleChange('heartbeat_interval', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                <Button variant=\"primary\" onClick={() => handleSave('heartbeat_interval', settings.heartbeat_interval)} disabled={saving}>Save</Button>\n              </div>\n            </div>\n          </div>\n        </Card>\n      )}\n\n      {activeTab === 'backup' && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-2xl font-bold text-white mb-6\">Backup & Recovery</h3>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Auto-Backup</label>\n              <div className=\"flex items-center justify-between bg-white bg-opacity-5 rounded-lg p-4\">\n                <div>\n                  <p className=\"text-white font-medium\">Enable Automatic Database Backups</p>\n                  <p className=\"text-gray-400 text-sm\">Backs up PostgreSQL database daily</p>\n                </div>\n                <label className=\"relative inline-flex items-center cursor-pointer\">\n                  <input type=\"checkbox\" checked={settings.auto_backup || false}\n                    onChange={(e) => { handleChange('auto_backup', e.target.checked); handleSave('auto_backup', e.target.checked); }}\n                    className=\"sr-only peer\" />\n                  <div className=\"w-11 h-6 bg-gray-600 peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Backup Retention (days)</label>\n              <div className=\"flex gap-4\">\n                <input type=\"number\" value={settings.backup_retention_days || '30'}\n                  onChange={(e) => handleChange('backup_retention_days', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                <Button variant=\"primary\" onClick={() => handleSave('backup_retention_days', settings.backup_retention_days)} disabled={saving}>Save</Button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Backup Storage Path</label>\n              <div className=\"flex gap-4\">\n                <input type=\"text\" value={settings.backup_path || '/var/backups/vpnxo'}\n                  onChange={(e) => handleChange('backup_path', e.target.value)}\n                  className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n                <Button variant=\"primary\" onClick={() => handleSave('backup_path', settings.backup_path)} disabled={saving}>Save</Button>\n              </div>\n            </div>\n            <div className=\"bg-yellow-600 bg-opacity-20 border border-yellow-500 rounded-lg p-4\">\n              <p className=\"text-yellow-200 text-sm\"><strong>Tip:</strong> Configure pg_dump cron on the server: <code>0 2 * * * pg_dump vpnxo_production | gzip &gt; /var/backups/vpnxo/backup_$(date +%Y%m%d).sql.gz</code></p>\n            </div>\n          </div>\n        </Card>\n      )}\n\n      {/* \n           Ads Tab\n           Controls the desktop ad box (Windows / macOS) and shows info\n           about the mobile ad configuration (handled via ad SDK dashboards).\n       */}\n      {activeTab === 'ads' && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-2xl font-bold text-white mb-2\">Ad Configuration</h3>\n          <p className=\"text-gray-400 text-sm mb-6\">\n            Desktop ad box is fully controlled here. Mobile ads (Android / iOS) are managed\n            via your <strong style={{color:'#93c5fd'}}>AdMob dashboard</strong> (add mediation partners  AppLovin, Meta, etc.  directly\n            inside AdMob Mediation). Update ad unit IDs in the app source code.\n          </p>\n\n          {/*  Desktop Ad Box  */}\n          <div className=\"space-y-6\">\n            <div className=\"border border-white border-opacity-10 rounded-xl p-5\">\n              <h4 className=\"text-white font-bold text-lg mb-4 flex items-center gap-2\">\n                <FaBullhorn className=\"text-blue-400\" />\n                Desktop Ad Box (Windows &amp; macOS)\n              </h4>\n              <p className=\"text-gray-400 text-sm mb-5\">\n                Shows an image, animated GIF, or video ad below the connection button on Windows and macOS apps.\n                Appears for all users unless you enable &ldquo;Hide for premium&rdquo;.\n              </p>\n\n              {/* Master toggle */}\n              <div className=\"flex items-center justify-between bg-white bg-opacity-5 rounded-lg p-4 mb-4\">\n                <div>\n                  <p className=\"text-white font-medium\">Enable Desktop Ad Box</p>\n                  <p className=\"text-gray-400 text-sm\">Show the ad box on Windows / macOS</p>\n                </div>\n                <label className=\"relative inline-flex items-center cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={settings.ad_desktop_enabled || false}\n                    onChange={(e) => { handleChange('ad_desktop_enabled', e.target.checked); handleSave('ad_desktop_enabled', e.target.checked); }}\n                    className=\"sr-only peer\"\n                  />\n                  <div className=\"w-11 h-6 bg-gray-600 peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n\n              {/* Media URL */}\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-300 mb-2 text-sm font-medium\">\n                  Media URL <span className=\"text-gray-500\">(image, animated GIF, or video)</span>\n                </label>\n                <div className=\"flex gap-3\">\n                  <input\n                    type=\"url\"\n                    value={settings.ad_desktop_media_url || ''}\n                    onChange={(e) => handleChange('ad_desktop_media_url', e.target.value)}\n                    className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"https://cdn.example.com/ad-banner.gif\"\n                  />\n                  <Button variant=\"primary\" onClick={() => handleSave('ad_desktop_media_url', settings.ad_desktop_media_url)} disabled={saving}>Save</Button>\n                </div>\n                <p className=\"text-gray-500 text-xs mt-1\">\n                  Supported: .jpg .png .gif .mp4 .webm  GIFs auto-loop. Videos are muted and looped.\n                </p>\n              </div>\n\n              {/* Media type override */}\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-300 mb-2 text-sm font-medium\">Media Type Override</label>\n                <div className=\"flex gap-3\">\n                  <select\n                    value={settings.ad_desktop_media_type || ''}\n                    onChange={(e) => handleChange('ad_desktop_media_type', e.target.value)}\n                    className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Auto-detect from URL</option>\n                    <option value=\"image\">Image (.jpg / .png)</option>\n                    <option value=\"gif\">Animated GIF</option>\n                    <option value=\"video\">Video (.mp4 / .webm)</option>\n                  </select>\n                  <Button variant=\"primary\" onClick={() => handleSave('ad_desktop_media_type', settings.ad_desktop_media_type)} disabled={saving}>Save</Button>\n                </div>\n              </div>\n\n              {/* Click URL */}\n              <div className=\"mb-4\">\n                <label className=\"block text-gray-300 mb-2 text-sm font-medium\">\n                  Click-through URL <span className=\"text-gray-500\">(optional)</span>\n                </label>\n                <div className=\"flex gap-3\">\n                  <input\n                    type=\"url\"\n                    value={settings.ad_desktop_click_url || ''}\n                    onChange={(e) => handleChange('ad_desktop_click_url', e.target.value)}\n                    className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"https://example.com/promo\"\n                  />\n                  <Button variant=\"primary\" onClick={() => handleSave('ad_desktop_click_url', settings.ad_desktop_click_url)} disabled={saving}>Save</Button>\n                </div>\n                <p className=\"text-gray-500 text-xs mt-1\">Opens in the user\\'s browser when they click the ad. Leave blank to disable click-through.</p>\n              </div>\n\n              {/* Hide for premium toggle */}\n              <div className=\"flex items-center justify-between bg-white bg-opacity-5 rounded-lg p-4\">\n                <div>\n                  <p className=\"text-white font-medium\">Hide for Premium Users</p>\n                  <p className=\"text-gray-400 text-sm\">If enabled, paid / admin users won\\'t see the desktop ad box</p>\n                </div>\n                <label className=\"relative inline-flex items-center cursor-pointer\">\n                  <input\n                    type=\"checkbox\"\n                    checked={settings.ad_desktop_hide_premium || false}\n                    onChange={(e) => { handleChange('ad_desktop_hide_premium', e.target.checked); handleSave('ad_desktop_hide_premium', e.target.checked); }}\n                    className=\"sr-only peer\"\n                  />\n                  <div className=\"w-11 h-6 bg-gray-600 peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n                </label>\n              </div>\n            </div>\n\n            {/*  Mobile Ads Info  */}\n            <div className=\"border border-white border-opacity-10 rounded-xl p-5\">\n              <h4 className=\"text-white font-bold text-lg mb-3\">Mobile Ads (Android &amp; iOS  Free Users)</h4>\n              <div className=\"space-y-3 text-sm text-gray-300\">\n                <div className=\"bg-white bg-opacity-5 rounded-lg p-4\">\n                  <p className=\"font-semibold text-white mb-1\">Ad Logic</p>\n                  <ul className=\"space-y-1 list-disc list-inside text-gray-400\">\n                    <li><strong className=\"text-white\">1st connection:</strong> Free  no ad shown.</li>\n                    <li><strong className=\"text-white\">2nd connection:</strong> Rewarded video  user must watch to connect.</li>\n                    <li><strong className=\"text-white\">3rd+ connections:</strong> Interstitial ad shown before connecting.</li>\n                    <li><strong className=\"text-white\">Premium / admin users:</strong> Never see any ads.</li>\n                  </ul>\n                </div>\n                <div className=\"bg-white bg-opacity-5 rounded-lg p-4\">\n                  <p className=\"font-semibold text-white mb-1\">Ad Counter Reset &amp; Cooldowns</p>\n                  <p className=\"text-gray-400\">\n                    The ad gate counter (<em>1st free  2nd rewarded  3rd+ interstitial</em>) automatically\n                    resets to zero after <strong className=\"text-white\">8 hours</strong>  each user gets\n                    a fresh session every 8 hours.\n                    Additionally, the interstitial has a <strong className=\"text-white\">30-minute cooldown</strong>:\n                    if a user connects more than once every 30 min (common when switching servers),\n                    the extra reconnects are free  no ad-bombing.\n                  </p>\n                </div>\n                <div className=\"bg-white bg-opacity-5 rounded-lg p-4\">\n                  <p className=\"font-semibold text-white mb-1\">Ad Networks</p>\n                  <p className=\"text-gray-400\">\n                    <strong className=\"text-white\">AdMob</strong> is the primary SDK.\n                    Add demand partners (AppLovin, Meta Audience Network, Unity Ads, etc.) through\n                    <strong className=\"text-white\"> AdMob Mediation</strong>  no extra Flutter packages needed.\n                    Configure ad unit IDs in <code className=\"text-blue-300\">lib/core/services/ad_service.dart</code>.\n                  </p>\n                </div>\n                <div className=\"bg-white bg-opacity-5 rounded-lg p-4\">\n                  <p className=\"font-semibold text-white mb-2\">Quick Links</p>\n                  <div className=\"flex flex-wrap gap-3\">\n                    <a href=\"https://admob.google.com\" target=\"_blank\" rel=\"noreferrer\"\n                      className=\"px-3 py-1.5 bg-blue-700 hover:bg-blue-600 rounded text-white text-xs\">\n                      AdMob Dashboard\n                    </a>\n                    <a href=\"https://admob.google.com/home/mediation/\" target=\"_blank\" rel=\"noreferrer\"\n                      className=\"px-3 py-1.5 bg-purple-700 hover:bg-purple-600 rounded text-white text-xs\">\n                      AdMob Mediation Setup\n                    </a>\n                  </div>\n                </div>\n                <div className=\"bg-yellow-900 bg-opacity-40 border border-yellow-600 rounded-lg p-4\">\n                  <p className=\"text-yellow-200 text-sm font-semibold mb-1\"> Required one-time setup in AdMob dashboard</p>\n                  <ul className=\"text-yellow-200 text-sm space-y-1 list-disc list-inside\">\n                    <li>\n                      <strong>iOS ATT prompt</strong>: Go to AdMob  Privacy &amp; Messaging  iOS App\n                      Tracking Transparency and create a message. Without this, iOS serves\n                      non-personalized ads only (lower CPM).\n                    </li>\n                    <li>\n                      <strong>GDPR consent form</strong>: Go to AdMob  Privacy &amp; Messaging  GDPR\n                      and create a consent message for EEA/UK users.\n                    </li>\n                    <li>\n                      <strong>App Store / Play Store</strong>: Include <em>\"No ads for Premium subscribers\"</em> in\n                      the app description to comply with store policies.\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Card>\n      )}\n\n    </div>\n  );\n};\n\n// ========== Subscription Reminder Settings Panel ==========\nconst SubscriptionSettingsPanel = () => {\n  const [config, setConfig] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [testing, setTesting] = useState(false);\n  const [resetting, setResetting] = useState(false);\n  const [msg, setMsg] = useState({ type: '', text: '' });\n  const [daysInput, setDaysInput] = useState('');\n  const [reminderEnabled, setReminderEnabled] = useState(true);\n  const [testResult, setTestResult] = useState(null);\n  const [expiringUsers, setExpiringUsers] = useState(null);\n\n  const { confirm: confirmDialog, dialogProps } = useConfirm();\n\n  const showMsg = (type, text) => {\n    setMsg({ type, text });\n    setTimeout(() => setMsg({ type: '', text: '' }), 5000);\n  };\n\n  useEffect(() => {\n    loadConfig();\n  }, []);\n\n  const loadConfig = async () => {\n    try {\n      setLoading(true);\n      const res = await apiService.getSubscriptionSettings();\n      const d = res.data;\n      setConfig(d);\n      setDaysInput(d.reminder_days.join(', '));\n      setReminderEnabled(d.reminder_enabled !== false);\n    } catch (err) {\n      console.error('Failed to load subscription settings:', err);\n      showMsg('error', 'Failed to load subscription settings');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    try {\n      setSaving(true);\n      const days = daysInput\n        .split(',')\n        .map(s => parseInt(s.trim(), 10))\n        .filter(n => !isNaN(n) && n > 0);\n\n      if (days.length === 0) {\n        showMsg('error', 'Enter at least one valid reminder day');\n        return;\n      }\n\n      await apiService.updateSubscriptionSettings({\n        reminder_days: days,\n        reminder_enabled: reminderEnabled,\n      });\n      showMsg('success', 'Settings saved  will take effect on next cron run');\n      await loadConfig();\n    } catch (err) {\n      showMsg('error', err.response?.data?.error || 'Failed to save settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDryRun = async () => {\n    try {\n      setTesting(true);\n      setTestResult(null);\n      const res = await apiService.testReminders(true);\n      setTestResult(res.data);\n      showMsg('success', `Dry run complete: ${res.data.would_send} emails would be sent`);\n    } catch (err) {\n      showMsg('error', err.response?.data?.error || 'Dry run failed');\n    } finally {\n      setTesting(false);\n    }\n  };\n\n  const handleLiveRun = async () => {\n    const ok = await confirmDialog({ title: 'Send Live Emails', message: 'This will send real emails to users with expiring subscriptions. Continue?', confirmText: 'Send Now', variant: 'warning' });\n    if (!ok) return;\n    try {\n      setTesting(true);\n      const res = await apiService.testReminders(false);\n      setTestResult(null);\n      showMsg('success', `Live run complete: ${res.data.sent} emails sent, ${res.data.skipped} skipped`);\n      await loadConfig();\n    } catch (err) {\n      showMsg('error', err.response?.data?.error || 'Live run failed');\n    } finally {\n      setTesting(false);\n    }\n  };\n\n  const handleResetDedup = async () => {\n    const ok = await confirmDialog({ title: 'Reset Dedup Tracking', message: 'Reset dedup tracking for all users? This will allow re-sending all reminders.', confirmText: 'Reset', variant: 'danger' });\n    if (!ok) return;\n    try {\n      setResetting(true);\n      const res = await apiService.resetReminderDedup();\n      showMsg('success', res.data.message);\n      await loadConfig();\n    } catch (err) {\n      showMsg('error', err.response?.data?.error || 'Reset failed');\n    } finally {\n      setResetting(false);\n    }\n  };\n\n  const handleLoadExpiring = async () => {\n    try {\n      const res = await apiService.getExpiringUsers(30);\n      setExpiringUsers(res.data);\n    } catch (err) {\n      showMsg('error', 'Failed to load expiring users');\n    }\n  };\n\n  const inputClass = \"px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\";\n\n  if (loading) return <div className=\"text-gray-400 text-center py-10\"><FaSpinner className=\"animate-spin inline mr-2\" />Loading subscription settings...</div>;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Stats Overview */}\n      <Card className=\"p-6\">\n        <h3 className=\"text-2xl font-bold text-white mb-4 flex items-center gap-2\">\n          <FaUsers className=\"text-blue-400\" /> Subscription Overview\n        </h3>\n        {config?.stats && (\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"bg-blue-900 bg-opacity-30 border border-blue-700 rounded-lg p-4 text-center\">\n              <div className=\"text-3xl font-bold text-blue-300\">{config.stats.paid_users}</div>\n              <div className=\"text-gray-400 text-sm mt-1\">Paid Users</div>\n            </div>\n            <div className=\"bg-green-900 bg-opacity-30 border border-green-700 rounded-lg p-4 text-center\">\n              <div className=\"text-3xl font-bold text-green-300\">{config.stats.auto_renew_on}</div>\n              <div className=\"text-gray-400 text-sm mt-1\">Auto-Renew ON</div>\n            </div>\n            <div className=\"bg-yellow-900 bg-opacity-30 border border-yellow-700 rounded-lg p-4 text-center\">\n              <div className=\"text-3xl font-bold text-yellow-300\">{config.stats.auto_renew_off}</div>\n              <div className=\"text-gray-400 text-sm mt-1\">Auto-Renew OFF</div>\n            </div>\n            <div className=\"bg-red-900 bg-opacity-30 border border-red-700 rounded-lg p-4 text-center\">\n              <div className=\"text-3xl font-bold text-red-300\">{config.stats.expired_pending}</div>\n              <div className=\"text-gray-400 text-sm mt-1\">Expired Pending</div>\n            </div>\n          </div>\n        )}\n        {config?.stats && (\n          <div className=\"flex gap-4 mt-4 text-sm\">\n            <span className=\"text-yellow-300\">Expiring 7d: <strong>{config.stats.expiring_7d}</strong></span>\n            <span className=\"text-orange-300\">Expiring 3d: <strong>{config.stats.expiring_3d}</strong></span>\n            <span className=\"text-red-300\">Expiring 1d: <strong>{config.stats.expiring_1d}</strong></span>\n          </div>\n        )}\n      </Card>\n\n      {/* Reminder Configuration */}\n      <Card className=\"p-6\">\n        <div className=\"flex justify-between items-center mb-6 flex-wrap gap-3\">\n          <h3 className=\"text-2xl font-bold text-white flex items-center gap-2\">\n            <FaBell className=\"text-yellow-400\" /> Expiry Reminder Settings\n          </h3>\n          {msg.text && (\n            <div className={`px-4 py-2 rounded-lg text-sm text-white ${msg.type === 'success' ? 'bg-green-600' : 'bg-red-600'}`}>\n              {msg.text}\n            </div>\n          )}\n        </div>\n\n        <div className=\"space-y-6\">\n          {/* Enable/Disable Toggle */}\n          <div className=\"flex items-center justify-between bg-white bg-opacity-5 rounded-lg p-4\">\n            <div>\n              <p className=\"text-white font-medium\">Enable Expiry Reminders</p>\n              <p className=\"text-gray-400 text-sm\">Send email reminders to users before subscription expires</p>\n            </div>\n            <label className=\"relative inline-flex items-center cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={reminderEnabled}\n                onChange={(e) => setReminderEnabled(e.target.checked)}\n                className=\"sr-only peer\"\n              />\n              <div className=\"w-11 h-6 bg-gray-600 peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n            </label>\n          </div>\n\n          {/* Reminder Days */}\n          <div>\n            <label className=\"block text-gray-300 mb-2 flex items-center gap-2\">\n              <FaCalendarAlt className=\"text-blue-400\" /> Reminder Days Before Expiry\n            </label>\n            <div className=\"flex gap-4\">\n              <input\n                type=\"text\"\n                value={daysInput}\n                onChange={(e) => setDaysInput(e.target.value)}\n                placeholder=\"7, 3, 1\"\n                className={inputClass + ' flex-1'}\n              />\n              <Button variant=\"primary\" onClick={handleSave} disabled={saving}>\n                {saving ? <FaSpinner className=\"animate-spin mr-1\" /> : <FaBell className=\"mr-1\" />}\n                Save\n              </Button>\n            </div>\n            <p className=\"text-gray-500 text-xs mt-1\">\n              Comma-separated days (e.g., <code className=\"text-gray-300\">14, 7, 3, 1</code>). Users receive ONE email per threshold, never duplicates.\n            </p>\n          </div>\n\n          {/* Current Schedule Info */}\n          <div className=\"bg-blue-900 bg-opacity-20 border border-blue-700 rounded-lg p-4\">\n            <p className=\"text-blue-200 text-sm\">\n              <strong>Schedule:</strong> {config?.cron_schedule || 'Daily at midnight UTC'}\n            </p>\n            <p className=\"text-blue-200 text-sm mt-1\">\n              <strong>Current reminders:</strong> {config?.reminder_days?.map(d => `${d} day${d > 1 ? 's' : ''}`).join('  ') || 'Not configured'}\n            </p>\n            <p className=\"text-gray-400 text-xs mt-2\">\n              Deduplication is built-in  each user receives at most one email per reminder threshold per subscription period.\n              Auto-renew users whose Stripe renewal succeeds will NOT be downgraded.\n            </p>\n          </div>\n\n          {/* Actions: Dry Run / Live / Reset */}\n          <div className=\"border-t border-white border-opacity-10 pt-5\">\n            <h4 className=\"text-white font-bold mb-3\">Manual Actions</h4>\n            <div className=\"flex flex-wrap gap-3\">\n              <Button\n                variant=\"secondary\"\n                onClick={handleDryRun}\n                disabled={testing}\n                className=\"!bg-purple-700 hover:!bg-purple-600\"\n              >\n                {testing ? <FaSpinner className=\"animate-spin mr-1\" /> : <FaPlay className=\"mr-1\" />}\n                Dry Run (Preview)\n              </Button>\n              <Button\n                variant=\"primary\"\n                onClick={handleLiveRun}\n                disabled={testing}\n              >\n                {testing ? <FaSpinner className=\"animate-spin mr-1\" /> : <FaPaperPlane className=\"mr-1\" />}\n                Send Now (Live)\n              </Button>\n              <Button\n                variant=\"secondary\"\n                onClick={handleResetDedup}\n                disabled={resetting}\n                className=\"!bg-orange-700 hover:!bg-orange-600\"\n              >\n                {resetting ? <FaSpinner className=\"animate-spin mr-1\" /> : <FaRedo className=\"mr-1\" />}\n                Reset Dedup Tracking\n              </Button>\n              <Button\n                variant=\"secondary\"\n                onClick={handleLoadExpiring}\n                className=\"!bg-gray-700 hover:!bg-gray-600\"\n              >\n                <FaUsers className=\"mr-1\" /> View Expiring Users\n              </Button>\n            </div>\n          </div>\n\n          {/* Dry Run Results */}\n          {testResult && (\n            <div className=\"bg-purple-900 bg-opacity-20 border border-purple-600 rounded-lg p-4\">\n              <h4 className=\"text-purple-200 font-bold mb-2\">Dry Run Results</h4>\n              <div className=\"flex gap-4 mb-3 text-sm\">\n                <span className=\"text-green-300\">Would Send: <strong>{testResult.would_send}</strong></span>\n                <span className=\"text-gray-400\">Would Skip: <strong>{testResult.would_skip}</strong></span>\n                <span className=\"text-blue-300\">Reminder Days: <strong>{testResult.reminder_days?.join(', ')}</strong></span>\n              </div>\n              {testResult.details?.length > 0 && (\n                <div className=\"max-h-60 overflow-y-auto\">\n                  <table className=\"w-full text-sm\">\n                    <thead className=\"text-gray-400\">\n                      <tr>\n                        <th className=\"text-left py-1 px-2\">Email</th>\n                        <th className=\"text-center py-1 px-2\">Days Left</th>\n                        <th className=\"text-center py-1 px-2\">Reminder</th>\n                        <th className=\"text-center py-1 px-2\">Last Sent</th>\n                        <th className=\"text-center py-1 px-2\">Status</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"text-gray-300\">\n                      {testResult.details.map((d, i) => (\n                        <tr key={i} className=\"border-t border-white border-opacity-5\">\n                          <td className=\"py-1 px-2\">{d.email}</td>\n                          <td className=\"text-center py-1 px-2\">{d.days_until_expiry}</td>\n                          <td className=\"text-center py-1 px-2\">{d.matched_reminder_day}d</td>\n                          <td className=\"text-center py-1 px-2\">{d.last_reminder_sent ?? ''}</td>\n                          <td className=\"text-center py-1 px-2\">\n                            {d.would_send\n                              ? <FaCheckCircle className=\"inline text-green-400\" title=\"Will send\" />\n                              : <FaTimesCircle className=\"inline text-gray-500\" title=\"Skipped (already sent)\" />\n                            }\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Expiring Users List */}\n          {expiringUsers && (\n            <div className=\"bg-yellow-900 bg-opacity-20 border border-yellow-600 rounded-lg p-4\">\n              <h4 className=\"text-yellow-200 font-bold mb-2\">\n                Expiring Users ({expiringUsers.total} within {expiringUsers.days_window} days)\n              </h4>\n              {expiringUsers.users.length === 0 ? (\n                <p className=\"text-gray-400 text-sm\">No users with expiring subscriptions.</p>\n              ) : (\n                <div className=\"max-h-60 overflow-y-auto\">\n                  <table className=\"w-full text-sm\">\n                    <thead className=\"text-gray-400\">\n                      <tr>\n                        <th className=\"text-left py-1 px-2\">Email</th>\n                        <th className=\"text-center py-1 px-2\">Plan</th>\n                        <th className=\"text-center py-1 px-2\">Expires</th>\n                        <th className=\"text-center py-1 px-2\">Days Left</th>\n                        <th className=\"text-center py-1 px-2\">Auto-Renew</th>\n                        <th className=\"text-center py-1 px-2\">Last Reminder</th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"text-gray-300\">\n                      {expiringUsers.users.map((u, i) => (\n                        <tr key={i} className=\"border-t border-white border-opacity-5\">\n                          <td className=\"py-1 px-2\">{u.email}</td>\n                          <td className=\"text-center py-1 px-2\">{u.plan_type || ''}</td>\n                          <td className=\"text-center py-1 px-2\">{u.subscription_end_date ? new Date(u.subscription_end_date).toLocaleDateString() : ''}</td>\n                          <td className=\"text-center py-1 px-2\">\n                            <span className={u.days_until_expiry <= 1 ? 'text-red-400 font-bold' : u.days_until_expiry <= 3 ? 'text-orange-400' : 'text-yellow-300'}>\n                              {u.days_until_expiry}\n                            </span>\n                          </td>\n                          <td className=\"text-center py-1 px-2\">\n                            {u.auto_renew\n                              ? <span className=\"text-green-400\">ON</span>\n                              : <span className=\"text-red-400\">OFF</span>\n                            }\n                          </td>\n                          <td className=\"text-center py-1 px-2\">{u.last_expiry_reminder_days ?? ''}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Recent Logs */}\n          {config?.recent_logs?.length > 0 && (\n            <div className=\"border-t border-white border-opacity-10 pt-5\">\n              <h4 className=\"text-white font-bold mb-3\">Recent Activity</h4>\n              <div className=\"max-h-48 overflow-y-auto\">\n                {config.recent_logs.map((log, i) => (\n                  <div key={i} className=\"flex items-center gap-3 py-2 border-b border-white border-opacity-5 text-sm\">\n                    <span className={`px-2 py-0.5 rounded text-xs font-mono ${\n                      log.action === 'payment_failed' ? 'bg-red-800 text-red-200' :\n                      log.action === 'subscription_expired' ? 'bg-orange-800 text-orange-200' :\n                      'bg-blue-800 text-blue-200'\n                    }`}>{log.action}</span>\n                    <span className=\"text-gray-400\">{new Date(log.created_at).toLocaleString()}</span>\n                    <span className=\"text-gray-500 text-xs truncate\">{JSON.stringify(log.details)?.slice(0, 80)}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </Card>\n\n      {/* How It Works */}\n      <Card className=\"p-6\">\n        <h3 className=\"text-xl font-bold text-white mb-4 flex items-center gap-2\">\n          <FaSyncAlt className=\"text-green-400\" /> How Auto-Renewal Works\n        </h3>\n        <div className=\"space-y-3 text-gray-300 text-sm\">\n          <div className=\"bg-green-900 bg-opacity-20 border border-green-700 rounded-lg p-4\">\n            <p><strong className=\"text-green-300\">Auto-Renewal = ON:</strong> Stripe automatically charges the user at the end of their billing period. No action needed  the user's subscription renews seamlessly.</p>\n          </div>\n          <div className=\"bg-yellow-900 bg-opacity-20 border border-yellow-700 rounded-lg p-4\">\n            <p><strong className=\"text-yellow-300\">Auto-Renewal = OFF:</strong> When the subscription end date passes, the daily cron downgrades the user to free tier and sends a \"subscription expired\" email. Reminder emails are sent at the configured intervals before this happens.</p>\n          </div>\n          <div className=\"bg-red-900 bg-opacity-20 border border-red-700 rounded-lg p-4\">\n            <p><strong className=\"text-red-300\">Payment Failed:</strong> If Stripe cannot charge the renewal, a \"payment failed\" email is sent automatically via webhook. The user keeps access until Stripe exhausts retry attempts, then the subscription is cancelled.</p>\n          </div>\n          <div className=\"bg-blue-900 bg-opacity-20 border border-blue-700 rounded-lg p-4\">\n            <p><strong className=\"text-blue-300\">Deduplication:</strong> Each user receives only one email per reminder threshold per subscription period (e.g., one \"7 days left\" email, one \"3 days left\" email). The tracker resets when a subscription expires or renews.</p>\n          </div>\n        </div>\n      </Card>\n      <ConfirmDialog {...dialogProps} />\n    </div>\n  );\n};\n\n// ========== Email Settings Panel (Postal + SMTP unified) ==========\nconst EmailSettingsPanel = () => {\n  const [config, setConfig] = useState({\n    provider: 'postal',\n    postal_api_url: '', postal_api_key: '',\n    smtp_host: '', smtp_port: 587, smtp_secure: false, smtp_user: '', smtp_password: '',\n    from_name: '', from_email: ''\n  });\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [testing, setTesting] = useState(false);\n  const [testEmail, setTestEmail] = useState('');\n  const [msg, setMsg] = useState({ type: '', text: '' });\n\n  const showMsg = (type, text) => {\n    setMsg({ type, text });\n    setTimeout(() => setMsg({ type: '', text: '' }), 5000);\n  };\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const res = await apiService.getEmailConfig();\n        const d = res.data;\n        setConfig({\n          provider: d.provider || 'postal',\n          postal_api_url: d.postal_api_url || '',\n          postal_api_key: d.has_postal_key ? d.postal_api_key : '',\n          smtp_host: d.smtp_host || '',\n          smtp_port: d.smtp_port || 587,\n          smtp_secure: d.smtp_secure || false,\n          smtp_user: d.smtp_user || '',\n          smtp_password: d.has_smtp_password ? '' : '',\n          from_name: d.from_name || '',\n          from_email: d.from_email || '',\n        });\n      } catch (err) {\n        console.error('Failed to load email config:', err);\n        showMsg('error', 'Failed to load email settings');\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, []);\n\n  const handleSave = async () => {\n    try {\n      setSaving(true);\n      await apiService.updateEmailConfig(config);\n      showMsg('success', 'Email settings saved successfully');\n    } catch (err) {\n      showMsg('error', err.response?.data?.error || 'Failed to save email settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleTest = async () => {\n    if (!testEmail) { showMsg('error', 'Enter a test email address'); return; }\n    try {\n      setTesting(true);\n      const res = await apiService.testEmailConfig(testEmail);\n      const provider = res.data?.provider === 'postal' ? 'Postal' : 'SMTP';\n      showMsg('success', `Test email sent via ${provider} to ${testEmail}`);\n    } catch (err) {\n      showMsg('error', err.response?.data?.error || 'Email test failed');\n    } finally {\n      setTesting(false);\n    }\n  };\n\n  const inputClass = \"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\";\n\n  if (loading) return <div className=\"text-gray-400 text-center py-10\"><FaSpinner className=\"animate-spin inline mr-2\" />Loading email settings...</div>;\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"flex justify-between items-center mb-6 flex-wrap gap-3\">\n        <h3 className=\"text-2xl font-bold text-white\">Email Configuration</h3>\n        {msg.text && (\n          <div className={`px-4 py-2 rounded-lg text-sm text-white ${msg.type === 'success' ? 'bg-green-600' : 'bg-red-600'}`}>\n            {msg.text}\n          </div>\n        )}\n      </div>\n\n      <div className=\"space-y-6\">\n        {/* Provider Selector */}\n        <div className=\"bg-gradient-to-r from-blue-900 to-purple-900 bg-opacity-40 border border-blue-500 rounded-lg p-5\">\n          <label className=\"block text-white font-bold mb-3 text-lg\">Email Provider</label>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {/* Postal Option */}\n            <button\n              onClick={() => setConfig(c => ({ ...c, provider: 'postal' }))}\n              className={`relative p-4 rounded-xl border-2 transition-all text-left ${\n                config.provider === 'postal'\n                  ? 'border-blue-400 bg-blue-600 bg-opacity-30 shadow-lg shadow-blue-500/20'\n                  : 'border-gray-600 bg-white bg-opacity-5 hover:border-gray-400'\n              }`}\n            >\n              {config.provider === 'postal' && (\n                <span className=\"absolute top-2 right-2 w-3 h-3 bg-blue-400 rounded-full animate-pulse\" />\n              )}\n              <div className=\"text-white font-bold text-lg mb-1\">Postal API</div>\n              <p className=\"text-gray-300 text-sm\">Direct HTTP API to your Postal mail server. No SMTP relay needed. Fast and reliable.</p>\n              <div className=\"mt-2 text-xs text-blue-300\">mail.oioxo.com</div>\n            </button>\n            {/* SMTP Option */}\n            <button\n              onClick={() => setConfig(c => ({ ...c, provider: 'smtp' }))}\n              className={`relative p-4 rounded-xl border-2 transition-all text-left ${\n                config.provider === 'smtp'\n                  ? 'border-green-400 bg-green-600 bg-opacity-30 shadow-lg shadow-green-500/20'\n                  : 'border-gray-600 bg-white bg-opacity-5 hover:border-gray-400'\n              }`}\n            >\n              {config.provider === 'smtp' && (\n                <span className=\"absolute top-2 right-2 w-3 h-3 bg-green-400 rounded-full animate-pulse\" />\n              )}\n              <div className=\"text-white font-bold text-lg mb-1\">SMTP Relay</div>\n              <p className=\"text-gray-300 text-sm\">Traditional SMTP server (Gmail, SendPulse, Mailgun, etc). Uses nodemailer.</p>\n              <div className=\"mt-2 text-xs text-green-300\">Any SMTP provider</div>\n            </button>\n          </div>\n        </div>\n\n        {/* Postal Settings */}\n        {config.provider === 'postal' && (\n          <div className=\"space-y-4 border border-blue-700 rounded-lg p-5 bg-blue-900 bg-opacity-20\">\n            <h4 className=\"text-white font-bold flex items-center gap-2\">\n              <FaServer className=\"text-blue-400\" /> Postal API Settings\n            </h4>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">API URL</label>\n              <input\n                type=\"text\"\n                value={config.postal_api_url}\n                onChange={(e) => setConfig(c => ({ ...c, postal_api_url: e.target.value }))}\n                placeholder=\"http://mail.oioxo.com:5000\"\n                className={inputClass + ' w-full'}\n              />\n              <p className=\"text-gray-500 text-xs mt-1\">Base URL of your Postal server (without /api/v1)</p>\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">Server API Key</label>\n              <input\n                type=\"password\"\n                value={config.postal_api_key}\n                onChange={(e) => setConfig(c => ({ ...c, postal_api_key: e.target.value }))}\n                placeholder=\"Enter Postal API key\"\n                className={inputClass + ' w-full'}\n              />\n              <p className=\"text-gray-500 text-xs mt-1\">Found in Postal admin  Credentials  Server API Keys</p>\n            </div>\n          </div>\n        )}\n\n        {/* SMTP Settings */}\n        {config.provider === 'smtp' && (\n          <div className=\"space-y-4 border border-green-700 rounded-lg p-5 bg-green-900 bg-opacity-20\">\n            <h4 className=\"text-white font-bold flex items-center gap-2\">\n              <FaEnvelope className=\"text-green-400\" /> SMTP Server Settings\n            </h4>\n            {/* Host + Port */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"md:col-span-2\">\n                <label className=\"block text-gray-300 mb-2\">SMTP Host</label>\n                <input\n                  type=\"text\"\n                  value={config.smtp_host}\n                  onChange={(e) => setConfig(c => ({ ...c, smtp_host: e.target.value }))}\n                  placeholder=\"smtp.gmail.com\"\n                  className={inputClass + ' w-full'}\n                />\n              </div>\n              <div>\n                <label className=\"block text-gray-300 mb-2\">Port</label>\n                <input\n                  type=\"number\"\n                  value={config.smtp_port}\n                  onChange={(e) => setConfig(c => ({ ...c, smtp_port: parseInt(e.target.value) || 587 }))}\n                  className={inputClass + ' w-full'}\n                />\n              </div>\n            </div>\n            {/* Secure Toggle */}\n            <div className=\"flex items-center gap-4\">\n              <label className=\"text-gray-300\">Use SSL/TLS</label>\n              <label className=\"relative inline-flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={config.smtp_secure}\n                  onChange={(e) => setConfig(c => ({ ...c, smtp_secure: e.target.checked }))}\n                  className=\"sr-only peer\"\n                />\n                <div className=\"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\n              </label>\n              <span className=\"text-gray-500 text-sm\">Enable for port 465, disable for port 587 (STARTTLS)</span>\n            </div>\n            {/* Username + Password */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-gray-300 mb-2\">Username / Email</label>\n                <input\n                  type=\"text\"\n                  value={config.smtp_user}\n                  onChange={(e) => setConfig(c => ({ ...c, smtp_user: e.target.value }))}\n                  placeholder=\"you@domain.com\"\n                  className={inputClass + ' w-full'}\n                />\n              </div>\n              <div>\n                <label className=\"block text-gray-300 mb-2\">Password / App Password</label>\n                <input\n                  type=\"password\"\n                  value={config.smtp_password}\n                  onChange={(e) => setConfig(c => ({ ...c, smtp_password: e.target.value }))}\n                  placeholder=\"\"\n                  className={inputClass + ' w-full'}\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Shared: From Name + From Email */}\n        <div className=\"border border-gray-700 rounded-lg p-5 bg-white bg-opacity-5\">\n          <h4 className=\"text-white font-bold mb-4\">Sender Identity</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-gray-300 mb-2\">From Name</label>\n              <input\n                type=\"text\"\n                value={config.from_name}\n                onChange={(e) => setConfig(c => ({ ...c, from_name: e.target.value }))}\n                placeholder=\"VPN XO\"\n                className={inputClass + ' w-full'}\n              />\n            </div>\n            <div>\n              <label className=\"block text-gray-300 mb-2\">From Email</label>\n              <input\n                type=\"email\"\n                value={config.from_email}\n                onChange={(e) => setConfig(c => ({ ...c, from_email: e.target.value }))}\n                placeholder=\"noreply@vpn-xo.com\"\n                className={inputClass + ' w-full'}\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Save Button */}\n        <div className=\"flex justify-end\">\n          <Button variant=\"primary\" onClick={handleSave} disabled={saving}>\n            {saving ? <FaSpinner className=\"animate-spin mr-1\" /> : <FaEnvelope className=\"mr-1\" />}\n            Save Email Settings\n          </Button>\n        </div>\n\n        {/* Test Email */}\n        <div className=\"border-t border-white border-opacity-10 pt-5\">\n          <h4 className=\"text-white font-bold mb-3\">\n            <FaPaperPlane className=\"inline mr-2\" />\n            Test Email ({config.provider === 'postal' ? 'Postal API' : 'SMTP'})\n          </h4>\n          <div className=\"flex gap-3\">\n            <input\n              type=\"email\"\n              value={testEmail}\n              onChange={(e) => setTestEmail(e.target.value)}\n              placeholder=\"test@example.com\"\n              className={inputClass}\n            />\n            <Button variant=\"primary\" onClick={handleTest} disabled={testing || !testEmail}>\n              {testing ? <FaSpinner className=\"animate-spin\" /> : 'Send Test'}\n            </Button>\n          </div>\n          <p className=\"text-gray-500 text-xs mt-1\">\n            Sends a test email using the <strong>{config.provider === 'postal' ? 'Postal API' : 'SMTP'}</strong> provider to verify your configuration.\n          </p>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default SystemSettings;\n","import { useState, useEffect, useRef, useCallback } from 'react';\r\n\r\n/**\r\n * Custom hook for debouncing a value.\r\n * Returns the debounced version of the input value.\r\n * \r\n * Usage:\r\n *   const [search, setSearch] = useState('');\r\n *   const debouncedSearch = useDebounce(search, 300);\r\n *   \r\n *   useEffect(() => {\r\n *     // Only fires 300ms after user stops typing\r\n *     fetchResults(debouncedSearch);\r\n *   }, [debouncedSearch]);\r\n * \r\n * @param {*} value - The value to debounce\r\n * @param {number} delay - Delay in milliseconds (default: 300)\r\n * @returns {*} The debounced value\r\n */\r\nexport function useDebounce(value, delay = 300) {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => clearTimeout(handler);\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n}\r\n\r\n/**\r\n * Custom hook for creating a debounced callback function.\r\n * \r\n * Usage:\r\n *   const debouncedSearch = useDebouncedCallback((term) => {\r\n *     apiService.search(term);\r\n *   }, 500);\r\n * \r\n * @param {Function} callback - The function to debounce\r\n * @param {number} delay - Delay in milliseconds (default: 300)\r\n * @returns {Function} The debounced callback\r\n */\r\nexport function useDebouncedCallback(callback, delay = 300) {\r\n  const timerRef = useRef(null);\r\n  const callbackRef = useRef(callback);\r\n  \r\n  // Update ref when callback changes\r\n  callbackRef.current = callback;\r\n\r\n  const debouncedFn = useCallback((...args) => {\r\n    if (timerRef.current) {\r\n      clearTimeout(timerRef.current);\r\n    }\r\n    timerRef.current = setTimeout(() => {\r\n      callbackRef.current(...args);\r\n    }, delay);\r\n  }, [delay]);\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timerRef.current) {\r\n        clearTimeout(timerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return debouncedFn;\r\n}\r\n\r\nexport default useDebounce;\r\n","import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  FaTicketAlt,\n  FaSearch,\n  FaUser,\n  FaClock,\n  FaCheckCircle,\n  FaExclamationCircle,\n  FaReply,\n  FaTimes,\n  FaStar,\n  FaDownload,\n  FaUserTie,\n  FaExclamationTriangle,\n} from 'react-icons/fa';\nimport Card from '../common/Card';\nimport Button from '../common/Button';\nimport { apiService } from '../../services/api';\nimport { useDebounce } from '../../hooks/useDebounce';\n\nconst TicketManagement = () => {\n  const [tickets, setTickets] = useState([]);\n  const [selectedTicket, setSelectedTicket] = useState(null);\n  const [ticketMessages, setTicketMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState(null);\n  const [filters, setFilters] = useState({\n    status: 'all',\n    priority: 'all',\n    category: 'all',\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n  const debouncedSearch = useDebounce(searchTerm, 300);\n  const [replyMessage, setReplyMessage] = useState('');\n  const [internalNote, setInternalNote] = useState('');\n  const [sending, setSending] = useState(false);\n  const [exporting, setExporting] = useState(false);\n  const [adminStaff, setAdminStaff] = useState([]);\n\n  useEffect(() => {\n    loadTickets();\n    loadStats();\n    loadAdminStaff();\n  }, [filters]);\n\n  // Auto-refresh every 30s\n  useEffect(() => {\n    const interval = setInterval(() => {\n      loadTickets();\n      loadStats();\n    }, 30000);\n    return () => clearInterval(interval);\n  }, [filters]);\n\n  useEffect(() => {\n    if (selectedTicket) {\n      loadTicketDetails(selectedTicket.id);\n    }\n  }, [selectedTicket]);\n\n  const loadTickets = async () => {\n    try {\n      setLoading(true);\n      const params = {};\n      if (filters.status !== 'all') params.status = filters.status;\n      if (filters.priority !== 'all') params.priority = filters.priority;\n      if (filters.category !== 'all') params.category = filters.category;\n\n      const response = await apiService.getAllTickets(params);\n      setTickets(response.data.tickets || []);\n    } catch (err) {\n      console.error('Failed to load tickets:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadStats = async () => {\n    try {\n      const response = await apiService.getTicketStats();\n      setStats(response.data.stats);\n    } catch (err) {\n      console.error('Failed to load stats:', err);\n    }\n  };\n\n  const loadTicketDetails = async (ticketId) => {\n    try {\n      const response = await apiService.getTicket(ticketId);\n      setTicketMessages(response.data.messages || []);\n    } catch (err) {\n      console.error('Failed to load ticket details:', err);\n    }\n  };\n\n  const handleReply = async () => {\n    if (!replyMessage.trim()) return;\n\n    try {\n      setSending(true);\n      await apiService.addTicketMessage(selectedTicket.id, {\n        message: replyMessage.trim(),\n      });\n      setReplyMessage('');\n      await loadTicketDetails(selectedTicket.id);\n      await loadTickets();\n    } catch (err) {\n      console.error('Failed to send reply:', err);\n    } finally {\n      setSending(false);\n    }\n  };\n\n  const handleAddInternalNote = async () => {\n    if (!internalNote.trim()) return;\n\n    try {\n      setSending(true);\n      await apiService.addInternalNote(selectedTicket.id, internalNote.trim());\n      setInternalNote('');\n      await loadTicketDetails(selectedTicket.id);\n    } catch (err) {\n      console.error('Failed to add internal note:', err);\n    } finally {\n      setSending(false);\n    }\n  };\n\n  const handleUpdateStatus = async (ticketId, status) => {\n    try {\n      await apiService.updateTicketStatus(ticketId, status);\n      await loadTickets();\n      if (selectedTicket?.id === ticketId) {\n        setSelectedTicket({ ...selectedTicket, status });\n      }\n    } catch (err) {\n      console.error('Failed to update status:', err);\n    }\n  };\n\n  const handleUpdatePriority = async (ticketId, priority) => {\n    try {\n      await apiService.updateTicketPriority(ticketId, priority);\n      await loadTickets();\n      if (selectedTicket?.id === ticketId) {\n        setSelectedTicket({ ...selectedTicket, priority });\n      }\n    } catch (err) {\n      console.error('Failed to update priority:', err);\n    }\n  };\n\n  const loadAdminStaff = async () => {\n    try {\n      const response = await apiService.getUsers({ role: 'admin', limit: 50 });\n      setAdminStaff(response.data.users || []);\n    } catch {\n      // Silently fail  staff list is optional\n    }\n  };\n\n  const handleAssignTicket = async (ticketId, adminId) => {\n    try {\n      await apiService.assignTicket(ticketId, adminId);\n      await loadTickets();\n      if (selectedTicket?.id === ticketId) {\n        setSelectedTicket({ ...selectedTicket, assigned_to: adminId });\n      }\n    } catch (err) {\n      console.error('Failed to assign ticket:', err);\n    }\n  };\n\n  // SLA definitions (hours)\n  const SLA_TARGETS = {\n    urgent: { firstResponse: 1, resolution: 4 },\n    high: { firstResponse: 4, resolution: 24 },\n    medium: { firstResponse: 12, resolution: 72 },\n    low: { firstResponse: 24, resolution: 168 },\n  };\n\n  const getSlaStatus = (ticket) => {\n    const target = SLA_TARGETS[ticket.priority] || SLA_TARGETS.medium;\n    const created = new Date(ticket.created_at);\n    const now = new Date();\n    const hoursElapsed = (now - created) / (1000 * 60 * 60);\n    const resolved = ['resolved', 'closed'].includes(ticket.status);\n\n    if (resolved) return { label: 'Met', color: 'text-green-400', icon: null };\n\n    const responseDeadline = target.firstResponse;\n    const resolutionDeadline = target.resolution;\n\n    if (hoursElapsed > resolutionDeadline) {\n      return { label: 'Breached', color: 'text-red-400', icon: <FaExclamationTriangle className=\"text-red-400\" /> };\n    }\n    if (hoursElapsed > resolutionDeadline * 0.75) {\n      const remaining = Math.round(resolutionDeadline - hoursElapsed);\n      return { label: `${remaining}h left`, color: 'text-yellow-400', icon: <FaClock className=\"text-yellow-400\" /> };\n    }\n    if (hoursElapsed > responseDeadline && !ticket.first_response_at) {\n      return { label: 'Response overdue', color: 'text-orange-400', icon: <FaExclamationCircle className=\"text-orange-400\" /> };\n    }\n    return { label: 'On track', color: 'text-green-400', icon: null };\n  };\n\n  const getStatusBadge = (status) => {\n    const badges = {\n      open: { color: 'bg-blue-500', text: 'Open' },\n      in_progress: { color: 'bg-yellow-500', text: 'In Progress' },\n      waiting_user: { color: 'bg-orange-500', text: 'Waiting User' },\n      waiting_staff: { color: 'bg-purple-500', text: 'Waiting Staff' },\n      resolved: { color: 'bg-green-500', text: 'Resolved' },\n      closed: { color: 'bg-gray-500', text: 'Closed' },\n    };\n    const badge = badges[status] || badges.open;\n    return (\n      <span className={`px-3 py-1 rounded-full text-xs font-semibold text-white ${badge.color}`}>\n        {badge.text}\n      </span>\n    );\n  };\n\n  const getPriorityColor = (priority) => {\n    const colors = {\n      low: 'text-gray-400',\n      medium: 'text-blue-400',\n      high: 'text-orange-400',\n      urgent: 'text-red-400',\n    };\n    return colors[priority] || colors.medium;\n  };\n\n  const handleExportCsv = async () => {\n    setExporting(true);\n    try {\n      const response = await apiService.exportTicketsCsv();\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'tickets-export.csv';\n      a.click();\n      window.URL.revokeObjectURL(url);\n    } catch { /* ignore */ }\n    setExporting(false);\n  };\n\n  const filteredTickets = tickets.filter((ticket) => {\n    if (debouncedSearch) {\n      const search = debouncedSearch.toLowerCase();\n      return (\n        ticket.ticket_number.toLowerCase().includes(search) ||\n        ticket.subject.toLowerCase().includes(search) ||\n        ticket.user_email.toLowerCase().includes(search)\n      );\n    }\n    return true;\n  });\n\n  if (loading && tickets.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"spinner\"></div>\n        <span className=\"ml-3 text-white\">Loading tickets...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Stats Cards */}\n      {stats && (\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n          <Card className=\"p-6 bg-gradient-to-br from-blue-600 to-blue-800\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-blue-200 text-sm\">Total Tickets</p>\n                <p className=\"text-white text-3xl font-bold\">{stats.total_tickets || 0}</p>\n              </div>\n              <FaTicketAlt className=\"text-blue-200 text-4xl\" />\n            </div>\n          </Card>\n\n          <Card className=\"p-6 bg-gradient-to-br from-yellow-600 to-yellow-800\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-yellow-200 text-sm\">Open Tickets</p>\n                <p className=\"text-white text-3xl font-bold\">{stats.open_tickets || 0}</p>\n              </div>\n              <FaExclamationCircle className=\"text-yellow-200 text-4xl\" />\n            </div>\n          </Card>\n\n          <Card className=\"p-6 bg-gradient-to-br from-green-600 to-green-800\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-green-200 text-sm\">Resolved</p>\n                <p className=\"text-white text-3xl font-bold\">{stats.resolved_tickets || 0}</p>\n              </div>\n              <FaCheckCircle className=\"text-green-200 text-4xl\" />\n            </div>\n          </Card>\n\n          <Card className=\"p-6 bg-gradient-to-br from-purple-600 to-purple-800\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-purple-200 text-sm\">Avg Response</p>\n                <p className=\"text-white text-3xl font-bold\">\n                  {stats.avg_first_response_hours ? `${Math.round(stats.avg_first_response_hours)}h` : 'N/A'}\n                </p>\n              </div>\n              <FaClock className=\"text-purple-200 text-4xl\" />\n            </div>\n          </Card>\n        </div>\n      )}\n\n      <div className=\"grid lg:grid-cols-3 gap-6\">\n        {/* Ticket List */}\n        <div className=\"lg:col-span-1\">\n          <Card className=\"p-6\">\n            <div className=\"mb-4\">\n              <h2 className=\"text-2xl font-bold text-white mb-2\">Tickets</h2>\n              <button\n                onClick={handleExportCsv}\n                disabled={exporting}\n                className=\"text-xs text-blue-400 hover:text-blue-300 mb-4 disabled:opacity-50\"\n              >\n                {exporting ? 'Exporting...' : 'Export CSV'}\n              </button>\n\n              {/* Search */}\n              <div className=\"relative mb-4\">\n                <FaSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  placeholder=\"Search tickets...\"\n                  className=\"w-full pl-10 pr-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              {/* Filters */}\n              <div className=\"space-y-2\">\n                <select\n                  value={filters.status}\n                  onChange={(e) => setFilters({ ...filters, status: e.target.value })}\n                  className=\"w-full px-3 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"all\" className=\"bg-gray-800\">All Status</option>\n                  <option value=\"open\" className=\"bg-gray-800\">Open</option>\n                  <option value=\"in_progress\" className=\"bg-gray-800\">In Progress</option>\n                  <option value=\"waiting_user\" className=\"bg-gray-800\">Waiting User</option>\n                  <option value=\"waiting_staff\" className=\"bg-gray-800\">Waiting Staff</option>\n                  <option value=\"resolved\" className=\"bg-gray-800\">Resolved</option>\n                  <option value=\"closed\" className=\"bg-gray-800\">Closed</option>\n                </select>\n\n                <select\n                  value={filters.priority}\n                  onChange={(e) => setFilters({ ...filters, priority: e.target.value })}\n                  className=\"w-full px-3 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"all\" className=\"bg-gray-800\">All Priority</option>\n                  <option value=\"low\" className=\"bg-gray-800\">Low</option>\n                  <option value=\"medium\" className=\"bg-gray-800\">Medium</option>\n                  <option value=\"high\" className=\"bg-gray-800\">High</option>\n                  <option value=\"urgent\" className=\"bg-gray-800\">Urgent</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Ticket List */}\n            <div className=\"space-y-2 max-h-[600px] overflow-y-auto\">\n              {filteredTickets.length === 0 ? (\n                <div className=\"text-center py-8 text-gray-400\">\n                  <FaTicketAlt className=\"text-4xl mx-auto mb-2\" />\n                  <p>No tickets found</p>\n                </div>\n              ) : (\n                filteredTickets.map((ticket) => (\n                  <motion.div\n                    key={ticket.id}\n                    onClick={() => setSelectedTicket(ticket)}\n                    className={`p-4 rounded-lg cursor-pointer transition ${\n                      selectedTicket?.id === ticket.id\n                        ? 'bg-blue-600 bg-opacity-30 border-2 border-blue-500'\n                        : 'bg-white bg-opacity-5 hover:bg-opacity-10 border-2 border-transparent'\n                    }`}\n                    whileHover={{ scale: 1.02 }}\n                  >\n                    <div className=\"flex items-start justify-between mb-2\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-2 mb-1\">\n                          <span className=\"text-xs text-gray-400 font-mono\">\n                            #{ticket.ticket_number}\n                          </span>\n                          {getStatusBadge(ticket.status)}\n                        </div>\n                        <h3 className=\"text-white font-semibold text-sm mb-1 line-clamp-2\">\n                          {ticket.subject}\n                        </h3>\n                        <p className=\"text-xs text-gray-400\">{ticket.user_email}</p>\n                      </div>\n                      {ticket.unread_user_messages > 0 && (\n                        <span className=\"ml-2 inline-flex items-center justify-center w-6 h-6 rounded-full bg-red-500 text-white text-xs font-bold\">\n                          {ticket.unread_user_messages}\n                        </span>\n                      )}\n                    </div>\n                    <div className=\"flex items-center justify-between text-xs\">\n                      <span className={`font-semibold ${getPriorityColor(ticket.priority)}`}>\n                        {ticket.priority.toUpperCase()}\n                      </span>\n                      <div className=\"flex items-center gap-2\">\n                        {(() => {\n                          const sla = getSlaStatus(ticket);\n                          return (\n                            <span className={`flex items-center gap-1 ${sla.color}`}>\n                              {sla.icon}\n                              {sla.label}\n                            </span>\n                          );\n                        })()}\n                        <span className=\"text-gray-500\"></span>\n                        {ticket.assigned_to ? (\n                          <span className=\"text-blue-400 flex items-center gap-1\">\n                            <FaUserTie size={10} />\n                            {adminStaff.find(a => a.id === ticket.assigned_to)?.email?.split('@')[0] || 'Assigned'}\n                          </span>\n                        ) : (\n                          <span className=\"text-gray-500\">Unassigned</span>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"flex items-center justify-end text-xs mt-1\">\n                      <span className=\"text-gray-400\">\n                        {new Date(ticket.created_at).toLocaleDateString()}\n                      </span>\n                    </div>\n                  </motion.div>\n                ))\n              )}\n            </div>\n          </Card>\n        </div>\n\n        {/* Ticket Details */}\n        <div className=\"lg:col-span-2\">\n          {selectedTicket ? (\n            <Card className=\"p-6\">\n              {/* Ticket Header */}\n              <div className=\"mb-6\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center space-x-3 mb-2\">\n                      <span className=\"text-gray-400 font-mono\">#{selectedTicket.ticket_number}</span>\n                      {getStatusBadge(selectedTicket.status)}\n                      <span className={`text-sm font-semibold ${getPriorityColor(selectedTicket.priority)}`}>\n                        {selectedTicket.priority.toUpperCase()}\n                      </span>\n                    </div>\n                    <h2 className=\"text-2xl font-bold text-white mb-2\">{selectedTicket.subject}</h2>\n                    <div className=\"flex items-center space-x-4 text-sm text-gray-400\">\n                      <span>From: {selectedTicket.user_email}</span>\n                      <span>Created: {new Date(selectedTicket.created_at).toLocaleString()}</span>\n                    </div>\n                  </div>\n                  <button\n                    onClick={() => setSelectedTicket(null)}\n                    className=\"text-gray-400 hover:text-white transition\"\n                  >\n                    <FaTimes className=\"text-xl\" />\n                  </button>\n                </div>\n\n                {/* Quick Actions */}\n                <div className=\"flex flex-wrap gap-2\">\n                  <select\n                    value={selectedTicket.status}\n                    onChange={(e) => handleUpdateStatus(selectedTicket.id, e.target.value)}\n                    className=\"px-3 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"open\" className=\"bg-gray-800\">Open</option>\n                    <option value=\"in_progress\" className=\"bg-gray-800\">In Progress</option>\n                    <option value=\"waiting_user\" className=\"bg-gray-800\">Waiting User</option>\n                    <option value=\"waiting_staff\" className=\"bg-gray-800\">Waiting Staff</option>\n                    <option value=\"resolved\" className=\"bg-gray-800\">Resolved</option>\n                    <option value=\"closed\" className=\"bg-gray-800\">Closed</option>\n                  </select>\n\n                  <select\n                    value={selectedTicket.priority}\n                    onChange={(e) => handleUpdatePriority(selectedTicket.id, e.target.value)}\n                    className=\"px-3 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"low\" className=\"bg-gray-800\">Low Priority</option>\n                    <option value=\"medium\" className=\"bg-gray-800\">Medium Priority</option>\n                    <option value=\"high\" className=\"bg-gray-800\">High Priority</option>\n                    <option value=\"urgent\" className=\"bg-gray-800\">Urgent Priority</option>\n                  </select>\n\n                  {/* Assign to staff */}\n                  <select\n                    value={selectedTicket.assigned_to || ''}\n                    onChange={(e) => handleAssignTicket(selectedTicket.id, e.target.value || null)}\n                    className=\"px-3 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\" className=\"bg-gray-800\">Unassigned</option>\n                    {adminStaff.map(admin => (\n                      <option key={admin.id} value={admin.id} className=\"bg-gray-800\">\n                        {admin.email?.split('@')[0] || `Admin #${admin.id}`}\n                      </option>\n                    ))}\n                  </select>\n\n                  {/* SLA indicator */}\n                  {(() => {\n                    const sla = getSlaStatus(selectedTicket);\n                    return (\n                      <div className={`px-3 py-2 rounded-lg bg-white bg-opacity-5 border border-white border-opacity-10 flex items-center gap-2 text-sm ${sla.color}`}>\n                        {sla.icon || <FaClock />}\n                        <span>SLA: {sla.label}</span>\n                      </div>\n                    );\n                  })()}\n                </div>\n              </div>\n\n              {/* Messages */}\n              <div className=\"mb-6 max-h-96 overflow-y-auto space-y-4\">\n                {ticketMessages.map((msg) => (\n                  <div\n                    key={msg.id}\n                    className={`p-4 rounded-lg ${\n                      msg.is_internal_note\n                        ? 'bg-yellow-500 bg-opacity-10 border border-yellow-500 border-opacity-30'\n                        : msg.is_staff\n                        ? 'bg-blue-600 bg-opacity-20'\n                        : 'bg-purple-600 bg-opacity-20'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <div className=\"flex items-center space-x-2\">\n                        <FaUser className=\"text-gray-400\" />\n                        <span className=\"text-white font-semibold text-sm\">\n                          {msg.is_internal_note ? ' Internal Note' : msg.is_staff ? 'Staff' : 'User'}\n                        </span>\n                        <span className=\"text-xs text-gray-400\">{msg.user_email}</span>\n                      </div>\n                      <span className=\"text-xs text-gray-400\">\n                        {new Date(msg.created_at).toLocaleString()}\n                      </span>\n                    </div>\n                    <p className=\"text-white whitespace-pre-wrap\">{msg.message}</p>\n                    {msg.attachments && msg.attachments.length > 0 && (\n                      <div className=\"mt-3 space-y-2\">\n                        {msg.attachments.map((att) => (\n                          <a\n                            key={att.id}\n                            href={att.file_url}\n                            download\n                            className=\"flex items-center space-x-2 text-sm text-blue-400 hover:text-blue-300\"\n                          >\n                            <FaDownload />\n                            <span>{att.filename}</span>\n                          </a>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n\n              {/* Reply Form */}\n              {selectedTicket.status !== 'closed' && (\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-white font-medium mb-2\">Reply to User</label>\n                    <textarea\n                      value={replyMessage}\n                      onChange={(e) => setReplyMessage(e.target.value)}\n                      placeholder=\"Type your reply...\"\n                      className=\"w-full px-4 py-3 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      rows=\"4\"\n                    />\n                    <Button\n                      variant=\"primary\"\n                      size=\"md\"\n                      icon={<FaReply />}\n                      onClick={handleReply}\n                      loading={sending}\n                      disabled={!replyMessage.trim() || sending}\n                      className=\"mt-2\"\n                    >\n                      Send Reply\n                    </Button>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-white font-medium mb-2\">Internal Note (Staff Only)</label>\n                    <textarea\n                      value={internalNote}\n                      onChange={(e) => setInternalNote(e.target.value)}\n                      placeholder=\"Add internal note (not visible to user)...\"\n                      className=\"w-full px-4 py-3 rounded-lg bg-yellow-500 bg-opacity-10 border border-yellow-500 border-opacity-30 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-500\"\n                      rows=\"3\"\n                    />\n                    <Button\n                      variant=\"warning\"\n                      size=\"sm\"\n                      onClick={handleAddInternalNote}\n                      loading={sending}\n                      disabled={!internalNote.trim() || sending}\n                      className=\"mt-2\"\n                    >\n                      Add Internal Note\n                    </Button>\n                  </div>\n                </div>\n              )}\n\n              {/* Rating (if resolved) */}\n              {selectedTicket.rating && (\n                <div className=\"mt-6 p-4 bg-green-500 bg-opacity-10 border border-green-500 border-opacity-30 rounded-lg\">\n                  <h3 className=\"text-white font-semibold mb-2\">User Rating</h3>\n                  <div className=\"flex items-center space-x-2 mb-2\">\n                    {[1, 2, 3, 4, 5].map((star) => (\n                      <FaStar\n                        key={star}\n                        className={`text-xl ${\n                          star <= selectedTicket.rating ? 'text-yellow-400' : 'text-gray-600'\n                        }`}\n                      />\n                    ))}\n                    <span className=\"text-white font-bold\">{selectedTicket.rating}/5</span>\n                  </div>\n                  {selectedTicket.rating_comment && (\n                    <p className=\"text-gray-300 text-sm\">{selectedTicket.rating_comment}</p>\n                  )}\n                </div>\n              )}\n            </Card>\n          ) : (\n            <Card className=\"p-12 text-center\">\n              <FaTicketAlt className=\"text-6xl text-gray-600 mx-auto mb-4\" />\n              <h3 className=\"text-2xl font-bold text-white mb-2\">Select a Ticket</h3>\n              <p className=\"text-gray-400\">Choose a ticket from the list to view details and respond</p>\n            </Card>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TicketManagement;\n","import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  FaEnvelope,\n  FaEnvelopeOpen,\n  FaTrash,\n  FaReply,\n  FaSearch,\n  FaFilter,\n  FaCheckCircle,\n} from 'react-icons/fa';\nimport { apiService } from '../../services/api';\nimport Button from '../common/Button';\nimport Card from '../common/Card';\nimport useConfirm from '../../hooks/useConfirm';\nimport ConfirmDialog from '../common/ConfirmDialog';\n\nconst ContactMessages = () => {\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('all'); // all, unread, read\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMessage, setSelectedMessage] = useState(null);\n  const { confirm: confirmDialog, dialogProps } = useConfirm();\n\n  useEffect(() => {\n    loadMessages();\n  }, []);\n\n  const loadMessages = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getContactMessages();\n      setMessages(response.data || []);\n    } catch (error) {\n      console.error('Failed to load messages:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const markAsRead = async (messageId) => {\n    try {\n      await apiService.markMessageAsRead(messageId);\n      setMessages(messages.map(msg =>\n        msg.id === messageId ? { ...msg, read: true } : msg\n      ));\n    } catch (error) {\n      console.error('Failed to mark as read:', error);\n    }\n  };\n\n  const deleteMessage = async (messageId) => {\n    const ok = await confirmDialog({ title: 'Delete Message', message: 'Are you sure you want to delete this message?', confirmText: 'Delete', variant: 'danger' });\n    if (!ok) return;\n\n    try {\n      await apiService.deleteContactMessage(messageId);\n      setMessages(messages.filter(msg => msg.id !== messageId));\n      if (selectedMessage?.id === messageId) {\n        setSelectedMessage(null);\n      }\n    } catch (error) {\n      console.error('Failed to delete message:', error);\n    }\n  };\n\n  const filteredMessages = messages.filter(msg => {\n    const matchesFilter =\n      filter === 'all' ||\n      (filter === 'unread' && !msg.read) ||\n      (filter === 'read' && msg.read);\n\n    const matchesSearch =\n      (msg.name || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (msg.email || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (msg.subject || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\n      (msg.message || '').toLowerCase().includes(searchTerm.toLowerCase());\n\n    return matchesFilter && matchesSearch;\n  });\n\n  const unreadCount = messages.filter(msg => !msg.read).length;\n\n  if (loading) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"text-white text-xl\">Loading messages...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card className=\"p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-white\">Contact Messages</h2>\n            <p className=\"text-gray-300\">\n              {unreadCount} unread message{unreadCount !== 1 ? 's' : ''}\n            </p>\n          </div>\n          <Button variant=\"outline\" size=\"sm\" onClick={loadMessages}>\n            Refresh\n          </Button>\n        </div>\n\n        {/* Filters */}\n        <div className=\"flex flex-col md:flex-row gap-4 mb-6\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <FaSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search messages...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setFilter('all')}\n              className={`px-4 py-2 rounded-lg transition ${\n                filter === 'all'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20'\n              }`}\n            >\n              All ({messages.length})\n            </button>\n            <button\n              onClick={() => setFilter('unread')}\n              className={`px-4 py-2 rounded-lg transition ${\n                filter === 'unread'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20'\n              }`}\n            >\n              Unread ({unreadCount})\n            </button>\n            <button\n              onClick={() => setFilter('read')}\n              className={`px-4 py-2 rounded-lg transition ${\n                filter === 'read'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20'\n              }`}\n            >\n              Read ({messages.length - unreadCount})\n            </button>\n          </div>\n        </div>\n\n        {/* Messages List */}\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          {/* Messages List */}\n          <div className=\"space-y-3 max-h-[600px] overflow-y-auto\">\n            {filteredMessages.length === 0 ? (\n              <div className=\"text-center py-12 text-gray-400\">\n                <FaEnvelope className=\"text-6xl mx-auto mb-4 opacity-50\" />\n                <p>No messages found</p>\n              </div>\n            ) : (\n              filteredMessages.map((message) => (\n                <motion.div\n                  key={message.id}\n                  className={`p-4 rounded-lg cursor-pointer transition ${\n                    selectedMessage?.id === message.id\n                      ? 'bg-blue-600 bg-opacity-30 border-2 border-blue-500'\n                      : message.read\n                      ? 'bg-white bg-opacity-5 hover:bg-opacity-10'\n                      : 'bg-blue-500 bg-opacity-10 hover:bg-opacity-20 border border-blue-500'\n                  }`}\n                  onClick={() => {\n                    setSelectedMessage(message);\n                    if (!message.read) {\n                      markAsRead(message.id);\n                    }\n                  }}\n                  whileHover={{ scale: 1.02 }}\n                >\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div className=\"flex items-center gap-2\">\n                      {message.read ? (\n                        <FaEnvelopeOpen className=\"text-gray-400\" />\n                      ) : (\n                        <FaEnvelope className=\"text-blue-400\" />\n                      )}\n                      <span className=\"text-white font-semibold\">{message.name}</span>\n                    </div>\n                    <span className=\"text-gray-400 text-xs\">\n                      {new Date(message.created_at).toLocaleDateString()}\n                    </span>\n                  </div>\n                  <p className=\"text-gray-300 text-sm mb-1\">{message.email}</p>\n                  {message.subject && (\n                    <p className=\"text-white font-medium text-sm mb-2\">\n                      {message.subject}\n                    </p>\n                  )}\n                  <p className=\"text-gray-400 text-sm line-clamp-2\">\n                    {message.message}\n                  </p>\n                </motion.div>\n              ))\n            )}\n          </div>\n\n          {/* Message Detail */}\n          <div>\n            {selectedMessage ? (\n              <Card className=\"p-6 sticky top-4\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div>\n                    <h3 className=\"text-xl font-bold text-white mb-1\">\n                      {selectedMessage.name}\n                    </h3>\n                    <p className=\"text-gray-300\">{selectedMessage.email}</p>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    {!selectedMessage.read && (\n                      <button\n                        onClick={() => markAsRead(selectedMessage.id)}\n                        className=\"p-2 bg-green-500 bg-opacity-20 hover:bg-opacity-30 rounded-lg transition\"\n                        title=\"Mark as read\"\n                      >\n                        <FaCheckCircle className=\"text-green-400\" />\n                      </button>\n                    )}\n                    <button\n                      onClick={() => deleteMessage(selectedMessage.id)}\n                      className=\"p-2 bg-red-500 bg-opacity-20 hover:bg-opacity-30 rounded-lg transition\"\n                      title=\"Delete\"\n                    >\n                      <FaTrash className=\"text-red-400\" />\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"mb-4\">\n                  <span className=\"text-gray-400 text-sm\">\n                    Received: {new Date(selectedMessage.created_at).toLocaleString()}\n                  </span>\n                </div>\n\n                {selectedMessage.subject && (\n                  <div className=\"mb-4\">\n                    <h4 className=\"text-white font-semibold mb-2\">Subject:</h4>\n                    <p className=\"text-gray-300\">{selectedMessage.subject}</p>\n                  </div>\n                )}\n\n                <div className=\"mb-6\">\n                  <h4 className=\"text-white font-semibold mb-2\">Message:</h4>\n                  <div className=\"bg-white bg-opacity-5 rounded-lg p-4\">\n                    <p className=\"text-gray-300 whitespace-pre-wrap\">\n                      {selectedMessage.message}\n                    </p>\n                  </div>\n                </div>\n\n                <Button\n                  variant=\"primary\"\n                  fullWidth\n                  icon={<FaReply />}\n                  onClick={() => window.location.href = `mailto:${selectedMessage.email}?subject=Re: ${selectedMessage.subject || 'Your message'}`}\n                >\n                  Reply via Email\n                </Button>\n              </Card>\n            ) : (\n              <Card className=\"p-12 text-center\">\n                <FaEnvelope className=\"text-6xl text-gray-600 mx-auto mb-4\" />\n                <p className=\"text-gray-400\">Select a message to view details</p>\n              </Card>\n            )}\n          </div>\n        </div>\n      </Card>\n      <ConfirmDialog {...dialogProps} />\n    </div>\n  );\n};\n\nexport default ContactMessages;\n","import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  FaExclamationTriangle,\n  FaBug,\n  FaTimesCircle,\n  FaCheckCircle,\n  FaSearch,\n  FaTrash,\n  FaCode,\n  FaClock,\n} from 'react-icons/fa';\nimport { apiService } from '../../services/api';\nimport Button from '../common/Button';\nimport Card from '../common/Card';\nimport useConfirm from '../../hooks/useConfirm';\nimport ConfirmDialog from '../common/ConfirmDialog';\n\nconst ErrorTracking = () => {\n  const [errors, setErrors] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState('all'); // all, critical, error, warning\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedError, setSelectedError] = useState(null);\n  const { confirm: confirmDialog, dialogProps } = useConfirm();\n\n  useEffect(() => {\n    loadErrors();\n    const interval = setInterval(loadErrors, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const loadErrors = async () => {\n    try {\n      setLoading(true);\n      const response = await apiService.getErrors();\n      setErrors(Array.isArray(response.data) ? response.data : []);\n    } catch (error) {\n      console.error('Failed to load errors:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const markAsResolved = async (errorId) => {\n    try {\n      await apiService.markErrorAsResolved(errorId);\n      setErrors(errors.map(err =>\n        err.id === errorId ? { ...err, resolved: true } : err\n      ));\n    } catch (error) {\n      console.error('Failed to mark as resolved:', error);\n    }\n  };\n\n  const deleteError = async (errorId) => {\n    const ok = await confirmDialog({ title: 'Delete Error', message: 'Are you sure you want to delete this error?', confirmText: 'Delete', variant: 'danger' });\n    if (!ok) return;\n\n    try {\n      await apiService.deleteError(errorId);\n      setErrors(errors.filter(err => err.id !== errorId));\n      if (selectedError?.id === errorId) {\n        setSelectedError(null);\n      }\n    } catch (error) {\n      console.error('Failed to delete error:', error);\n    }\n  };\n\n  const clearAllResolved = async () => {\n    const ok = await confirmDialog({ title: 'Clear Resolved Errors', message: 'Are you sure you want to clear all resolved errors?', confirmText: 'Clear All', variant: 'warning' });\n    if (!ok) return;\n\n    try {\n      await apiService.clearResolvedErrors();\n      setErrors(errors.filter(err => !err.resolved));\n    } catch (error) {\n      console.error('Failed to clear resolved errors:', error);\n    }\n  };\n\n  const getSeverityColor = (severity) => {\n    switch (severity) {\n      case 'critical':\n        return 'text-red-400 bg-red-500';\n      case 'error':\n        return 'text-orange-400 bg-orange-500';\n      case 'warning':\n        return 'text-yellow-400 bg-yellow-500';\n      default:\n        return 'text-blue-400 bg-blue-500';\n    }\n  };\n\n  const getSeverityIcon = (severity) => {\n    switch (severity) {\n      case 'critical':\n        return <FaTimesCircle />;\n      case 'error':\n        return <FaExclamationTriangle />;\n      case 'warning':\n        return <FaBug />;\n      default:\n        return <FaCheckCircle />;\n    }\n  };\n\n  const filteredErrors = errors.filter(err => {\n    const matchesFilter =\n      filter === 'all' ||\n      err.severity === filter;\n\n    const matchesSearch =\n      err.message.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      err.stack?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      err.endpoint?.toLowerCase().includes(searchTerm.toLowerCase());\n\n    return matchesFilter && matchesSearch;\n  });\n\n  const unresolvedCount = errors.filter(err => !err.resolved).length;\n  const criticalCount = errors.filter(err => err.severity === 'critical' && !err.resolved).length;\n\n  if (loading) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"text-white text-xl\">Loading errors...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card className=\"p-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-white\">Error Tracking</h2>\n            <p className=\"text-gray-300\">\n              {unresolvedCount} unresolved error{unresolvedCount !== 1 ? 's' : ''}\n              {criticalCount > 0 && (\n                <span className=\"text-red-400 ml-2\">\n                  ({criticalCount} critical)\n                </span>\n              )}\n            </p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button variant=\"outline\" size=\"sm\" onClick={loadErrors}>\n              Refresh\n            </Button>\n            <Button\n              variant=\"danger\"\n              size=\"sm\"\n              onClick={clearAllResolved}\n              disabled={errors.filter(e => e.resolved).length === 0}\n            >\n              Clear Resolved\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid grid-cols-4 gap-4 mb-6\">\n          <div className=\"bg-red-500 bg-opacity-10 border border-red-500 rounded-lg p-4\">\n            <div className=\"text-red-400 text-2xl font-bold\">\n              {errors.filter(e => e.severity === 'critical' && !e.resolved).length}\n            </div>\n            <div className=\"text-gray-300 text-sm\">Critical</div>\n          </div>\n          <div className=\"bg-orange-500 bg-opacity-10 border border-orange-500 rounded-lg p-4\">\n            <div className=\"text-orange-400 text-2xl font-bold\">\n              {errors.filter(e => e.severity === 'error' && !e.resolved).length}\n            </div>\n            <div className=\"text-gray-300 text-sm\">Errors</div>\n          </div>\n          <div className=\"bg-yellow-500 bg-opacity-10 border border-yellow-500 rounded-lg p-4\">\n            <div className=\"text-yellow-400 text-2xl font-bold\">\n              {errors.filter(e => e.severity === 'warning' && !e.resolved).length}\n            </div>\n            <div className=\"text-gray-300 text-sm\">Warnings</div>\n          </div>\n          <div className=\"bg-green-500 bg-opacity-10 border border-green-500 rounded-lg p-4\">\n            <div className=\"text-green-400 text-2xl font-bold\">\n              {errors.filter(e => e.resolved).length}\n            </div>\n            <div className=\"text-gray-300 text-sm\">Resolved</div>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"flex flex-col md:flex-row gap-4 mb-6\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <FaSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search errors...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setFilter('all')}\n              className={`px-4 py-2 rounded-lg transition ${\n                filter === 'all'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20'\n              }`}\n            >\n              All\n            </button>\n            <button\n              onClick={() => setFilter('critical')}\n              className={`px-4 py-2 rounded-lg transition ${\n                filter === 'critical'\n                  ? 'bg-red-600 text-white'\n                  : 'bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20'\n              }`}\n            >\n              Critical\n            </button>\n            <button\n              onClick={() => setFilter('error')}\n              className={`px-4 py-2 rounded-lg transition ${\n                filter === 'error'\n                  ? 'bg-orange-600 text-white'\n                  : 'bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20'\n              }`}\n            >\n              Errors\n            </button>\n            <button\n              onClick={() => setFilter('warning')}\n              className={`px-4 py-2 rounded-lg transition ${\n                filter === 'warning'\n                  ? 'bg-yellow-600 text-white'\n                  : 'bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20'\n              }`}\n            >\n              Warnings\n            </button>\n          </div>\n        </div>\n\n        {/* Errors List */}\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          {/* Error List */}\n          <div className=\"space-y-3 max-h-[600px] overflow-y-auto\">\n            {filteredErrors.length === 0 ? (\n              <div className=\"text-center py-12 text-gray-400\">\n                <FaCheckCircle className=\"text-6xl mx-auto mb-4 opacity-50\" />\n                <p>No errors found</p>\n              </div>\n            ) : (\n              filteredErrors.map((error) => (\n                <motion.div\n                  key={error.id}\n                  className={`p-4 rounded-lg cursor-pointer transition ${\n                    selectedError?.id === error.id\n                      ? 'bg-blue-600 bg-opacity-30 border-2 border-blue-500'\n                      : error.resolved\n                      ? 'bg-white bg-opacity-5 hover:bg-opacity-10 opacity-60'\n                      : `${getSeverityColor(error.severity)} bg-opacity-10 hover:bg-opacity-20 border border-current`\n                  }`}\n                  onClick={() => setSelectedError(error)}\n                  whileHover={{ scale: 1.02 }}\n                >\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className={getSeverityColor(error.severity)}>\n                        {getSeverityIcon(error.severity)}\n                      </span>\n                      <span className={`text-xs px-2 py-1 rounded ${getSeverityColor(error.severity)} bg-opacity-20`}>\n                        {error.severity.toUpperCase()}\n                      </span>\n                      {error.resolved && (\n                        <span className=\"text-xs px-2 py-1 rounded bg-green-500 bg-opacity-20 text-green-400\">\n                          RESOLVED\n                        </span>\n                      )}\n                    </div>\n                    <span className=\"text-gray-400 text-xs flex items-center gap-1\">\n                      <FaClock />\n                      {new Date(error.created_at).toLocaleTimeString()}\n                    </span>\n                  </div>\n                  <p className=\"text-white font-medium text-sm mb-2 line-clamp-2\">\n                    {error.message}\n                  </p>\n                  {error.endpoint && (\n                    <p className=\"text-gray-400 text-xs flex items-center gap-1\">\n                      <FaCode />\n                      {error.endpoint}\n                    </p>\n                  )}\n                  <p className=\"text-gray-500 text-xs mt-1\">\n                    {new Date(error.created_at).toLocaleDateString()}\n                  </p>\n                </motion.div>\n              ))\n            )}\n          </div>\n\n          {/* Error Detail */}\n          <div>\n            {selectedError ? (\n              <Card className=\"p-6 sticky top-4\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className={`text-2xl ${getSeverityColor(selectedError.severity)}`}>\n                      {getSeverityIcon(selectedError.severity)}\n                    </span>\n                    <div>\n                      <span className={`text-xs px-2 py-1 rounded ${getSeverityColor(selectedError.severity)} bg-opacity-20`}>\n                        {selectedError.severity.toUpperCase()}\n                      </span>\n                      {selectedError.resolved && (\n                        <span className=\"ml-2 text-xs px-2 py-1 rounded bg-green-500 bg-opacity-20 text-green-400\">\n                          RESOLVED\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    {!selectedError.resolved && (\n                      <button\n                        onClick={() => markAsResolved(selectedError.id)}\n                        className=\"p-2 bg-green-500 bg-opacity-20 hover:bg-opacity-30 rounded-lg transition\"\n                        title=\"Mark as resolved\"\n                      >\n                        <FaCheckCircle className=\"text-green-400\" />\n                      </button>\n                    )}\n                    <button\n                      onClick={() => deleteError(selectedError.id)}\n                      className=\"p-2 bg-red-500 bg-opacity-20 hover:bg-opacity-30 rounded-lg transition\"\n                      title=\"Delete\"\n                    >\n                      <FaTrash className=\"text-red-400\" />\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"mb-4\">\n                  <span className=\"text-gray-400 text-sm\">\n                    Occurred: {new Date(selectedError.created_at).toLocaleString()}\n                  </span>\n                </div>\n\n                <div className=\"mb-4\">\n                  <h4 className=\"text-white font-semibold mb-2\">Error Message:</h4>\n                  <div className=\"bg-red-500 bg-opacity-10 border border-red-500 rounded-lg p-4\">\n                    <p className=\"text-red-200 font-mono text-sm\">\n                      {selectedError.message}\n                    </p>\n                  </div>\n                </div>\n\n                {selectedError.endpoint && (\n                  <div className=\"mb-4\">\n                    <h4 className=\"text-white font-semibold mb-2\">Endpoint:</h4>\n                    <div className=\"bg-white bg-opacity-5 rounded-lg p-3\">\n                      <p className=\"text-gray-300 font-mono text-sm\">\n                        {selectedError.endpoint}\n                      </p>\n                    </div>\n                  </div>\n                )}\n\n                {selectedError.user_id && (\n                  <div className=\"mb-4\">\n                    <h4 className=\"text-white font-semibold mb-2\">User ID:</h4>\n                    <p className=\"text-gray-300\">{selectedError.user_id}</p>\n                  </div>\n                )}\n\n                {selectedError.stack && (\n                  <div className=\"mb-4\">\n                    <h4 className=\"text-white font-semibold mb-2\">Stack Trace:</h4>\n                    <div className=\"bg-black bg-opacity-50 rounded-lg p-4 max-h-64 overflow-y-auto\">\n                      <pre className=\"text-gray-300 font-mono text-xs whitespace-pre-wrap\">\n                        {selectedError.stack}\n                      </pre>\n                    </div>\n                  </div>\n                )}\n\n                {selectedError.metadata && (\n                  <div className=\"mb-4\">\n                    <h4 className=\"text-white font-semibold mb-2\">Additional Info:</h4>\n                    <div className=\"bg-white bg-opacity-5 rounded-lg p-4\">\n                      <pre className=\"text-gray-300 font-mono text-xs whitespace-pre-wrap\">\n                        {JSON.stringify(selectedError.metadata, null, 2)}\n                      </pre>\n                    </div>\n                  </div>\n                )}\n\n                {!selectedError.resolved && (\n                  <Button\n                    variant=\"success\"\n                    fullWidth\n                    icon={<FaCheckCircle />}\n                    onClick={() => markAsResolved(selectedError.id)}\n                  >\n                    Mark as Resolved\n                  </Button>\n                )}\n              </Card>\n            ) : (\n              <Card className=\"p-12 text-center\">\n                <FaBug className=\"text-6xl text-gray-600 mx-auto mb-4\" />\n                <p className=\"text-gray-400\">Select an error to view details</p>\n              </Card>\n            )}\n          </div>\n        </div>\n      </Card>\n      <ConfirmDialog {...dialogProps} />\n    </div>\n  );\n};\n\nexport default ErrorTracking;\n","import React, { useState, useEffect } from 'react';\nimport api from '../../services/api';\nimport './DiscountCampaignManager.css';\nimport useConfirm from '../../hooks/useConfirm';\nimport ConfirmDialog from '../common/ConfirmDialog';\n\nconst DiscountCampaignManager = () => {\n  const [campaigns, setCampaigns] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [editingCampaign, setEditingCampaign] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    campaign_type: 'custom',\n    discount_type: 'percentage',\n    discount_value: '',\n    applies_to_all_plans: true,\n    applicable_plan_types: [],\n    start_date: '',\n    end_date: '',\n    theme_color: '#FF6B6B',\n    banner_text: '',\n    badge_text: '',\n    requires_coupon: false,\n    coupon_code: '',\n    max_uses: '',\n    max_uses_per_user: 1\n  });\n  const { confirm: confirmDialog, dialogProps } = useConfirm();\n\n  useEffect(() => {\n    fetchCampaigns();\n  }, []);\n\n  const fetchCampaigns = async () => {\n    try {\n      const response = await api.get('/api/admin/discount/campaigns');\n      setCampaigns(response.data?.campaigns || []);\n    } catch (error) {\n      console.error('Error fetching campaigns:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      if (editingCampaign) {\n        await api.put(\n          `/api/admin/discount/campaigns/${editingCampaign.id}`,\n          formData\n        );\n      } else {\n        await api.post(\n          '/api/admin/discount/campaigns',\n          formData\n        );\n      }\n\n      fetchCampaigns();\n      resetForm();\n      setShowCreateModal(false);\n    } catch (error) {\n      console.error('Error saving campaign:', error);\n    }\n  };\n\n  const handleActivate = async (campaignId) => {\n    try {\n      await api.post(\n        `/api/admin/discount/campaigns/${campaignId}/activate`\n      );\n      fetchCampaigns();\n    } catch (error) {\n      console.error('Error activating campaign:', error);\n    }\n  };\n\n  const handleDeactivate = async (campaignId) => {\n    try {\n      await api.post(\n        `/api/admin/discount/campaigns/${campaignId}/deactivate`\n      );\n      fetchCampaigns();\n    } catch (error) {\n      console.error('Error deactivating campaign:', error);\n    }\n  };\n\n  const handleDelete = async (campaignId) => {\n    const ok = await confirmDialog({ title: 'Delete Campaign', message: 'Are you sure you want to delete this campaign?', confirmText: 'Delete', variant: 'danger' });\n    if (!ok) return;\n\n    try {\n      await api.delete(\n        `/api/admin/discount/campaigns/${campaignId}`\n      );\n      fetchCampaigns();\n    } catch (error) {\n      console.error('Error deleting campaign:', error);\n    }\n  };\n\n  const handleEdit = (campaign) => {\n    setEditingCampaign(campaign);\n    setFormData({\n      name: campaign.name,\n      description: campaign.description,\n      campaign_type: campaign.campaign_type,\n      discount_type: campaign.discount_type,\n      discount_value: campaign.discount_value,\n      applies_to_all_plans: campaign.applies_to_all_plans,\n      applicable_plan_types: campaign.applicable_plan_types || [],\n      start_date: campaign.start_date.split('T')[0],\n      end_date: campaign.end_date.split('T')[0],\n      theme_color: campaign.theme_color,\n      banner_text: campaign.banner_text,\n      badge_text: campaign.badge_text,\n      requires_coupon: campaign.requires_coupon,\n      coupon_code: campaign.coupon_code || '',\n      max_uses: campaign.max_uses || '',\n      max_uses_per_user: campaign.max_uses_per_user\n    });\n    setShowCreateModal(true);\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      description: '',\n      campaign_type: 'custom',\n      discount_type: 'percentage',\n      discount_value: '',\n      applies_to_all_plans: true,\n      applicable_plan_types: [],\n      start_date: '',\n      end_date: '',\n      theme_color: '#FF6B6B',\n      banner_text: '',\n      badge_text: '',\n      requires_coupon: false,\n      coupon_code: '',\n      max_uses: '',\n      max_uses_per_user: 1\n    });\n    setEditingCampaign(null);\n  };\n\n  const getCampaignTypeIcon = (type) => {\n    const icons = {\n      black_friday: '',\n      cyber_monday: '',\n      new_year: '',\n      summer_sale: '',\n      custom: ''\n    };\n    return icons[type] || '';\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading campaigns...</div>;\n  }\n\n  return (\n    <div className=\"discount-campaign-manager\">\n      <div className=\"manager-header\">\n        <h1> Discount Campaign Manager</h1>\n        <button \n          className=\"btn-create\"\n          onClick={() => {\n            resetForm();\n            setShowCreateModal(true);\n          }}\n        >\n          + Create Campaign\n        </button>\n      </div>\n\n      <div className=\"campaigns-grid\">\n        {campaigns.map(campaign => (\n          <div \n            key={campaign.id} \n            className={`campaign-card ${campaign.is_active ? 'active' : ''}`}\n          >\n            <div className=\"campaign-header\">\n              <div className=\"campaign-icon\">\n                {getCampaignTypeIcon(campaign.campaign_type)}\n              </div>\n              <div className=\"campaign-status\">\n                {campaign.is_active && <span className=\"badge active\">ACTIVE</span>}\n                {campaign.is_featured && <span className=\"badge featured\">FEATURED</span>}\n              </div>\n            </div>\n\n            <h3>{campaign.name}</h3>\n            <p className=\"campaign-description\">{campaign.description}</p>\n\n            <div className=\"campaign-details\">\n              <div className=\"detail-item\">\n                <span className=\"label\">Discount:</span>\n                <span className=\"value\">\n                  {campaign.discount_type === 'percentage' \n                    ? `${campaign.discount_value}%` \n                    : `$${campaign.discount_value}`}\n                </span>\n              </div>\n              <div className=\"detail-item\">\n                <span className=\"label\">Period:</span>\n                <span className=\"value\">\n                  {new Date(campaign.start_date).toLocaleDateString()} - {new Date(campaign.end_date).toLocaleDateString()}\n                </span>\n              </div>\n              <div className=\"detail-item\">\n                <span className=\"label\">Uses:</span>\n                <span className=\"value\">\n                  {campaign.current_uses} / {campaign.max_uses || ''}\n                </span>\n              </div>\n            </div>\n\n            <div className=\"campaign-preview\" style={{ borderColor: campaign.theme_color }}>\n              <div className=\"preview-badge\" style={{ backgroundColor: campaign.theme_color }}>\n                {campaign.badge_text}\n              </div>\n              <div className=\"preview-banner\">\n                {campaign.banner_text}\n              </div>\n            </div>\n\n            <div className=\"campaign-actions\">\n              <button \n                className=\"btn-edit\"\n                onClick={() => handleEdit(campaign)}\n              >\n                Edit\n              </button>\n              {campaign.is_active ? (\n                <button \n                  className=\"btn-deactivate\"\n                  onClick={() => handleDeactivate(campaign.id)}\n                >\n                  Deactivate\n                </button>\n              ) : (\n                <button \n                  className=\"btn-activate\"\n                  onClick={() => handleActivate(campaign.id)}\n                >\n                  Activate\n                </button>\n              )}\n              <button \n                className=\"btn-delete\"\n                onClick={() => handleDelete(campaign.id)}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {showCreateModal && (\n        <div className=\"modal-overlay\" onClick={() => setShowCreateModal(false)}>\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h2>{editingCampaign ? 'Edit Campaign' : 'Create Campaign'}</h2>\n              <button className=\"btn-close\" onClick={() => setShowCreateModal(false)}></button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"campaign-form\">\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Campaign Name *</label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleInputChange}\n                    required\n                    placeholder=\"e.g., Black Friday 2025\"\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Campaign Type *</label>\n                  <select\n                    name=\"campaign_type\"\n                    value={formData.campaign_type}\n                    onChange={handleInputChange}\n                    required\n                  >\n                    <option value=\"black_friday\"> Black Friday</option>\n                    <option value=\"cyber_monday\"> Cyber Monday</option>\n                    <option value=\"new_year\"> New Year</option>\n                    <option value=\"summer_sale\"> Summer Sale</option>\n                    <option value=\"custom\"> Custom</option>\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Description</label>\n                <textarea\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleInputChange}\n                  rows=\"3\"\n                  placeholder=\"Campaign description...\"\n                />\n              </div>\n\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Discount Type *</label>\n                  <select\n                    name=\"discount_type\"\n                    value={formData.discount_type}\n                    onChange={handleInputChange}\n                    required\n                  >\n                    <option value=\"percentage\">Percentage (%)</option>\n                    <option value=\"fixed_amount\">Fixed Amount ($)</option>\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Discount Value *</label>\n                  <input\n                    type=\"number\"\n                    name=\"discount_value\"\n                    value={formData.discount_value}\n                    onChange={handleInputChange}\n                    required\n                    min=\"0\"\n                    step=\"0.01\"\n                    placeholder={formData.discount_type === 'percentage' ? '50' : '10.00'}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Start Date *</label>\n                  <input\n                    type=\"date\"\n                    name=\"start_date\"\n                    value={formData.start_date}\n                    onChange={handleInputChange}\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>End Date *</label>\n                  <input\n                    type=\"date\"\n                    name=\"end_date\"\n                    value={formData.end_date}\n                    onChange={handleInputChange}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Theme Color</label>\n                  <input\n                    type=\"color\"\n                    name=\"theme_color\"\n                    value={formData.theme_color}\n                    onChange={handleInputChange}\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Badge Text</label>\n                  <input\n                    type=\"text\"\n                    name=\"badge_text\"\n                    value={formData.badge_text}\n                    onChange={handleInputChange}\n                    placeholder=\"e.g., 50% OFF\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Banner Text</label>\n                <input\n                  type=\"text\"\n                  name=\"banner_text\"\n                  value={formData.banner_text}\n                  onChange={handleInputChange}\n                  placeholder=\"e.g.,  BLACK FRIDAY SALE - 50% OFF ALL PLANS!\"\n                />\n              </div>\n\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>\n                    <input\n                      type=\"checkbox\"\n                      name=\"requires_coupon\"\n                      checked={formData.requires_coupon}\n                      onChange={handleInputChange}\n                    />\n                    Requires Coupon Code\n                  </label>\n                </div>\n\n                {formData.requires_coupon && (\n                  <div className=\"form-group\">\n                    <label>Coupon Code</label>\n                    <input\n                      type=\"text\"\n                      name=\"coupon_code\"\n                      value={formData.coupon_code}\n                      onChange={handleInputChange}\n                      placeholder=\"e.g., BLACKFRIDAY50\"\n                    />\n                  </div>\n                )}\n              </div>\n\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Max Total Uses</label>\n                  <input\n                    type=\"number\"\n                    name=\"max_uses\"\n                    value={formData.max_uses}\n                    onChange={handleInputChange}\n                    min=\"0\"\n                    placeholder=\"Leave empty for unlimited\"\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Max Uses Per User</label>\n                  <input\n                    type=\"number\"\n                    name=\"max_uses_per_user\"\n                    value={formData.max_uses_per_user}\n                    onChange={handleInputChange}\n                    min=\"1\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-actions\">\n                <button type=\"button\" className=\"btn-cancel\" onClick={() => setShowCreateModal(false)}>\n                  Cancel\n                </button>\n                <button type=\"submit\" className=\"btn-submit\">\n                  {editingCampaign ? 'Update Campaign' : 'Create Campaign'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n      <ConfirmDialog {...dialogProps} />\n    </div>\n  );\n};\n\nexport default DiscountCampaignManager;\n","import React, { useState, useEffect } from 'react';\r\nimport { FaHistory, FaUser, FaServer, FaFilter, FaSync, FaCalendarAlt } from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport { apiService } from '../../services/api';\r\n\r\nconst ACTION_COLORS = {\r\n  create: 'bg-green-500',\r\n  update: 'bg-blue-500',\r\n  delete: 'bg-red-500',\r\n  login: 'bg-purple-500',\r\n  bulk_activate: 'bg-green-500',\r\n  bulk_suspend: 'bg-yellow-500',\r\n  bulk_upgrade: 'bg-purple-500',\r\n  bulk_downgrade: 'bg-orange-500',\r\n  bulk_delete: 'bg-red-500',\r\n};\r\n\r\nconst AuditTrail = () => {\r\n  const [logs, setLogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filter, setFilter] = useState({ action: '', target_type: '', start_date: '', end_date: '' });\r\n\r\n  useEffect(() => {\r\n    loadLogs();\r\n    const interval = setInterval(loadLogs, 30000);\r\n    return () => clearInterval(interval);\r\n  }, [filter]);\r\n\r\n  const handleExportCsv = async () => {\r\n    try {\r\n      const response = await apiService.exportAuditCsv();\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = 'audit-trail-export.csv';\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n    } catch { /* ignore */ }\r\n  };\r\n\r\n  const loadLogs = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiService.getAuditLogs(filter);\r\n      setLogs(res.data || []);\r\n    } catch (err) {\r\n      console.error('Failed to load audit logs:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-white flex items-center\">\r\n            <FaHistory className=\"mr-3 text-blue-400\" />\r\n            Audit Trail\r\n          </h2>\r\n          <div className=\"flex gap-2\">\r\n            <Button variant=\"outline\" size=\"sm\" icon={<FaSync />} onClick={loadLogs}>\r\n              Refresh\r\n            </Button>\r\n            <Button variant=\"outline\" size=\"sm\" onClick={handleExportCsv}>\r\n              Export CSV\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div className=\"flex flex-wrap gap-4 mb-6\">\r\n          <select\r\n            value={filter.action}\r\n            onChange={(e) => setFilter({ ...filter, action: e.target.value })}\r\n            className=\"px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"\">All Actions</option>\r\n            <option value=\"create\">Create</option>\r\n            <option value=\"update\">Update</option>\r\n            <option value=\"delete\">Delete</option>\r\n            <option value=\"login\">Login</option>\r\n            <option value=\"bulk_activate\">Bulk Activate</option>\r\n            <option value=\"bulk_suspend\">Bulk Suspend</option>\r\n            <option value=\"bulk_upgrade\">Bulk Upgrade</option>\r\n          </select>\r\n          <select\r\n            value={filter.target_type}\r\n            onChange={(e) => setFilter({ ...filter, target_type: e.target.value })}\r\n            className=\"px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"\">All Targets</option>\r\n            <option value=\"user\">Users</option>\r\n            <option value=\"server\">Servers</option>\r\n            <option value=\"subscription\">Subscriptions</option>\r\n            <option value=\"users\">Bulk Users</option>\r\n          </select>\r\n          <div className=\"flex items-center gap-2\">\r\n            <FaCalendarAlt className=\"text-gray-400\" />\r\n            <input\r\n              type=\"date\"\r\n              value={filter.start_date}\r\n              onChange={(e) => setFilter({ ...filter, start_date: e.target.value })}\r\n              className=\"px-3 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 [color-scheme:dark]\"\r\n              placeholder=\"Start date\"\r\n            />\r\n            <span className=\"text-gray-400\">to</span>\r\n            <input\r\n              type=\"date\"\r\n              value={filter.end_date}\r\n              onChange={(e) => setFilter({ ...filter, end_date: e.target.value })}\r\n              className=\"px-3 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 [color-scheme:dark]\"\r\n              placeholder=\"End date\"\r\n            />\r\n          </div>\r\n          {(filter.start_date || filter.end_date) && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => setFilter({ ...filter, start_date: '', end_date: '' })}\r\n            >\r\n              Clear dates\r\n            </Button>\r\n          )}\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"text-center py-8 text-gray-400\">Loading audit logs...</div>\r\n        ) : logs.length === 0 ? (\r\n          <div className=\"text-center py-8 text-gray-400\">No audit logs found</div>\r\n        ) : (\r\n          <div className=\"space-y-3\">\r\n            {logs.map((log) => (\r\n              <div key={log.id} className=\"flex items-start gap-4 p-4 rounded-lg bg-white bg-opacity-5 hover:bg-opacity-10 transition\">\r\n                <div className={`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${ACTION_COLORS[log.action] || 'bg-gray-500'}`} />\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-center gap-2 flex-wrap\">\r\n                    <span className=\"text-white font-medium\">{log.admin_email || 'System'}</span>\r\n                    <span className={`px-2 py-0.5 rounded text-xs font-semibold ${ACTION_COLORS[log.action] || 'bg-gray-500'} text-white`}>\r\n                      {log.action}\r\n                    </span>\r\n                    {log.target_type && (\r\n                      <span className=\"text-gray-400 text-sm\">\r\n                        {log.target_type} {log.target_id ? `#${log.target_id}` : ''}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  {log.details && (\r\n                    <p className=\"text-gray-400 text-sm mt-1 truncate\">\r\n                      {typeof log.details === 'string' ? log.details : JSON.stringify(log.details)}\r\n                    </p>\r\n                  )}\r\n                  <div className=\"flex items-center gap-4 mt-1 text-xs text-gray-500\">\r\n                    <span>{new Date(log.created_at).toLocaleString()}</span>\r\n                    {log.ip_address && <span>IP: {log.ip_address}</span>}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuditTrail;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaGlobe, FaSync, FaChartBar, FaUsers, FaServer } from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport { apiService } from '../../services/api';\r\n\r\nconst GeoAnalytics = () => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => { loadData(); }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiService.getGeoAnalytics();\r\n      setData(res.data);\r\n    } catch (err) {\r\n      console.error('Failed to load geo-analytics:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"text-center py-8 text-gray-400\">Loading analytics...</div>;\r\n  if (!data) return <div className=\"text-center py-8 text-gray-400\">No data available</div>;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Country Distribution */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-white flex items-center\">\r\n            <FaGlobe className=\"mr-3 text-blue-400\" />\r\n            Geo-Analytics\r\n          </h2>\r\n          <Button variant=\"outline\" size=\"sm\" icon={<FaSync />} onClick={loadData}>Refresh</Button>\r\n        </div>\r\n\r\n        <div className=\"grid lg:grid-cols-2 gap-6\">\r\n          {/* Countries */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center\">\r\n              <FaUsers className=\"mr-2 text-green-400\" /> Active Connections by Country\r\n            </h3>\r\n            {data.countryDistribution?.length > 0 ? (\r\n              <div className=\"space-y-2\">\r\n                {data.countryDistribution.map((item, i) => {\r\n                  const maxConns = Math.max(...data.countryDistribution.map(d => d.connection_count));\r\n                  const pct = maxConns > 0 ? (item.connection_count / maxConns) * 100 : 0;\r\n                  return (\r\n                    <div key={i} className=\"flex items-center gap-3\">\r\n                      <span className=\"text-white w-24 text-sm truncate\">{item.country}</span>\r\n                      <div className=\"flex-1 bg-white bg-opacity-10 rounded-full h-5 overflow-hidden\">\r\n                        <div className=\"bg-blue-500 h-full rounded-full transition-all\" style={{ width: `${pct}%` }} />\r\n                      </div>\r\n                      <span className=\"text-gray-400 text-sm w-16 text-right\">{item.user_count} users</span>\r\n                      <span className=\"text-gray-500 text-xs w-20 text-right\">{item.connection_count} conns</span>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : <p className=\"text-gray-500\">No active connections</p>}\r\n          </div>\r\n\r\n          {/* Protocol Usage */}\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center\">\r\n              <FaChartBar className=\"mr-2 text-purple-400\" /> Protocol Usage\r\n            </h3>\r\n            {data.protocolUsage?.length > 0 ? (\r\n              <div className=\"space-y-3\">\r\n                {data.protocolUsage.map((item, i) => {\r\n                  const total = data.protocolUsage.reduce((s, p) => s + parseInt(p.count), 0);\r\n                  const pct = total > 0 ? (parseInt(item.count) / total) * 100 : 0;\r\n                  const colors = ['bg-blue-500', 'bg-green-500', 'bg-purple-500', 'bg-yellow-500', 'bg-red-500', 'bg-cyan-500'];\r\n                  return (\r\n                    <div key={i} className=\"flex items-center gap-3\">\r\n                      <span className=\"text-white w-28 text-sm capitalize truncate\">{item.protocol || 'Unknown'}</span>\r\n                      <div className=\"flex-1 bg-white bg-opacity-10 rounded-full h-5 overflow-hidden\">\r\n                        <div className={`${colors[i % colors.length]} h-full rounded-full transition-all`} style={{ width: `${pct}%` }} />\r\n                      </div>\r\n                      <span className=\"text-gray-400 text-sm w-20 text-right\">{item.count} ({pct.toFixed(0)}%)</span>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : <p className=\"text-gray-500\">No protocol data</p>}\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Server Load */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center\">\r\n          <FaServer className=\"mr-2 text-orange-400\" /> Server Load Distribution\r\n        </h3>\r\n        {data.serverLoad?.length > 0 ? (\r\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {data.serverLoad.map((server, i) => {\r\n              const load = parseFloat(server.load_percent) || 0;\r\n              const color = load > 90 ? 'bg-red-500' : load > 70 ? 'bg-yellow-500' : 'bg-green-500';\r\n              return (\r\n                <div key={i} className=\"bg-white bg-opacity-5 rounded-lg p-4\">\r\n                  <div className=\"flex justify-between items-center mb-2\">\r\n                    <span className=\"text-white text-sm font-medium truncate\">{server.name}</span>\r\n                    <span className=\"text-gray-400 text-xs\">{server.country}</span>\r\n                  </div>\r\n                  <div className=\"bg-white bg-opacity-10 rounded-full h-3 overflow-hidden mb-1\">\r\n                    <div className={`${color} h-full rounded-full transition-all`} style={{ width: `${Math.min(load, 100)}%` }} />\r\n                  </div>\r\n                  <div className=\"flex justify-between text-xs text-gray-500\">\r\n                    <span>{server.current_connections}/{server.capacity}</span>\r\n                    <span>{load.toFixed(1)}%</span>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : <p className=\"text-gray-500\">No server data</p>}\r\n      </Card>\r\n\r\n      {/* User Growth */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold text-white mb-4\">User Growth (Last 30 Days)</h3>\r\n        {data.userGrowth?.length > 0 ? (\r\n          <div className=\"flex items-end gap-1 h-32\">\r\n            {data.userGrowth.map((day, i) => {\r\n              const maxCount = Math.max(...data.userGrowth.map(d => parseInt(d.count)));\r\n              const height = maxCount > 0 ? (parseInt(day.count) / maxCount) * 100 : 0;\r\n              return (\r\n                <div key={i} className=\"flex-1 flex flex-col items-center justify-end group relative\">\r\n                  <div className=\"absolute -top-6 hidden group-hover:block bg-gray-700 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10\">\r\n                    {new Date(day.date).toLocaleDateString()}: {day.count} users\r\n                  </div>\r\n                  <div className=\"w-full bg-blue-500 rounded-t transition-all\" style={{ height: `${height}%`, minHeight: height > 0 ? '4px' : '0' }} />\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        ) : <p className=\"text-gray-500\">No user growth data</p>}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GeoAnalytics;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  FaEnvelope, FaEdit, FaEye, FaPaperPlane, FaToggleOn, FaToggleOff,\r\n  FaCode, FaInfoCircle, FaTimes, FaCheck, FaSpinner, FaSearch\r\n} from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport { apiService } from '../../services/api';\r\n\r\nconst EmailTemplateManager = () => {\r\n  const [templates, setTemplates] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedTemplate, setSelectedTemplate] = useState(null);\r\n  const [editing, setEditing] = useState(false);\r\n  const [previewing, setPreviewing] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [testing, setTesting] = useState(false);\r\n  const [testEmail, setTestEmail] = useState('');\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [editForm, setEditForm] = useState({ subject: '', body_html: '', body_text: '' });\r\n\r\n  const showMsg = useCallback((type, text) => {\r\n    setMessage({ type, text });\r\n    setTimeout(() => setMessage({ type: '', text: '' }), 4000);\r\n  }, []);\r\n\r\n  const loadTemplates = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiService.getEmailTemplates();\r\n      setTemplates(res.data.templates || []);\r\n    } catch (err) {\r\n      console.error('Failed to load templates:', err);\r\n      showMsg('error', 'Failed to load email templates');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [showMsg]);\r\n\r\n  useEffect(() => { loadTemplates(); }, [loadTemplates]);\r\n\r\n  const loadTemplate = async (slug) => {\r\n    try {\r\n      const res = await apiService.getEmailTemplate(slug);\r\n      const t = res.data.template;\r\n      setSelectedTemplate(t);\r\n      setEditForm({ subject: t.subject, body_html: t.body_html, body_text: t.body_text || '' });\r\n      setEditing(false);\r\n      setPreviewing(false);\r\n    } catch (err) {\r\n      showMsg('error', 'Failed to load template');\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!selectedTemplate) return;\r\n    try {\r\n      setSaving(true);\r\n      await apiService.updateEmailTemplate(selectedTemplate.slug, editForm);\r\n      showMsg('success', 'Template saved successfully');\r\n      setEditing(false);\r\n      await loadTemplates();\r\n      // Reload the selected template\r\n      await loadTemplate(selectedTemplate.slug);\r\n    } catch (err) {\r\n      showMsg('error', 'Failed to save template');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleToggle = async (slug) => {\r\n    try {\r\n      await apiService.toggleEmailTemplate(slug);\r\n      await loadTemplates();\r\n      if (selectedTemplate?.slug === slug) {\r\n        await loadTemplate(slug);\r\n      }\r\n      showMsg('success', 'Template toggled');\r\n    } catch (err) {\r\n      showMsg('error', 'Failed to toggle template');\r\n    }\r\n  };\r\n\r\n  const handleTest = async () => {\r\n    if (!selectedTemplate || !testEmail) return;\r\n    try {\r\n      setTesting(true);\r\n      await apiService.testEmailTemplate(selectedTemplate.slug, testEmail);\r\n      showMsg('success', `Test email sent to ${testEmail}`);\r\n      setTestEmail('');\r\n    } catch (err) {\r\n      showMsg('error', err.response?.data?.error || 'Failed to send test email');\r\n    } finally {\r\n      setTesting(false);\r\n    }\r\n  };\r\n\r\n  const categoryColors = {\r\n    auth: 'bg-blue-600',\r\n    billing: 'bg-green-600',\r\n    lifecycle: 'bg-yellow-600',\r\n    support: 'bg-purple-600',\r\n    security: 'bg-red-600',\r\n  };\r\n\r\n  const filteredTemplates = templates.filter(t =>\r\n    t.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    t.slug.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    (t.category || '').toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Group templates by category\r\n  const grouped = filteredTemplates.reduce((acc, t) => {\r\n    const cat = t.category || 'other';\r\n    if (!acc[cat]) acc[cat] = [];\r\n    acc[cat].push(t);\r\n    return acc;\r\n  }, {});\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-20 text-gray-400\">\r\n        <FaSpinner className=\"animate-spin mr-2\" /> Loading email templates...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center flex-wrap gap-4\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold text-white\">Email Templates</h2>\r\n          <p className=\"text-gray-400 mt-1\">Manage all outgoing email templates. Use {'{{variables}}'} for dynamic content.</p>\r\n        </div>\r\n        {message.text && (\r\n          <div className={`px-4 py-2 rounded-lg text-white text-sm ${message.type === 'success' ? 'bg-green-600' : 'bg-red-600'}`}>\r\n            {message.text}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Template List (Left Column) */}\r\n        <div className=\"lg:col-span-1 space-y-4\">\r\n          {/* Search */}\r\n          <div className=\"relative\">\r\n            <FaSearch className=\"absolute left-3 top-3 text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              placeholder=\"Search templates...\"\r\n              className=\"w-full pl-10 pr-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n\r\n          {/* Template Cards */}\r\n          <div className=\"space-y-3 max-h-[70vh] overflow-y-auto pr-2\">\r\n            {Object.entries(grouped).map(([category, items]) => (\r\n              <div key={category}>\r\n                <h4 className=\"text-xs uppercase tracking-wider text-gray-400 mb-2 px-1\">\r\n                  {category}\r\n                </h4>\r\n                {items.map((t) => (\r\n                  <button\r\n                    key={t.slug}\r\n                    onClick={() => loadTemplate(t.slug)}\r\n                    className={`w-full text-left p-3 rounded-lg mb-2 transition border ${\r\n                      selectedTemplate?.slug === t.slug\r\n                        ? 'bg-blue-600 bg-opacity-30 border-blue-500'\r\n                        : 'bg-white bg-opacity-5 border-transparent hover:bg-white hover:bg-opacity-10'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <span className=\"text-white font-medium text-sm\">{t.name}</span>\r\n                      <span className={`w-2 h-2 rounded-full ${t.is_active ? 'bg-green-400' : 'bg-red-400'}`} />\r\n                    </div>\r\n                    <p className=\"text-gray-400 text-xs mt-1 truncate\">{t.description}</p>\r\n                    <div className=\"flex items-center gap-2 mt-2\">\r\n                      <span className={`text-[10px] px-2 py-0.5 rounded-full text-white ${categoryColors[t.category] || 'bg-gray-600'}`}>\r\n                        {t.category}\r\n                      </span>\r\n                    </div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Template Detail (Right Column) */}\r\n        <div className=\"lg:col-span-2\">\r\n          {!selectedTemplate ? (\r\n            <Card className=\"p-12 text-center\">\r\n              <FaEnvelope className=\"text-6xl text-gray-600 mx-auto mb-4\" />\r\n              <p className=\"text-gray-400 text-lg\">Select a template to view or edit</p>\r\n            </Card>\r\n          ) : (\r\n            <Card className=\"p-6 space-y-6\">\r\n              {/* Template Header */}\r\n              <div className=\"flex justify-between items-start flex-wrap gap-3\">\r\n                <div>\r\n                  <h3 className=\"text-2xl font-bold text-white\">{selectedTemplate.name}</h3>\r\n                  <p className=\"text-gray-400 text-sm mt-1\">{selectedTemplate.description}</p>\r\n                  <span className=\"text-xs text-gray-500 font-mono\">slug: {selectedTemplate.slug}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button\r\n                    onClick={() => handleToggle(selectedTemplate.slug)}\r\n                    className={`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition ${\r\n                      selectedTemplate.is_active\r\n                        ? 'bg-green-600 bg-opacity-30 text-green-300 hover:bg-opacity-50'\r\n                        : 'bg-red-600 bg-opacity-30 text-red-300 hover:bg-opacity-50'\r\n                    }`}\r\n                  >\r\n                    {selectedTemplate.is_active ? <FaToggleOn /> : <FaToggleOff />}\r\n                    {selectedTemplate.is_active ? 'Active' : 'Disabled'}\r\n                  </button>\r\n                  {!editing ? (\r\n                    <Button variant=\"primary\" onClick={() => setEditing(true)}>\r\n                      <FaEdit className=\"mr-1\" /> Edit\r\n                    </Button>\r\n                  ) : (\r\n                    <>\r\n                      <Button variant=\"primary\" onClick={handleSave} disabled={saving}>\r\n                        {saving ? <FaSpinner className=\"animate-spin mr-1\" /> : <FaCheck className=\"mr-1\" />}\r\n                        Save\r\n                      </Button>\r\n                      <Button variant=\"secondary\" onClick={() => {\r\n                        setEditing(false);\r\n                        setEditForm({ subject: selectedTemplate.subject, body_html: selectedTemplate.body_html, body_text: selectedTemplate.body_text || '' });\r\n                      }}>\r\n                        <FaTimes className=\"mr-1\" /> Cancel\r\n                      </Button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Available Variables */}\r\n              <div className=\"bg-blue-900 bg-opacity-30 border border-blue-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center gap-2 text-blue-300 font-medium mb-2\">\r\n                  <FaCode /> Available Variables\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {(selectedTemplate.available_variables || []).map((v) => (\r\n                    <span\r\n                      key={v}\r\n                      className=\"text-xs font-mono bg-blue-800 bg-opacity-50 text-blue-200 px-2 py-1 rounded cursor-pointer hover:bg-opacity-80 transition\"\r\n                      onClick={() => {\r\n                        if (editing) {\r\n                          navigator.clipboard.writeText(`{{${v}}}`);\r\n                          showMsg('success', `Copied {{${v}}} to clipboard`);\r\n                        }\r\n                      }}\r\n                      title={editing ? `Click to copy {{${v}}}` : v}\r\n                    >\r\n                      {`{{${v}}}`}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n                <p className=\"text-gray-400 text-xs mt-2\">\r\n                  <FaInfoCircle className=\"inline mr-1\" />\r\n                  Global: {'{{app_name}}, {{year}}, {{support_email}}, {{frontend_url}}'} are always available.\r\n                  {editing && ' Click a variable to copy it.'}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Subject */}\r\n              <div>\r\n                <label className=\"block text-gray-300 mb-2 font-medium\">Subject Line</label>\r\n                {editing ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editForm.subject}\r\n                    onChange={(e) => setEditForm(f => ({ ...f, subject: e.target.value }))}\r\n                    className=\"w-full px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"px-4 py-2 rounded-lg bg-white bg-opacity-5 text-gray-200 font-mono text-sm\">\r\n                    {selectedTemplate.subject}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* HTML Body */}\r\n              <div>\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <label className=\"text-gray-300 font-medium\">HTML Body</label>\r\n                  {!editing && (\r\n                    <button\r\n                      onClick={() => setPreviewing(!previewing)}\r\n                      className=\"text-sm text-blue-400 hover:text-blue-300 flex items-center gap-1\"\r\n                    >\r\n                      <FaEye /> {previewing ? 'Show Source' : 'Preview'}\r\n                    </button>\r\n                  )}\r\n                </div>\r\n                {editing ? (\r\n                  <textarea\r\n                    value={editForm.body_html}\r\n                    onChange={(e) => setEditForm(f => ({ ...f, body_html: e.target.value }))}\r\n                    rows={16}\r\n                    className=\"w-full px-4 py-3 rounded-lg bg-gray-900 border border-white border-opacity-20 text-green-300 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y\"\r\n                    spellCheck={false}\r\n                  />\r\n                ) : previewing ? (\r\n                  <div\r\n                    className=\"bg-white rounded-lg p-4 max-h-96 overflow-auto\"\r\n                  >\r\n                    <iframe\r\n                      title=\"Email Preview\"\r\n                      sandbox=\"\"\r\n                      srcDoc={selectedTemplate.body_html}\r\n                      style={{ width: '100%', minHeight: '300px', border: 'none' }}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <pre className=\"bg-gray-900 rounded-lg p-4 text-green-300 text-xs font-mono max-h-96 overflow-auto whitespace-pre-wrap\">\r\n                    {selectedTemplate.body_html}\r\n                  </pre>\r\n                )}\r\n              </div>\r\n\r\n              {/* Plain-text Body */}\r\n              <div>\r\n                <label className=\"block text-gray-300 mb-2 font-medium\">Plain Text Body (fallback)</label>\r\n                {editing ? (\r\n                  <textarea\r\n                    value={editForm.body_text}\r\n                    onChange={(e) => setEditForm(f => ({ ...f, body_text: e.target.value }))}\r\n                    rows={6}\r\n                    className=\"w-full px-4 py-3 rounded-lg bg-gray-900 border border-white border-opacity-20 text-gray-200 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 resize-y\"\r\n                  />\r\n                ) : (\r\n                  <pre className=\"bg-gray-900 rounded-lg p-4 text-gray-300 text-xs font-mono max-h-48 overflow-auto whitespace-pre-wrap\">\r\n                    {selectedTemplate.body_text || '(not set  HTML only)'}\r\n                  </pre>\r\n                )}\r\n              </div>\r\n\r\n              {/* Send Test Email */}\r\n              <div className=\"border-t border-white border-opacity-10 pt-4\">\r\n                <label className=\"block text-gray-300 mb-2 font-medium\">\r\n                  <FaPaperPlane className=\"inline mr-1\" /> Send Test Email\r\n                </label>\r\n                <div className=\"flex gap-3\">\r\n                  <input\r\n                    type=\"email\"\r\n                    value={testEmail}\r\n                    onChange={(e) => setTestEmail(e.target.value)}\r\n                    placeholder=\"recipient@example.com\"\r\n                    className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                  <Button\r\n                    variant=\"primary\"\r\n                    onClick={handleTest}\r\n                    disabled={testing || !testEmail}\r\n                  >\r\n                    {testing ? <FaSpinner className=\"animate-spin\" /> : 'Send Test'}\r\n                  </Button>\r\n                </div>\r\n                <p className=\"text-gray-500 text-xs mt-1\">Sends this template with sample data to the specified email.</p>\r\n              </div>\r\n            </Card>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailTemplateManager;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  FaBullhorn, FaPlus, FaEdit, FaTrash, FaToggleOn, FaToggleOff,\r\n  FaSpinner, FaInfoCircle, FaExclamationTriangle, FaCheckCircle,\r\n  FaTimes, FaCheck, FaClock, FaMobileAlt, FaGlobe\r\n} from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport { apiService } from '../../services/api';\r\nimport useConfirm from '../../hooks/useConfirm';\r\nimport ConfirmDialog from '../common/ConfirmDialog';\r\n\r\nconst AnnouncementManager = () => {\r\n  const [announcements, setAnnouncements] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState(null); // null = list view, 'new' = creating, id = editing\r\n  const [saving, setSaving] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n\r\n  const emptyForm = {\r\n    title: '',\r\n    content: '',\r\n    type: 'info',\r\n    target_audience: 'all',\r\n    is_active: true,\r\n    show_in_app: true,\r\n    show_on_website: false,\r\n    priority: 0,\r\n    starts_at: '',\r\n    ends_at: '',\r\n  };\r\n  const [form, setForm] = useState(emptyForm);\r\n  const { confirm: confirmDialog, dialogProps } = useConfirm();\r\n\r\n  const showMsg = useCallback((type, text) => {\r\n    setMessage({ type, text });\r\n    setTimeout(() => setMessage({ type: '', text: '' }), 4000);\r\n  }, []);\r\n\r\n  const loadAnnouncements = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiService.getAnnouncements();\r\n      setAnnouncements(res.data.announcements || []);\r\n    } catch (err) {\r\n      console.error('Failed to load announcements:', err);\r\n      showMsg('error', 'Failed to load announcements');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [showMsg]);\r\n\r\n  useEffect(() => { loadAnnouncements(); }, [loadAnnouncements]);\r\n\r\n  const handleCreate = () => {\r\n    setForm(emptyForm);\r\n    setEditing('new');\r\n  };\r\n\r\n  const handleEdit = (ann) => {\r\n    setForm({\r\n      title: ann.title,\r\n      content: ann.content,\r\n      type: ann.type || 'info',\r\n      target_audience: ann.target_audience || 'all',\r\n      is_active: ann.is_active,\r\n      show_in_app: ann.show_in_app !== false,\r\n      show_on_website: ann.show_on_website || false,\r\n      priority: ann.priority || 0,\r\n      starts_at: ann.starts_at ? ann.starts_at.slice(0, 16) : '',\r\n      ends_at: ann.ends_at ? ann.ends_at.slice(0, 16) : '',\r\n    });\r\n    setEditing(ann.id);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!form.title.trim() || !form.content.trim()) {\r\n      showMsg('error', 'Title and content are required');\r\n      return;\r\n    }\r\n    try {\r\n      setSaving(true);\r\n      const payload = {\r\n        ...form,\r\n        starts_at: form.starts_at || null,\r\n        ends_at: form.ends_at || null,\r\n      };\r\n      if (editing === 'new') {\r\n        await apiService.createAnnouncement(payload);\r\n        showMsg('success', 'Announcement created');\r\n      } else {\r\n        await apiService.updateAnnouncement(editing, payload);\r\n        showMsg('success', 'Announcement updated');\r\n      }\r\n      setEditing(null);\r\n      await loadAnnouncements();\r\n    } catch (err) {\r\n      showMsg('error', err.response?.data?.error || 'Failed to save announcement');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    const ok = await confirmDialog({ title: 'Delete Announcement', message: 'Delete this announcement?', confirmText: 'Delete', variant: 'danger' });\r\n    if (!ok) return;\r\n    try {\r\n      await apiService.deleteAnnouncement(id);\r\n      showMsg('success', 'Announcement deleted');\r\n      await loadAnnouncements();\r\n    } catch (err) {\r\n      showMsg('error', 'Failed to delete announcement');\r\n    }\r\n  };\r\n\r\n  const handleToggle = async (id) => {\r\n    try {\r\n      await apiService.toggleAnnouncement(id);\r\n      await loadAnnouncements();\r\n      showMsg('success', 'Announcement toggled');\r\n    } catch (err) {\r\n      showMsg('error', 'Failed to toggle announcement');\r\n    }\r\n  };\r\n\r\n  const typeConfig = {\r\n    info: { icon: FaInfoCircle, color: 'blue', label: 'Info' },\r\n    warning: { icon: FaExclamationTriangle, color: 'yellow', label: 'Warning' },\r\n    success: { icon: FaCheckCircle, color: 'green', label: 'Success' },\r\n    error: { icon: FaExclamationTriangle, color: 'red', label: 'Error/Urgent' },\r\n    maintenance: { icon: FaClock, color: 'orange', label: 'Maintenance' },\r\n  };\r\n\r\n  const inputClass = \"w-full px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\";\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-20 text-gray-400\">\r\n        <FaSpinner className=\"animate-spin mr-2\" /> Loading announcements...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ========== EDIT / CREATE FORM ==========\r\n  if (editing !== null) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <h2 className=\"text-3xl font-bold text-white\">\r\n            {editing === 'new' ? 'Create Announcement' : 'Edit Announcement'}\r\n          </h2>\r\n          <Button variant=\"secondary\" onClick={() => setEditing(null)}>\r\n            <FaTimes className=\"mr-1\" /> Cancel\r\n          </Button>\r\n        </div>\r\n\r\n        <Card className=\"p-6 space-y-5\">\r\n          {/* Title */}\r\n          <div>\r\n            <label className=\"block text-gray-300 mb-2 font-medium\">Title *</label>\r\n            <input\r\n              type=\"text\"\r\n              value={form.title}\r\n              onChange={(e) => setForm(f => ({ ...f, title: e.target.value }))}\r\n              placeholder=\"Announcement title...\"\r\n              className={inputClass}\r\n            />\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div>\r\n            <label className=\"block text-gray-300 mb-2 font-medium\">Content *</label>\r\n            <textarea\r\n              value={form.content}\r\n              onChange={(e) => setForm(f => ({ ...f, content: e.target.value }))}\r\n              rows={4}\r\n              placeholder=\"Announcement message...\"\r\n              className={`${inputClass} resize-y`}\r\n            />\r\n          </div>\r\n\r\n          {/* Type + Audience + Priority */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div>\r\n              <label className=\"block text-gray-300 mb-2 font-medium\">Type</label>\r\n              <select\r\n                value={form.type}\r\n                onChange={(e) => setForm(f => ({ ...f, type: e.target.value }))}\r\n                className={inputClass}\r\n              >\r\n                {Object.entries(typeConfig).map(([key, cfg]) => (\r\n                  <option key={key} value={key}>{cfg.label}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-gray-300 mb-2 font-medium\">Target Audience</label>\r\n              <select\r\n                value={form.target_audience}\r\n                onChange={(e) => setForm(f => ({ ...f, target_audience: e.target.value }))}\r\n                className={inputClass}\r\n              >\r\n                <option value=\"all\">All Users</option>\r\n                <option value=\"free\">Free Users</option>\r\n                <option value=\"premium\">Premium Users</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-gray-300 mb-2 font-medium\">Priority</label>\r\n              <input\r\n                type=\"number\"\r\n                value={form.priority}\r\n                onChange={(e) => setForm(f => ({ ...f, priority: parseInt(e.target.value) || 0 }))}\r\n                className={inputClass}\r\n                min=\"0\"\r\n                max=\"100\"\r\n              />\r\n              <p className=\"text-gray-500 text-xs mt-1\">Higher = shown first</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Toggles */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            {[\r\n              { key: 'is_active', label: 'Active', desc: 'Announcement is live' },\r\n              { key: 'show_in_app', label: 'Show in App', desc: 'Visible in mobile app', icon: FaMobileAlt },\r\n              { key: 'show_on_website', label: 'Show on Website', desc: 'Visible on website', icon: FaGlobe },\r\n            ].map(({ key, label, desc, icon: Icon }) => (\r\n              <div key={key} className=\"bg-white bg-opacity-5 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {Icon && <Icon className=\"text-gray-400\" />}\r\n                    <span className=\"text-white font-medium\">{label}</span>\r\n                  </div>\r\n                  <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={form[key]}\r\n                      onChange={(e) => setForm(f => ({ ...f, [key]: e.target.checked }))}\r\n                      className=\"sr-only peer\"\r\n                    />\r\n                    <div className=\"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                  </label>\r\n                </div>\r\n                <p className=\"text-gray-500 text-xs mt-1\">{desc}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Schedule */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-gray-300 mb-2 font-medium\">\r\n                <FaClock className=\"inline mr-1\" /> Start Date (optional)\r\n              </label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                value={form.starts_at}\r\n                onChange={(e) => setForm(f => ({ ...f, starts_at: e.target.value }))}\r\n                className={inputClass}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-gray-300 mb-2 font-medium\">\r\n                <FaClock className=\"inline mr-1\" /> End Date (optional)\r\n              </label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                value={form.ends_at}\r\n                onChange={(e) => setForm(f => ({ ...f, ends_at: e.target.value }))}\r\n                className={inputClass}\r\n              />\r\n            </div>\r\n          </div>\r\n          <p className=\"text-gray-500 text-xs\">Leave dates empty for the announcement to show immediately with no expiration.</p>\r\n\r\n          {/* Preview */}\r\n          <div>\r\n            <label className=\"block text-gray-300 mb-2 font-medium\">Preview</label>\r\n            <AnnouncementPreview title={form.title} content={form.content} type={form.type} />\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex justify-end gap-3 pt-4 border-t border-white border-opacity-10\">\r\n            <Button variant=\"secondary\" onClick={() => setEditing(null)}>Cancel</Button>\r\n            <Button variant=\"primary\" onClick={handleSave} disabled={saving}>\r\n              {saving ? <FaSpinner className=\"animate-spin mr-1\" /> : <FaCheck className=\"mr-1\" />}\r\n              {editing === 'new' ? 'Create' : 'Save Changes'}\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ========== LIST VIEW ==========\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center flex-wrap gap-4\">\r\n        <div>\r\n          <h2 className=\"text-3xl font-bold text-white\">Announcements</h2>\r\n          <p className=\"text-gray-400 mt-1\">Manage in-app and website announcements shown to users.</p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          {message.text && (\r\n            <div className={`px-4 py-2 rounded-lg text-white text-sm ${message.type === 'success' ? 'bg-green-600' : 'bg-red-600'}`}>\r\n              {message.text}\r\n            </div>\r\n          )}\r\n          <Button variant=\"primary\" onClick={handleCreate}>\r\n            <FaPlus className=\"mr-1\" /> New Announcement\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Empty State */}\r\n      {announcements.length === 0 ? (\r\n        <Card className=\"p-12 text-center\">\r\n          <FaBullhorn className=\"text-6xl text-gray-600 mx-auto mb-4\" />\r\n          <p className=\"text-gray-400 text-lg mb-4\">No announcements yet</p>\r\n          <Button variant=\"primary\" onClick={handleCreate}>\r\n            <FaPlus className=\"mr-1\" /> Create First Announcement\r\n          </Button>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {announcements.map((ann) => {\r\n            const tc = typeConfig[ann.type] || typeConfig.info;\r\n            const TypeIcon = tc.icon;\r\n            const isExpired = ann.ends_at && new Date(ann.ends_at) < new Date();\r\n            const isScheduled = ann.starts_at && new Date(ann.starts_at) > new Date();\r\n\r\n            return (\r\n              <Card key={ann.id} className=\"p-5\">\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <div className=\"flex items-start gap-3 flex-1\">\r\n                    <div className={`p-2 rounded-lg bg-${tc.color}-600 bg-opacity-20 mt-1`}>\r\n                      <TypeIcon className={`text-${tc.color}-400`} />\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center gap-2 flex-wrap\">\r\n                        <h4 className=\"text-white font-bold text-lg\">{ann.title}</h4>\r\n                        <span className={`text-[10px] px-2 py-0.5 rounded-full text-white bg-${tc.color}-600`}>\r\n                          {tc.label}\r\n                        </span>\r\n                        {ann.is_active && !isExpired && !isScheduled && (\r\n                          <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-green-600 text-white\">LIVE</span>\r\n                        )}\r\n                        {isScheduled && (\r\n                          <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-yellow-600 text-white\">SCHEDULED</span>\r\n                        )}\r\n                        {isExpired && (\r\n                          <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-gray-600 text-white\">EXPIRED</span>\r\n                        )}\r\n                        {!ann.is_active && (\r\n                          <span className=\"text-[10px] px-2 py-0.5 rounded-full bg-red-600 text-white\">DISABLED</span>\r\n                        )}\r\n                      </div>\r\n                      <p className=\"text-gray-300 text-sm mt-1 line-clamp-2\">{ann.content}</p>\r\n                      <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\r\n                        {ann.show_in_app && <span className=\"flex items-center gap-1\"><FaMobileAlt /> App</span>}\r\n                        {ann.show_on_website && <span className=\"flex items-center gap-1\"><FaGlobe /> Website</span>}\r\n                        <span>{ann.target_audience || 'all'} users</span>\r\n                        {ann.starts_at && <span>From: {new Date(ann.starts_at).toLocaleDateString()}</span>}\r\n                        {ann.ends_at && <span>Until: {new Date(ann.ends_at).toLocaleDateString()}</span>}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n                    <button\r\n                      onClick={() => handleToggle(ann.id)}\r\n                      className={`p-2 rounded-lg transition ${\r\n                        ann.is_active\r\n                          ? 'text-green-400 hover:bg-green-600 hover:bg-opacity-20'\r\n                          : 'text-gray-500 hover:bg-gray-600 hover:bg-opacity-20'\r\n                      }`}\r\n                      title={ann.is_active ? 'Deactivate' : 'Activate'}\r\n                    >\r\n                      {ann.is_active ? <FaToggleOn size={20} /> : <FaToggleOff size={20} />}\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleEdit(ann)}\r\n                      className=\"p-2 rounded-lg text-blue-400 hover:bg-blue-600 hover:bg-opacity-20 transition\"\r\n                      title=\"Edit\"\r\n                    >\r\n                      <FaEdit />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDelete(ann.id)}\r\n                      className=\"p-2 rounded-lg text-red-400 hover:bg-red-600 hover:bg-opacity-20 transition\"\r\n                      title=\"Delete\"\r\n                    >\r\n                      <FaTrash />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n      <ConfirmDialog {...dialogProps} />\r\n    </div>\r\n  );\r\n};\r\n\r\n// ========== Announcement Preview Component ==========\r\nconst AnnouncementPreview = ({ title, content, type }) => {\r\n  const colors = {\r\n    info: { bg: 'bg-blue-600 bg-opacity-20', border: 'border-blue-500', text: 'text-blue-200' },\r\n    warning: { bg: 'bg-yellow-600 bg-opacity-20', border: 'border-yellow-500', text: 'text-yellow-200' },\r\n    success: { bg: 'bg-green-600 bg-opacity-20', border: 'border-green-500', text: 'text-green-200' },\r\n    error: { bg: 'bg-red-600 bg-opacity-20', border: 'border-red-500', text: 'text-red-200' },\r\n    maintenance: { bg: 'bg-orange-600 bg-opacity-20', border: 'border-orange-500', text: 'text-orange-200' },\r\n  };\r\n  const c = colors[type] || colors.info;\r\n\r\n  return (\r\n    <div className={`${c.bg} border ${c.border} rounded-lg p-4`}>\r\n      <div className=\"flex items-start justify-between\">\r\n        <div>\r\n          <h5 className={`${c.text} font-bold`}>{title || 'Announcement Title'}</h5>\r\n          <p className={`${c.text} text-sm mt-1 opacity-80`}>{content || 'Announcement content will appear here...'}</p>\r\n        </div>\r\n        <button className={`${c.text} opacity-50 hover:opacity-100`}><FaTimes /></button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnnouncementManager;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { apiService } from '../../services/api';\r\nimport ConfirmDialog from '../common/ConfirmDialog';\r\nimport useConfirm from '../../hooks/useConfirm';\r\nimport {\r\n  FaTimes, FaUser, FaCrown, FaKey, FaGift, FaHistory,\r\n  FaNetworkWired, FaDollarSign, FaTicketAlt, FaShieldAlt,\r\n} from 'react-icons/fa';\r\n\r\nconst UserDetailModal = ({ isOpen, onClose, userId, onRefresh }) => {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeSection, setActiveSection] = useState('overview');\r\n  const [resetPwForm, setResetPwForm] = useState({ show: false, password: '', loading: false });\r\n  const [grantSubForm, setGrantSubForm] = useState({\r\n    show: false, planType: '1month', durationDays: 30, bonusMonths: 0, loading: false,\r\n  });\r\n  const [message, setMessage] = useState(null);\r\n  const { confirm, dialogProps } = useConfirm();\r\n\r\n  useEffect(() => {\r\n    if (isOpen && userId) {\r\n      loadDetails();\r\n    }\r\n  }, [isOpen, userId]);\r\n\r\n  const loadDetails = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await apiService.getUserDetails(userId);\r\n      setData(response.data);\r\n    } catch (err) {\r\n      console.error('Failed to load user details:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleResetPassword = async () => {\r\n    const pw = resetPwForm.password;\r\n    if (!pw || pw.length < 8) {\r\n      setMessage({ type: 'error', text: 'Password must be at least 8 characters' });\r\n      return;\r\n    }\r\n    if (!/[A-Z]/.test(pw)) {\r\n      setMessage({ type: 'error', text: 'Password must contain at least one uppercase letter' });\r\n      return;\r\n    }\r\n    if (!/[0-9]/.test(pw)) {\r\n      setMessage({ type: 'error', text: 'Password must contain at least one number' });\r\n      return;\r\n    }\r\n    if (!/[!@#$%^&*()_+\\-=[\\]{};':\"|,.<>/?]/.test(pw)) {\r\n      setMessage({ type: 'error', text: 'Password must contain at least one special character' });\r\n      return;\r\n    }\r\n    const ok = await confirm({\r\n      title: 'Reset Password',\r\n      message: `Are you sure you want to reset the password for ${data?.user?.email}?`,\r\n      confirmText: 'Reset Password',\r\n      variant: 'warning',\r\n    });\r\n    if (!ok) return;\r\n    setResetPwForm(f => ({ ...f, loading: true }));\r\n    try {\r\n      const res = await apiService.adminResetPassword(userId, resetPwForm.password);\r\n      setMessage({ type: 'success', text: res.data.message });\r\n      setResetPwForm({ show: false, password: '', loading: false });\r\n    } catch (err) {\r\n      setMessage({ type: 'error', text: err.response?.data?.error || 'Failed to reset password' });\r\n      setResetPwForm(f => ({ ...f, loading: false }));\r\n    }\r\n  };\r\n\r\n  const handleGrantSubscription = async () => {\r\n    const ok = await confirm({\r\n      title: 'Grant Subscription',\r\n      message: `Grant ${grantSubForm.planType} subscription (${grantSubForm.durationDays} days, ${grantSubForm.bonusMonths} bonus months) to ${data?.user?.email}?`,\r\n      confirmText: 'Grant Subscription',\r\n      variant: 'warning',\r\n    });\r\n    if (!ok) return;\r\n    setGrantSubForm(f => ({ ...f, loading: true }));\r\n    try {\r\n      const res = await apiService.adminGrantSubscription(userId, {\r\n        planType: grantSubForm.planType,\r\n        durationDays: parseInt(grantSubForm.durationDays),\r\n        bonusMonths: parseInt(grantSubForm.bonusMonths),\r\n      });\r\n      setMessage({ type: 'success', text: res.data.message });\r\n      setGrantSubForm({ show: false, planType: '1month', durationDays: 30, bonusMonths: 0, loading: false });\r\n      loadDetails();\r\n      if (onRefresh) onRefresh();\r\n    } catch (err) {\r\n      setMessage({ type: 'error', text: err.response?.data?.error || 'Failed to grant subscription' });\r\n      setGrantSubForm(f => ({ ...f, loading: false }));\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const formatDate = (d) => d ? new Date(d).toLocaleString() : 'N/A';\r\n  const formatBytes = (b) => {\r\n    if (!b) return '0 B';\r\n    const sizes = ['B', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(b) / Math.log(1024));\r\n    return (b / Math.pow(1024, i)).toFixed(1) + ' ' + sizes[i];\r\n  };\r\n\r\n  const sections = [\r\n    { id: 'overview', name: 'Overview', icon: FaUser },\r\n    { id: 'subscription', name: 'Subscription', icon: FaCrown },\r\n    { id: 'connections', name: 'Connections', icon: FaNetworkWired },\r\n    { id: 'payments', name: 'Payments', icon: FaDollarSign },\r\n    { id: 'tickets', name: 'Tickets', icon: FaTicketAlt },\r\n    { id: 'actions', name: 'Actions', icon: FaShieldAlt },\r\n  ];\r\n\r\n  const user = data?.user;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4\" onClick={onClose}>\r\n      <div className=\"bg-gray-800 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col\" onClick={e => e.stopPropagation()}>\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-5 border-b border-gray-700\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\">\r\n              <FaUser className=\"text-white\" />\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-xl font-bold text-white\">{user?.email || 'Loading...'}</h2>\r\n              <p className=\"text-sm text-gray-400\">User Details</p>\r\n            </div>\r\n          </div>\r\n          <button onClick={onClose} className=\"text-gray-400 hover:text-white p-2\">\r\n            <FaTimes size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Message Banner */}\r\n        {message && (\r\n          <div className={`mx-5 mt-3 p-3 rounded-lg text-sm ${message.type === 'success' ? 'bg-green-500/20 text-green-300 border border-green-500/30' : 'bg-red-500/20 text-red-300 border border-red-500/30'}`}>\r\n            {message.text}\r\n            <button onClick={() => setMessage(null)} className=\"ml-3 font-bold\"></button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Section Tabs */}\r\n        <div className=\"flex gap-1 p-3 border-b border-gray-700 overflow-x-auto\">\r\n          {sections.map(s => (\r\n            <button key={s.id} onClick={() => setActiveSection(s.id)}\r\n              className={`flex items-center gap-2 px-3 py-2 rounded-lg text-sm whitespace-nowrap transition ${\r\n                activeSection === s.id ? 'bg-blue-600 text-white' : 'text-gray-400 hover:bg-gray-700 hover:text-white'\r\n              }`}>\r\n              <s.icon size={14} /> {s.name}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-5\">\r\n          {loading ? (\r\n            <div className=\"flex justify-center py-12\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\" />\r\n            </div>\r\n          ) : !data ? (\r\n            <p className=\"text-gray-400 text-center py-8\">Failed to load details</p>\r\n          ) : (\r\n            <>\r\n              {/* Overview */}\r\n              {activeSection === 'overview' && (\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <InfoCard label=\"Email\" value={user.email} />\r\n                  <InfoCard label=\"Tier\" value={user.tier} badge={user.tier === 'paid' ? 'purple' : user.tier === 'admin' ? 'yellow' : 'gray'} />\r\n                  <InfoCard label=\"Status\" value={user.status} badge={user.status === 'active' ? 'green' : 'red'} />\r\n                  <InfoCard label=\"Email Verified\" value={user.email_verified ? 'Yes' : 'No'} badge={user.email_verified ? 'green' : 'red'} />\r\n                  <InfoCard label=\"2FA Enabled\" value={user.totp_enabled ? 'Yes' : 'No'} badge={user.totp_enabled ? 'green' : 'gray'} />\r\n                  <InfoCard label=\"Referral Code\" value={user.referral_code || 'None'} />\r\n                  <InfoCard label=\"Created\" value={formatDate(user.created_at)} />\r\n                  <InfoCard label=\"Last Login\" value={formatDate(user.last_login)} />\r\n                </div>\r\n              )}\r\n\r\n              {/* Subscription */}\r\n              {activeSection === 'subscription' && (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <InfoCard label=\"Plan Type\" value={user.plan_type || 'None'} />\r\n                    <InfoCard label=\"Days Remaining\" value={user.days_remaining?.toString() || '0'} />\r\n                    <InfoCard label=\"Start Date\" value={formatDate(user.subscription_start_date)} />\r\n                    <InfoCard label=\"End Date\" value={formatDate(user.subscription_end_date)} />\r\n                    <InfoCard label=\"Bonus Months\" value={(user.bonus_months || 0).toString()} />\r\n                    <InfoCard label=\"Auto Renew\" value={user.auto_renew ? 'Yes' : 'No'} />\r\n                  </div>\r\n\r\n                  {/* Grant Subscription */}\r\n                  <div className=\"mt-6 p-4 bg-gray-700/50 rounded-lg\">\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                      <h3 className=\"text-white font-semibold flex items-center gap-2\"><FaGift /> Grant/Extend Subscription</h3>\r\n                      <button onClick={() => setGrantSubForm(f => ({ ...f, show: !f.show }))}\r\n                        className=\"text-sm text-blue-400 hover:text-blue-300\">\r\n                        {grantSubForm.show ? 'Cancel' : 'Open'}\r\n                      </button>\r\n                    </div>\r\n                    {grantSubForm.show && (\r\n                      <div className=\"space-y-3\">\r\n                        <div className=\"grid grid-cols-3 gap-3\">\r\n                          <div>\r\n                            <label className=\"text-gray-400 text-sm\">Plan Type</label>\r\n                            <select value={grantSubForm.planType}\r\n                              onChange={e => setGrantSubForm(f => ({ ...f, planType: e.target.value }))}\r\n                              className=\"w-full mt-1 px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\">\r\n                              <option value=\"1month\">1 Month</option>\r\n                              <option value=\"3month\">3 Months</option>\r\n                              <option value=\"6month\">6 Months</option>\r\n                              <option value=\"12month\">12 Months</option>\r\n                              <option value=\"manual\">Manual/Custom</option>\r\n                            </select>\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"text-gray-400 text-sm\">Duration (days)</label>\r\n                            <input type=\"number\" value={grantSubForm.durationDays}\r\n                              onChange={e => setGrantSubForm(f => ({ ...f, durationDays: e.target.value }))}\r\n                              className=\"w-full mt-1 px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\" />\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"text-gray-400 text-sm\">Bonus Months</label>\r\n                            <input type=\"number\" value={grantSubForm.bonusMonths}\r\n                              onChange={e => setGrantSubForm(f => ({ ...f, bonusMonths: e.target.value }))}\r\n                              className=\"w-full mt-1 px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\" />\r\n                          </div>\r\n                        </div>\r\n                        <button onClick={handleGrantSubscription} disabled={grantSubForm.loading}\r\n                          className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded text-sm font-medium disabled:opacity-50\">\r\n                          {grantSubForm.loading ? 'Granting...' : 'Grant Subscription'}\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Connections */}\r\n              {activeSection === 'connections' && (\r\n                <div className=\"space-y-4\">\r\n                  {data.activeConnections?.length > 0 && (\r\n                    <div>\r\n                      <h3 className=\"text-green-400 font-semibold mb-2\">Active Connections ({data.activeConnections.length})</h3>\r\n                      <table className=\"w-full text-sm\">\r\n                        <thead>\r\n                          <tr className=\"border-b border-gray-600 text-gray-400\">\r\n                            <th className=\"text-left py-2\">Server</th>\r\n                            <th className=\"text-left py-2\">Protocol</th>\r\n                            <th className=\"text-left py-2\">Connected</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {data.activeConnections.map(c => (\r\n                            <tr key={c.id} className=\"border-b border-gray-700\">\r\n                              <td className=\"py-2 text-white\">{c.server_name || c.server_id}</td>\r\n                              <td className=\"py-2\"><span className=\"px-2 py-0.5 bg-blue-500/20 text-blue-300 rounded text-xs\">{c.protocol}</span></td>\r\n                              <td className=\"py-2 text-gray-300\">{formatDate(c.connected_at)}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div>\r\n                    <h3 className=\"text-gray-300 font-semibold mb-2\">Connection History (last 20)</h3>\r\n                    {data.connections?.length > 0 ? (\r\n                      <table className=\"w-full text-sm\">\r\n                        <thead>\r\n                          <tr className=\"border-b border-gray-600 text-gray-400\">\r\n                            <th className=\"text-left py-2\">Server</th>\r\n                            <th className=\"text-left py-2\">Protocol</th>\r\n                            <th className=\"text-left py-2\">Connected</th>\r\n                            <th className=\"text-left py-2\">Disconnected</th>\r\n                            <th className=\"text-left py-2\">Data</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {data.connections.map(c => (\r\n                            <tr key={c.id} className=\"border-b border-gray-700\">\r\n                              <td className=\"py-2 text-white\">{c.server_name || c.server_id}</td>\r\n                              <td className=\"py-2\"><span className=\"px-2 py-0.5 bg-blue-500/20 text-blue-300 rounded text-xs\">{c.protocol}</span></td>\r\n                              <td className=\"py-2 text-gray-300\">{formatDate(c.connected_at)}</td>\r\n                              <td className=\"py-2 text-gray-300\">{formatDate(c.disconnected_at)}</td>\r\n                              <td className=\"py-2 text-gray-300\">{formatBytes((c.bytes_sent || 0) + (c.bytes_received || 0))}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    ) : <p className=\"text-gray-500 text-sm\">No connection history</p>}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Payments */}\r\n              {activeSection === 'payments' && (\r\n                <div>\r\n                  {data.payments?.length > 0 ? (\r\n                    <table className=\"w-full text-sm\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-gray-600 text-gray-400\">\r\n                          <th className=\"text-left py-2\">Date</th>\r\n                          <th className=\"text-left py-2\">Plan</th>\r\n                          <th className=\"text-left py-2\">Amount</th>\r\n                          <th className=\"text-left py-2\">Status</th>\r\n                          <th className=\"text-left py-2\">Stripe ID</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {data.payments.map(p => (\r\n                          <tr key={p.id} className=\"border-b border-gray-700\">\r\n                            <td className=\"py-2 text-gray-300\">{formatDate(p.created_at)}</td>\r\n                            <td className=\"py-2 text-white\">{p.plan_type}</td>\r\n                            <td className=\"py-2 text-green-400\">${(p.amount / 100).toFixed(2)} {p.currency?.toUpperCase()}</td>\r\n                            <td className=\"py-2\">\r\n                              <span className={`px-2 py-0.5 rounded text-xs ${p.status === 'succeeded' ? 'bg-green-500/20 text-green-300' : 'bg-yellow-500/20 text-yellow-300'}`}>\r\n                                {p.status}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"py-2 text-gray-400 font-mono text-xs\">{p.stripe_payment_id?.slice(0, 20) || '-'}</td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  ) : <p className=\"text-gray-500 text-sm\">No payment history</p>}\r\n                </div>\r\n              )}\r\n\r\n              {/* Tickets */}\r\n              {activeSection === 'tickets' && (\r\n                <div>\r\n                  {data.tickets?.length > 0 ? (\r\n                    <table className=\"w-full text-sm\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-gray-600 text-gray-400\">\r\n                          <th className=\"text-left py-2\">#</th>\r\n                          <th className=\"text-left py-2\">Subject</th>\r\n                          <th className=\"text-left py-2\">Status</th>\r\n                          <th className=\"text-left py-2\">Priority</th>\r\n                          <th className=\"text-left py-2\">Date</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {data.tickets.map(t => (\r\n                          <tr key={t.id} className=\"border-b border-gray-700\">\r\n                            <td className=\"py-2 text-blue-400\">#{t.ticket_number}</td>\r\n                            <td className=\"py-2 text-white\">{t.subject}</td>\r\n                            <td className=\"py-2\">\r\n                              <span className={`px-2 py-0.5 rounded text-xs ${\r\n                                t.status === 'resolved' ? 'bg-green-500/20 text-green-300' :\r\n                                t.status === 'open' ? 'bg-blue-500/20 text-blue-300' : 'bg-yellow-500/20 text-yellow-300'\r\n                              }`}>{t.status}</span>\r\n                            </td>\r\n                            <td className=\"py-2 text-gray-300\">{t.priority}</td>\r\n                            <td className=\"py-2 text-gray-400\">{formatDate(t.created_at)}</td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  ) : <p className=\"text-gray-500 text-sm\">No tickets</p>}\r\n                </div>\r\n              )}\r\n\r\n              {/* Actions */}\r\n              {activeSection === 'actions' && (\r\n                <div className=\"space-y-6\">\r\n                  {/* Reset Password */}\r\n                  <div className=\"p-4 bg-gray-700/50 rounded-lg\">\r\n                    <div className=\"flex items-center justify-between mb-3\">\r\n                      <h3 className=\"text-white font-semibold flex items-center gap-2\"><FaKey /> Reset Password</h3>\r\n                      <button onClick={() => setResetPwForm(f => ({ ...f, show: !f.show }))}\r\n                        className=\"text-sm text-blue-400 hover:text-blue-300\">\r\n                        {resetPwForm.show ? 'Cancel' : 'Reset'}\r\n                      </button>\r\n                    </div>\r\n                    {resetPwForm.show && (\r\n                      <div className=\"flex gap-3\">\r\n                        <input type=\"text\" placeholder=\"Min 8 chars, upper + number + special\" value={resetPwForm.password}\r\n                          onChange={e => setResetPwForm(f => ({ ...f, password: e.target.value }))}\r\n                          className=\"flex-1 px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\" />\r\n                        <button onClick={handleResetPassword} disabled={resetPwForm.loading}\r\n                          className=\"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm font-medium disabled:opacity-50\">\r\n                          {resetPwForm.loading ? 'Resetting...' : 'Apply'}\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Quick Actions */}\r\n                  <div className=\"p-4 bg-gray-700/50 rounded-lg\">\r\n                    <h3 className=\"text-white font-semibold mb-3\">Quick Actions</h3>\r\n                    <div className=\"flex flex-wrap gap-3\">\r\n                      <button onClick={async () => {\r\n                        try {\r\n                          await apiService.updateUser(userId, { status: user.status === 'active' ? 'suspended' : 'active' });\r\n                          loadDetails();\r\n                          if (onRefresh) onRefresh();\r\n                          setMessage({ type: 'success', text: `User ${user.status === 'active' ? 'suspended' : 'activated'}` });\r\n                        } catch (e) { setMessage({ type: 'error', text: 'Failed' }); }\r\n                      }} className={`px-4 py-2 ${user.status === 'active' ? 'bg-red-600 hover:bg-red-700' : 'bg-green-600 hover:bg-green-700'} text-white rounded text-sm font-medium`}>\r\n                        {user.status === 'active' ? 'Suspend User' : 'Activate User'}\r\n                      </button>\r\n                      <button onClick={async () => {\r\n                        try {\r\n                          const newTier = user.tier === 'paid' ? 'free' : 'paid';\r\n                          await apiService.updateUser(userId, { tier: newTier });\r\n                          loadDetails();\r\n                          if (onRefresh) onRefresh();\r\n                          setMessage({ type: 'success', text: `Tier changed to ${newTier}` });\r\n                        } catch (e) { setMessage({ type: 'error', text: 'Failed' }); }\r\n                      }} className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded text-sm font-medium\">\r\n                        {user.tier === 'paid' ? 'Downgrade to Free' : 'Upgrade to Premium'}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <ConfirmDialog {...dialogProps} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst InfoCard = ({ label, value, badge }) => {\r\n  const badgeColors = {\r\n    green: 'bg-green-500/20 text-green-300',\r\n    red: 'bg-red-500/20 text-red-300',\r\n    purple: 'bg-purple-500/20 text-purple-300',\r\n    yellow: 'bg-yellow-500/20 text-yellow-300',\r\n    gray: 'bg-gray-500/20 text-gray-300',\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-3 bg-gray-700/30 rounded-lg\">\r\n      <p className=\"text-gray-400 text-xs mb-1\">{label}</p>\r\n      {badge ? (\r\n        <span className={`px-2 py-1 rounded text-sm font-medium ${badgeColors[badge] || badgeColors.gray}`}>{value}</span>\r\n      ) : (\r\n        <p className=\"text-white text-sm font-medium truncate\">{value}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserDetailModal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { apiService } from '../../services/api';\r\nimport { FaBan, FaMobileAlt, FaPlus, FaTrash, FaSearch } from 'react-icons/fa';\r\nimport useConfirm from '../../hooks/useConfirm';\r\nimport ConfirmDialog from '../common/ConfirmDialog';\r\n\r\nconst IPDeviceBanManager = () => {\r\n  const [activeTab, setActiveTab] = useState('ips');\r\n  const [blockedIPs, setBlockedIPs] = useState([]);\r\n  const [bannedDevices, setBannedDevices] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [search, setSearch] = useState('');\r\n  const [showAddIP, setShowAddIP] = useState(false);\r\n  const [showAddDevice, setShowAddDevice] = useState(false);\r\n  const [newIP, setNewIP] = useState({ ip_address: '', reason: '', expires_at: '' });\r\n  const [newDevice, setNewDevice] = useState({ device_id: '', reason: '', user_id: '' });\r\n  const [message, setMessage] = useState(null);\r\n  const { confirm: confirmDialog, dialogProps } = useConfirm();\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [ipsRes, devicesRes] = await Promise.all([\r\n        apiService.getBlockedIPs(),\r\n        apiService.getBannedDevices(),\r\n      ]);\r\n      setBlockedIPs(ipsRes.data.blocked_ips || []);\r\n      setBannedDevices(devicesRes.data.banned_devices || []);\r\n    } catch (err) {\r\n      console.error('Failed to load ban data:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBlockIP = async () => {\r\n    if (!newIP.ip_address.trim()) return;\r\n    try {\r\n      await apiService.blockIP(newIP);\r\n      setMessage({ type: 'success', text: `IP ${newIP.ip_address} blocked` });\r\n      setNewIP({ ip_address: '', reason: '', expires_at: '' });\r\n      setShowAddIP(false);\r\n      loadData();\r\n    } catch (err) {\r\n      setMessage({ type: 'error', text: err.response?.data?.error || 'Failed to block IP' });\r\n    }\r\n  };\r\n\r\n  const handleUnblockIP = async (ip) => {\r\n    const ok = await confirmDialog({ title: 'Unblock IP', message: `Unblock IP ${ip}?`, confirmText: 'Unblock', variant: 'warning' });\r\n    if (!ok) return;\r\n    try {\r\n      await apiService.unblockIP(ip);\r\n      setMessage({ type: 'success', text: `IP ${ip} unblocked` });\r\n      loadData();\r\n    } catch (err) {\r\n      setMessage({ type: 'error', text: err.response?.data?.error || 'Failed to unblock IP' });\r\n    }\r\n  };\r\n\r\n  const handleBanDevice = async () => {\r\n    if (!newDevice.device_id.trim()) return;\r\n    try {\r\n      await apiService.banDevice(newDevice);\r\n      setMessage({ type: 'success', text: `Device ${newDevice.device_id} banned` });\r\n      setNewDevice({ device_id: '', reason: '', user_id: '' });\r\n      setShowAddDevice(false);\r\n      loadData();\r\n    } catch (err) {\r\n      setMessage({ type: 'error', text: err.response?.data?.error || 'Failed to ban device' });\r\n    }\r\n  };\r\n\r\n  const handleUnbanDevice = async (deviceId) => {\r\n    const ok = await confirmDialog({ title: 'Unban Device', message: `Unban device ${deviceId}?`, confirmText: 'Unban', variant: 'warning' });\r\n    if (!ok) return;\r\n    try {\r\n      await apiService.unbanDevice(deviceId);\r\n      setMessage({ type: 'success', text: `Device ${deviceId} unbanned` });\r\n      loadData();\r\n    } catch (err) {\r\n      setMessage({ type: 'error', text: err.response?.data?.error || 'Failed to unban device' });\r\n    }\r\n  };\r\n\r\n  const filteredIPs = blockedIPs.filter(ip =>\r\n    ip.ip_address?.toLowerCase().includes(search.toLowerCase()) ||\r\n    ip.reason?.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  const filteredDevices = bannedDevices.filter(d =>\r\n    d.device_id?.toLowerCase().includes(search.toLowerCase()) ||\r\n    d.reason?.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Message */}\r\n      {message && (\r\n        <div className={`p-3 rounded-lg text-sm ${message.type === 'success' ? 'bg-green-500/20 text-green-300 border border-green-500/30' : 'bg-red-500/20 text-red-300 border border-red-500/30'}`}>\r\n          {message.text}\r\n          <button onClick={() => setMessage(null)} className=\"ml-3 font-bold\"></button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tab Switch */}\r\n      <div className=\"flex items-center gap-4 mb-4\">\r\n        <button onClick={() => setActiveTab('ips')}\r\n          className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${activeTab === 'ips' ? 'bg-red-600 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'}`}>\r\n          <FaBan /> Blocked IPs ({blockedIPs.length})\r\n        </button>\r\n        <button onClick={() => setActiveTab('devices')}\r\n          className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${activeTab === 'devices' ? 'bg-orange-600 text-white' : 'bg-gray-700 text-gray-300 hover:bg-gray-600'}`}>\r\n          <FaMobileAlt /> Banned Devices ({bannedDevices.length})\r\n        </button>\r\n      </div>\r\n\r\n      {/* Search + Add */}\r\n      <div className=\"flex items-center gap-3\">\r\n        <div className=\"flex-1 relative\">\r\n          <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n          <input\r\n            type=\"text\" placeholder=\"Search...\" value={search}\r\n            onChange={e => setSearch(e.target.value)}\r\n            className=\"w-full pl-10 pr-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n        </div>\r\n        <button onClick={() => activeTab === 'ips' ? setShowAddIP(!showAddIP) : setShowAddDevice(!showAddDevice)}\r\n          className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium\">\r\n          <FaPlus /> Add {activeTab === 'ips' ? 'IP Block' : 'Device Ban'}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Add IP Form */}\r\n      {showAddIP && activeTab === 'ips' && (\r\n        <div className=\"p-4 bg-gray-700/50 rounded-lg border border-gray-600 space-y-3\">\r\n          <div className=\"grid grid-cols-3 gap-3\">\r\n            <input type=\"text\" placeholder=\"IP Address (e.g. 192.168.1.1)\" value={newIP.ip_address}\r\n              onChange={e => setNewIP(f => ({ ...f, ip_address: e.target.value }))}\r\n              className=\"px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\" />\r\n            <input type=\"text\" placeholder=\"Reason\" value={newIP.reason}\r\n              onChange={e => setNewIP(f => ({ ...f, reason: e.target.value }))}\r\n              className=\"px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\" />\r\n            <input type=\"datetime-local\" placeholder=\"Expires at (optional)\" value={newIP.expires_at}\r\n              onChange={e => setNewIP(f => ({ ...f, expires_at: e.target.value }))}\r\n              className=\"px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\" />\r\n          </div>\r\n          <button onClick={handleBlockIP} className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded text-sm font-medium\">\r\n            Block IP\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Device Form */}\r\n      {showAddDevice && activeTab === 'devices' && (\r\n        <div className=\"p-4 bg-gray-700/50 rounded-lg border border-gray-600 space-y-3\">\r\n          <div className=\"grid grid-cols-3 gap-3\">\r\n            <input type=\"text\" placeholder=\"Device ID\" value={newDevice.device_id}\r\n              onChange={e => setNewDevice(f => ({ ...f, device_id: e.target.value }))}\r\n              className=\"px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\" />\r\n            <input type=\"text\" placeholder=\"Reason\" value={newDevice.reason}\r\n              onChange={e => setNewDevice(f => ({ ...f, reason: e.target.value }))}\r\n              className=\"px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\" />\r\n            <input type=\"text\" placeholder=\"User ID (optional)\" value={newDevice.user_id}\r\n              onChange={e => setNewDevice(f => ({ ...f, user_id: e.target.value }))}\r\n              className=\"px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\" />\r\n          </div>\r\n          <button onClick={handleBanDevice} className=\"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded text-sm font-medium\">\r\n            Ban Device\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* IP List */}\r\n      {activeTab === 'ips' && (\r\n        <div className=\"bg-gray-800 rounded-lg border border-gray-700\">\r\n          {loading ? (\r\n            <div className=\"p-4 space-y-3\">\r\n              {[1,2,3].map(i => <div key={i} className=\"h-10 bg-gray-700/30 rounded animate-pulse\" />)}\r\n            </div>\r\n          ) : filteredIPs.length === 0 ? (\r\n            <div className=\"p-8 text-center text-gray-500\">No blocked IPs</div>\r\n          ) : (\r\n            <table className=\"w-full text-sm\">\r\n              <thead>\r\n                <tr className=\"border-b border-gray-700 text-gray-400\">\r\n                  <th className=\"text-left py-3 px-4\">IP Address</th>\r\n                  <th className=\"text-left py-3 px-4\">Reason</th>\r\n                  <th className=\"text-left py-3 px-4\">Blocked At</th>\r\n                  <th className=\"text-left py-3 px-4\">Expires</th>\r\n                  <th className=\"text-left py-3 px-4\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {filteredIPs.map(ip => (\r\n                  <tr key={ip.id} className=\"border-b border-gray-700 hover:bg-gray-700/50\">\r\n                    <td className=\"py-3 px-4 text-white font-mono\">{ip.ip_address}</td>\r\n                    <td className=\"py-3 px-4 text-gray-300\">{ip.reason || '-'}</td>\r\n                    <td className=\"py-3 px-4 text-gray-400\">{new Date(ip.created_at).toLocaleString()}</td>\r\n                    <td className=\"py-3 px-4 text-gray-400\">{ip.expires_at ? new Date(ip.expires_at).toLocaleString() : 'Never'}</td>\r\n                    <td className=\"py-3 px-4\">\r\n                      <button onClick={() => handleUnblockIP(ip.ip_address)} className=\"text-red-400 hover:text-red-300 flex items-center gap-1\">\r\n                        <FaTrash size={12} /> Unblock\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Device List */}\r\n      {activeTab === 'devices' && (\r\n        <div className=\"bg-gray-800 rounded-lg border border-gray-700\">\r\n          {loading ? (\r\n            <div className=\"p-4 space-y-3\">\r\n              {[1,2,3].map(i => <div key={i} className=\"h-10 bg-gray-700/30 rounded animate-pulse\" />)}\r\n            </div>\r\n          ) : filteredDevices.length === 0 ? (\r\n            <div className=\"p-8 text-center text-gray-500\">No banned devices</div>\r\n          ) : (\r\n            <table className=\"w-full text-sm\">\r\n              <thead>\r\n                <tr className=\"border-b border-gray-700 text-gray-400\">\r\n                  <th className=\"text-left py-3 px-4\">Device ID</th>\r\n                  <th className=\"text-left py-3 px-4\">Reason</th>\r\n                  <th className=\"text-left py-3 px-4\">User ID</th>\r\n                  <th className=\"text-left py-3 px-4\">Banned At</th>\r\n                  <th className=\"text-left py-3 px-4\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {filteredDevices.map(d => (\r\n                  <tr key={d.id} className=\"border-b border-gray-700 hover:bg-gray-700/50\">\r\n                    <td className=\"py-3 px-4 text-white font-mono text-xs\">{d.device_id}</td>\r\n                    <td className=\"py-3 px-4 text-gray-300\">{d.reason || '-'}</td>\r\n                    <td className=\"py-3 px-4 text-gray-400 font-mono text-xs\">{d.user_id || '-'}</td>\r\n                    <td className=\"py-3 px-4 text-gray-400\">{new Date(d.created_at).toLocaleString()}</td>\r\n                    <td className=\"py-3 px-4\">\r\n                      <button onClick={() => handleUnbanDevice(d.device_id)} className=\"text-red-400 hover:text-red-300 flex items-center gap-1\">\r\n                        <FaTrash size={12} /> Unban\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      )}\r\n      <ConfirmDialog {...dialogProps} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IPDeviceBanManager;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaMicrochip, FaMemory, FaHdd, FaClock, FaPlug, FaSync } from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport { apiService } from '../../services/api';\r\n\r\nconst formatBytes = (bytes) => {\r\n  if (!bytes) return '0 B';\r\n  const k = 1024;\r\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\r\n};\r\n\r\nconst formatUptime = (seconds) => {\r\n  if (!seconds) return '0s';\r\n  const d = Math.floor(seconds / 86400);\r\n  const h = Math.floor((seconds % 86400) / 3600);\r\n  const m = Math.floor((seconds % 3600) / 60);\r\n  if (d > 0) return `${d}d ${h}h ${m}m`;\r\n  if (h > 0) return `${h}h ${m}m`;\r\n  return `${m}m`;\r\n};\r\n\r\nconst GaugeBar = ({ value, max, color, label }) => {\r\n  const pct = max > 0 ? Math.min((value / max) * 100, 100) : 0;\r\n  const barColor = pct > 90 ? 'bg-red-500' : pct > 70 ? 'bg-yellow-500' : color || 'bg-green-500';\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-between text-sm mb-1\">\r\n        <span className=\"text-gray-400\">{label}</span>\r\n        <span className=\"text-white font-medium\">{pct.toFixed(1)}%</span>\r\n      </div>\r\n      <div className=\"w-full bg-gray-700 rounded-full h-3\">\r\n        <div className={`${barColor} rounded-full h-3 transition-all duration-500`} style={{ width: `${pct}%` }} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst VPSMetrics = () => {\r\n  const [metrics, setMetrics] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [autoRefresh, setAutoRefresh] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadMetrics();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!autoRefresh) return;\r\n    const interval = setInterval(loadMetrics, 10000);\r\n    return () => clearInterval(interval);\r\n  }, [autoRefresh]);\r\n\r\n  const loadMetrics = async () => {\r\n    try {\r\n      const res = await apiService.getVPSMetrics();\r\n      setMetrics(res.data);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError('Failed to load VPS metrics');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"text-center text-gray-400 py-12\">Loading VPS metrics...</div>;\r\n  if (error) return <div className=\"text-center text-red-400 py-12\">{error}</div>;\r\n  if (!metrics) return null;\r\n\r\n  const cpu = metrics.cpu || {};\r\n  const mem = metrics.memory || {};\r\n  const disk = metrics.disk || {};\r\n  const services = metrics.services || {};\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <h2 className=\"text-2xl font-bold text-white\">VPS Metrics</h2>\r\n        <div className=\"flex items-center gap-3\">\r\n          <label className=\"flex items-center gap-2 text-sm text-gray-300 cursor-pointer\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={autoRefresh}\r\n              onChange={(e) => setAutoRefresh(e.target.checked)}\r\n              className=\"rounded\"\r\n            />\r\n            Auto-refresh (10s)\r\n          </label>\r\n          <button onClick={loadMetrics} className=\"px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-700 text-white text-sm flex items-center gap-1\">\r\n            <FaSync className=\"text-xs\" /> Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Top Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <Card className=\"p-5\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-3 rounded-lg bg-blue-500/20\">\r\n              <FaMicrochip className=\"text-blue-400 text-xl\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-gray-400 text-xs uppercase\">CPU Usage</p>\r\n              <p className=\"text-white text-xl font-bold\">{parseFloat(cpu.usage).toFixed(1)}%</p>\r\n              <p className=\"text-gray-500 text-xs\">{cpu.cores} cores</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-5\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-3 rounded-lg bg-purple-500/20\">\r\n              <FaMemory className=\"text-purple-400 text-xl\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-gray-400 text-xs uppercase\">Memory</p>\r\n              <p className=\"text-white text-xl font-bold\">{parseFloat(mem.usagePercent).toFixed(1)}%</p>\r\n              <p className=\"text-gray-500 text-xs\">{formatBytes(mem.used)} / {formatBytes(mem.total)}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-5\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-3 rounded-lg bg-yellow-500/20\">\r\n              <FaHdd className=\"text-yellow-400 text-xl\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-gray-400 text-xs uppercase\">Disk</p>\r\n              <p className=\"text-white text-xl font-bold\">{parseFloat(disk.usagePercent).toFixed(1)}%</p>\r\n              <p className=\"text-gray-500 text-xs\">{formatBytes(disk.used)} / {formatBytes(disk.total)}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-5\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-3 rounded-lg bg-green-500/20\">\r\n              <FaClock className=\"text-green-400 text-xl\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"text-gray-400 text-xs uppercase\">Uptime</p>\r\n              <p className=\"text-white text-xl font-bold\">{formatUptime(metrics.uptime)}</p>\r\n              <p className=\"text-gray-500 text-xs\">{metrics.activeConnections} connections</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Gauge bars */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold text-white mb-4\">Resource Usage</h3>\r\n        <div className=\"space-y-4\">\r\n          <GaugeBar value={parseFloat(cpu.usage)} max={100} color=\"bg-blue-500\" label={`CPU (${cpu.cores} cores)`} />\r\n          <GaugeBar value={mem.used} max={mem.total} color=\"bg-purple-500\" label={`Memory (${formatBytes(mem.free)} free)`} />\r\n          <GaugeBar value={disk.used} max={disk.total} color=\"bg-yellow-500\" label={`Disk (${formatBytes(disk.free)} free)`} />\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Services */}\r\n      <Card className=\"p-6\">\r\n        <h3 className=\"text-lg font-semibold text-white mb-4\">Service Status</h3>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3\">\r\n          {Object.entries(services).map(([name, status]) => (\r\n            <div key={name} className={`flex items-center gap-2 p-3 rounded-lg ${status === 'active' ? 'bg-green-500/10 border border-green-500/30' : 'bg-red-500/10 border border-red-500/30'}`}>\r\n              <div className={`w-2.5 h-2.5 rounded-full ${status === 'active' ? 'bg-green-400 animate-pulse' : 'bg-red-400'}`} />\r\n              <div>\r\n                <p className=\"text-white text-sm font-medium capitalize\">{name}</p>\r\n                <p className={`text-xs ${status === 'active' ? 'text-green-400' : 'text-red-400'}`}>{status}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VPSMetrics;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaBell, FaExclamationTriangle, FaCheckCircle, FaTimesCircle, FaInfoCircle, FaCheck, FaHistory } from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport { apiService } from '../../services/api';\r\nimport useConfirm from '../../hooks/useConfirm';\r\nimport ConfirmDialog from '../common/ConfirmDialog';\r\n\r\nconst SEVERITY_CONFIG = {\r\n  critical: { color: 'text-red-400', bg: 'bg-red-500/20', border: 'border-red-500/30', icon: FaTimesCircle },\r\n  warning: { color: 'text-yellow-400', bg: 'bg-yellow-500/20', border: 'border-yellow-500/30', icon: FaExclamationTriangle },\r\n  info: { color: 'text-blue-400', bg: 'bg-blue-500/20', border: 'border-blue-500/30', icon: FaInfoCircle },\r\n};\r\n\r\nconst AlertManager = () => {\r\n  const [tab, setTab] = useState('active');\r\n  const [activeAlerts, setActiveAlerts] = useState([]);\r\n  const [alertHistory, setAlertHistory] = useState([]);\r\n  const [summary, setSummary] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [historyFilter, setHistoryFilter] = useState({ severity: '', limit: 50 });\r\n  const { confirm: confirmDialog, dialogProps } = useConfirm();\r\n\r\n  useEffect(() => {\r\n    loadAlerts();\r\n    const interval = setInterval(loadAlerts, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (tab === 'history') loadHistory();\r\n  }, [tab, historyFilter]);\r\n\r\n  const loadAlerts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiService.getActiveAlerts();\r\n      setActiveAlerts(res.data.alerts || []);\r\n      setSummary(res.data.summary || null);\r\n    } catch (err) {\r\n      console.error('Failed to load alerts:', err);\r\n      setActiveAlerts([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadHistory = async () => {\r\n    try {\r\n      const res = await apiService.getAlertHistory(historyFilter);\r\n      setAlertHistory(res.data.alerts || []);\r\n    } catch (err) {\r\n      console.error('Failed to load alert history:', err);\r\n    }\r\n  };\r\n\r\n  const handleAcknowledge = async (alertId) => {\r\n    try {\r\n      await apiService.acknowledgeAlert(alertId);\r\n      loadAlerts();\r\n    } catch (err) {\r\n      alert('Failed to acknowledge: ' + (err.response?.data?.error || err.message));\r\n    }\r\n  };\r\n\r\n  const handleAcknowledgeAll = async () => {\r\n    const ok = await confirmDialog({ title: 'Acknowledge All', message: 'Acknowledge all active alerts?', confirmText: 'Acknowledge All', variant: 'warning' });\r\n    if (!ok) return;\r\n    try {\r\n      await apiService.acknowledgeAllAlerts();\r\n      loadAlerts();\r\n    } catch (err) {\r\n      alert('Failed: ' + (err.response?.data?.error || err.message));\r\n    }\r\n  };\r\n\r\n  const handleResolve = async (alertId) => {\r\n    const resolution = prompt('Resolution note (optional):');\r\n    if (resolution === null) return;\r\n    try {\r\n      await apiService.resolveAlert(alertId, resolution);\r\n      loadAlerts();\r\n    } catch (err) {\r\n      alert('Failed to resolve: ' + (err.response?.data?.error || err.message));\r\n    }\r\n  };\r\n\r\n  const formatTime = (ts) => {\r\n    if (!ts) return 'N/A';\r\n    const d = new Date(ts);\r\n    return d.toLocaleString();\r\n  };\r\n\r\n  const timeSince = (ts) => {\r\n    if (!ts) return '';\r\n    const mins = Math.floor((Date.now() - new Date(ts)) / 60000);\r\n    if (mins < 60) return `${mins}m ago`;\r\n    if (mins < 1440) return `${Math.floor(mins / 60)}h ago`;\r\n    return `${Math.floor(mins / 1440)}d ago`;\r\n  };\r\n\r\n  if (loading) return <div className=\"text-center text-gray-400 py-12\">Loading alerts...</div>;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Summary Cards */}\r\n      {summary && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <Card className=\"p-4 border border-white/10\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <FaBell className=\"text-white text-xl\" />\r\n              <div>\r\n                <p className=\"text-gray-400 text-xs\">Total Active</p>\r\n                <p className=\"text-white text-xl font-bold\">{summary.total || activeAlerts.length}</p>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n          <Card className=\"p-4 border border-red-500/30\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <FaTimesCircle className=\"text-red-400 text-xl\" />\r\n              <div>\r\n                <p className=\"text-red-300 text-xs\">Critical</p>\r\n                <p className=\"text-white text-xl font-bold\">{summary.critical || 0}</p>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n          <Card className=\"p-4 border border-yellow-500/30\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <FaExclamationTriangle className=\"text-yellow-400 text-xl\" />\r\n              <div>\r\n                <p className=\"text-yellow-300 text-xs\">Warning</p>\r\n                <p className=\"text-white text-xl font-bold\">{summary.warning || 0}</p>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n          <Card className=\"p-4 border border-blue-500/30\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <FaInfoCircle className=\"text-blue-400 text-xl\" />\r\n              <div>\r\n                <p className=\"text-blue-300 text-xs\">Info</p>\r\n                <p className=\"text-white text-xl font-bold\">{summary.info || 0}</p>\r\n              </div>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tab Switch */}\r\n      <div className=\"flex items-center gap-3\">\r\n        <button\r\n          onClick={() => setTab('active')}\r\n          className={`px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2 ${tab === 'active' ? 'bg-blue-600 text-white' : 'bg-white/5 text-gray-400 hover:bg-white/10'}`}\r\n        >\r\n          <FaBell /> Active ({activeAlerts.length})\r\n        </button>\r\n        <button\r\n          onClick={() => setTab('history')}\r\n          className={`px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2 ${tab === 'history' ? 'bg-blue-600 text-white' : 'bg-white/5 text-gray-400 hover:bg-white/10'}`}\r\n        >\r\n          <FaHistory /> History\r\n        </button>\r\n        {tab === 'active' && activeAlerts.length > 0 && (\r\n          <button onClick={handleAcknowledgeAll} className=\"ml-auto px-4 py-2 rounded-lg bg-yellow-600 hover:bg-yellow-700 text-white text-sm font-medium\">\r\n            Acknowledge All\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Active Alerts */}\r\n      {tab === 'active' && (\r\n        <div className=\"space-y-3\">\r\n          {activeAlerts.length === 0 ? (\r\n            <Card className=\"p-12 text-center\">\r\n              <FaCheckCircle className=\"text-green-400 text-4xl mx-auto mb-3\" />\r\n              <p className=\"text-green-300 text-lg font-medium\">All Clear</p>\r\n              <p className=\"text-gray-500 text-sm\">No active alerts at this time</p>\r\n            </Card>\r\n          ) : (\r\n            activeAlerts.map((alert) => {\r\n              const sev = SEVERITY_CONFIG[alert.severity] || SEVERITY_CONFIG.info;\r\n              const SevIcon = sev.icon;\r\n              return (\r\n                <Card key={alert.id} className={`p-4 ${sev.bg} border ${sev.border}`}>\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <SevIcon className={`${sev.color} text-lg mt-0.5 flex-shrink-0`} />\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <span className={`text-xs font-medium uppercase ${sev.color}`}>{alert.severity}</span>\r\n                        <span className=\"text-gray-500 text-xs\">{alert.type}</span>\r\n                        <span className=\"text-gray-600 text-xs ml-auto\">{timeSince(alert.created_at || alert.timestamp)}</span>\r\n                      </div>\r\n                      <p className=\"text-white font-medium mt-1\">{alert.message}</p>\r\n                      {alert.details && <p className=\"text-gray-400 text-sm mt-1\">{typeof alert.details === 'string' ? alert.details : JSON.stringify(alert.details)}</p>}\r\n                    </div>\r\n                    <div className=\"flex gap-2 flex-shrink-0\">\r\n                      <button onClick={() => handleAcknowledge(alert.id)} className=\"px-3 py-1.5 rounded text-xs font-medium bg-yellow-600/30 text-yellow-300 hover:bg-yellow-600/50\" title=\"Acknowledge\">\r\n                        <FaCheck />\r\n                      </button>\r\n                      <button onClick={() => handleResolve(alert.id)} className=\"px-3 py-1.5 rounded text-xs font-medium bg-green-600/30 text-green-300 hover:bg-green-600/50\" title=\"Resolve\">\r\n                        <FaCheckCircle />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Alert History */}\r\n      {tab === 'history' && (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex gap-3\">\r\n            <select\r\n              value={historyFilter.severity}\r\n              onChange={(e) => setHistoryFilter(p => ({ ...p, severity: e.target.value }))}\r\n              className=\"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm\"\r\n            >\r\n              <option value=\"\">All Severities</option>\r\n              <option value=\"critical\">Critical</option>\r\n              <option value=\"warning\">Warning</option>\r\n              <option value=\"info\">Info</option>\r\n            </select>\r\n          </div>\r\n\r\n          <Card className=\"p-0 overflow-hidden\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"border-b border-white/10\">\r\n                  <th className=\"text-left py-3 px-4 text-gray-400 text-xs uppercase\">Severity</th>\r\n                  <th className=\"text-left py-3 px-4 text-gray-400 text-xs uppercase\">Type</th>\r\n                  <th className=\"text-left py-3 px-4 text-gray-400 text-xs uppercase\">Message</th>\r\n                  <th className=\"text-left py-3 px-4 text-gray-400 text-xs uppercase\">Time</th>\r\n                  <th className=\"text-left py-3 px-4 text-gray-400 text-xs uppercase\">Status</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {alertHistory.length === 0 ? (\r\n                  <tr><td colSpan={5} className=\"py-8 text-center text-gray-500\">No alert history</td></tr>\r\n                ) : (\r\n                  alertHistory.map((alert, i) => {\r\n                    const sev = SEVERITY_CONFIG[alert.severity] || SEVERITY_CONFIG.info;\r\n                    return (\r\n                      <tr key={alert.id || i} className=\"border-b border-white/5 hover:bg-white/5\">\r\n                        <td className=\"py-2.5 px-4\">\r\n                          <span className={`text-xs font-medium uppercase ${sev.color}`}>{alert.severity}</span>\r\n                        </td>\r\n                        <td className=\"py-2.5 px-4 text-gray-400 text-sm\">{alert.type}</td>\r\n                        <td className=\"py-2.5 px-4 text-white text-sm max-w-xs truncate\">{alert.message}</td>\r\n                        <td className=\"py-2.5 px-4 text-gray-500 text-xs\">{formatTime(alert.created_at || alert.timestamp)}</td>\r\n                        <td className=\"py-2.5 px-4\">\r\n                          <span className={`text-xs px-2 py-0.5 rounded-full ${alert.resolved_at ? 'bg-green-500/20 text-green-300' : alert.acknowledged_at ? 'bg-yellow-500/20 text-yellow-300' : 'bg-red-500/20 text-red-300'}`}>\r\n                            {alert.resolved_at ? 'Resolved' : alert.acknowledged_at ? 'Acked' : 'Active'}\r\n                          </span>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </Card>\r\n        </div>\r\n      )}\r\n      <ConfirmDialog {...dialogProps} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlertManager;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  FaServer, FaPlus, FaSync, FaCheckCircle, FaExclamationTriangle, FaTimesCircle,\r\n  FaTerminal, FaHeartbeat, FaChartLine, FaPowerOff, FaEdit, FaTrash, FaEye,\r\n  FaNetworkWired, FaGlobe, FaClock, FaShieldAlt, FaTimes, FaHistory,\r\n} from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport { apiService } from '../../services/api';\r\nimport useConfirm from '../../hooks/useConfirm';\r\nimport ConfirmDialog from '../common/ConfirmDialog';\r\n\r\n//  Health & Status Helpers \r\nconst STATUS_CONFIG = {\r\n  active:      { color: 'green', label: 'Active',      icon: FaCheckCircle },\r\n  maintenance: { color: 'yellow', label: 'Maintenance', icon: FaExclamationTriangle },\r\n  offline:     { color: 'red',   label: 'Offline',     icon: FaTimesCircle },\r\n};\r\nconst HEALTH_CONFIG = {\r\n  healthy:   { color: 'green',  label: 'Healthy' },\r\n  degraded:  { color: 'yellow', label: 'Degraded' },\r\n  unhealthy: { color: 'red',    label: 'Unhealthy' },\r\n  unknown:   { color: 'gray',   label: 'Unknown' },\r\n};\r\n\r\nconst LoadBar = ({ pct }) => {\r\n  const c = pct > 90 ? 'bg-red-500' : pct > 70 ? 'bg-yellow-500' : 'bg-green-500';\r\n  return (\r\n    <div className=\"w-full bg-gray-700 rounded-full h-2\">\r\n      <div className={`${c} rounded-full h-2 transition-all duration-500`}\r\n        style={{ width: `${Math.min(pct, 100)}%` }} />\r\n    </div>\r\n  );\r\n};\r\n\r\n// \r\n//  MAIN COMPONENT\r\n// \r\nconst ServerCommandCenter = ({ onOpenServerModal, onDeleteServer, onRefreshParent }) => {\r\n  const [servers, setServers] = useState([]);\r\n  const [guardianData, setGuardianData] = useState([]);\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [autoRefresh, setAutoRefresh] = useState(true);\r\n  const [selectedServer, setSelectedServer] = useState(null);\r\n  const [actionLoading, setActionLoading] = useState({});\r\n  const { confirm: confirmDialog, dialogProps } = useConfirm();\r\n\r\n  //  Data Loading (merges admin server list + guardian health) \r\n  const loadData = useCallback(async () => {\r\n    try {\r\n      const [srvRes, grdRes, stRes] = await Promise.all([\r\n        apiService.getServers(),\r\n        apiService.getGuardianHealth().catch(() => ({ data: { servers: [] } })),\r\n        apiService.getServerStatsOverview().catch(() => ({ data: { stats: {} } })),\r\n      ]);\r\n\r\n      const serverList = Array.isArray(srvRes.data) ? srvRes.data : srvRes.data?.servers || [];\r\n      const guardianList = grdRes.data?.servers || [];\r\n\r\n      // Merge guardian health into server objects\r\n      const guardianMap = {};\r\n      guardianList.forEach(g => { guardianMap[g.id] = g; });\r\n\r\n      const merged = serverList.map(s => ({\r\n        ...s,\r\n        health_status: guardianMap[s.id]?.health_status || s.health_status || 'unknown',\r\n        consecutive_failures: guardianMap[s.id]?.consecutive_failures || 0,\r\n        last_check: guardianMap[s.id]?.last_check || s.last_health_check,\r\n        active_connections: s.current_load || guardianMap[s.id]?.current_load || 0,\r\n        load_percent: parseFloat(s.load_percent) || 0,\r\n      }));\r\n\r\n      setServers(merged);\r\n      setGuardianData(guardianList);\r\n      setStats(stRes.data?.stats || null);\r\n    } catch (err) {\r\n      console.error('Failed to load server data:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => { loadData(); }, [loadData]);\r\n\r\n  useEffect(() => {\r\n    if (!autoRefresh) return;\r\n    const iv = setInterval(loadData, 30000);\r\n    return () => clearInterval(iv);\r\n  }, [autoRefresh, loadData]);\r\n\r\n  //  Actions \r\n  const setAction = (id, key, val) =>\r\n    setActionLoading(p => ({ ...p, [id]: { ...p[id], [key]: val } }));\r\n\r\n  const handleToggleStatus = async (server) => {\r\n    const newStatus = server.status === 'active' ? 'maintenance' : 'active';\r\n    if (newStatus === 'maintenance' && server.active_connections > 0) {\r\n      const ok = await confirmDialog({ title: 'Set Maintenance Mode', message: `This server has ${server.active_connections} active connections. Setting to maintenance will trigger user migration by the Guardian. Continue?`, confirmText: 'Continue', variant: 'warning' });\r\n      if (!ok) return;\r\n    }\r\n    setAction(server.id, 'status', true);\r\n    try {\r\n      await apiService.setServerStatusOps(server.id, newStatus);\r\n      await loadData();\r\n      onRefreshParent?.();\r\n    } catch (err) {\r\n      alert('Failed: ' + (err.response?.data?.error || err.message));\r\n    } finally {\r\n      setAction(server.id, 'status', false);\r\n    }\r\n  };\r\n\r\n  const handleSSHTest = async (server) => {\r\n    setAction(server.id, 'ssh', 'loading');\r\n    try {\r\n      const res = await apiService.testServerSSH(server.id);\r\n      const d = res.data;\r\n      setAction(server.id, 'ssh', d.connected ? 'ok' : 'fail');\r\n      setAction(server.id, 'sshMsg', d.output || (d.connected ? 'Connected' : 'Failed'));\r\n    } catch (err) {\r\n      setAction(server.id, 'ssh', 'fail');\r\n      setAction(server.id, 'sshMsg', err.response?.data?.error || 'SSH test failed');\r\n    }\r\n  };\r\n\r\n  const handleHealthCheck = async (server) => {\r\n    setAction(server.id, 'health', 'loading');\r\n    try {\r\n      const res = await apiService.triggerHealthCheck(server.id);\r\n      const data = res.data;\r\n      // Format protocol results\r\n      const protos = data.protocols || data.results || {};\r\n      const summary = Object.entries(protos).map(([p, r]) => {\r\n        const status = typeof r === 'object' ? r.status || r.reachable : r;\r\n        return `${p}: ${status ? '' : ''}`;\r\n      }).join(', ');\r\n      setAction(server.id, 'health', 'done');\r\n      setAction(server.id, 'healthMsg', summary || (data.is_healthy ? 'All healthy' : 'Issues detected'));\r\n    } catch (err) {\r\n      setAction(server.id, 'health', 'done');\r\n      setAction(server.id, 'healthMsg', err.response?.data?.error || 'Health check failed');\r\n    }\r\n  };\r\n\r\n  const handleSetOffline = async (server) => {\r\n    const ok = await confirmDialog({ title: 'Set Server Offline', message: `Set ${server.name} OFFLINE? Active users will be disconnected.`, confirmText: 'Set Offline', variant: 'danger' });\r\n    if (!ok) return;\r\n    setAction(server.id, 'status', true);\r\n    try {\r\n      await apiService.setServerStatusOps(server.id, 'offline');\r\n      await loadData();\r\n      onRefreshParent?.();\r\n    } catch (err) {\r\n      alert('Failed: ' + (err.response?.data?.error || err.message));\r\n    } finally {\r\n      setAction(server.id, 'status', false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (server) => {\r\n    if (server.active_connections > 0) {\r\n      alert(`Cannot delete: ${server.name} has ${server.active_connections} active connections. Set it offline first and wait for connections to drain.`);\r\n      return;\r\n    }\r\n    const ok = await confirmDialog({ title: 'Delete Server', message: `Permanently delete server \"${server.name}\" (${server.ip_address})? This cannot be undone.`, confirmText: 'Delete', variant: 'danger' });\r\n    if (!ok) return;\r\n    try {\r\n      await apiService.deleteServer(server.id);\r\n      await loadData();\r\n      onRefreshParent?.();\r\n    } catch (err) {\r\n      alert('Failed: ' + (err.response?.data?.error || err.message));\r\n    }\r\n  };\r\n\r\n  //  Counts \r\n  const counts = {\r\n    total: servers.length,\r\n    active: servers.filter(s => s.status === 'active').length,\r\n    maintenance: servers.filter(s => s.status === 'maintenance').length,\r\n    offline: servers.filter(s => s.status === 'offline').length,\r\n    healthy: servers.filter(s => s.health_status === 'healthy').length,\r\n    degraded: servers.filter(s => s.health_status === 'degraded').length,\r\n    unhealthy: servers.filter(s => s.health_status === 'unhealthy' || s.health_status === 'unknown').length,\r\n    totalLoad: servers.reduce((a, s) => a + (s.active_connections || 0), 0),\r\n    totalCapacity: servers.filter(s => s.status === 'active').reduce((a, s) => a + (s.capacity || 0), 0),\r\n  };\r\n\r\n  if (loading) return <div className=\"text-center text-gray-400 py-12\">Loading server fleet...</div>;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/*  Fleet Overview Cards  */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3\">\r\n        <Card className=\"p-4 border border-white/10\">\r\n          <p className=\"text-gray-400 text-xs uppercase\">Fleet</p>\r\n          <p className=\"text-white text-2xl font-bold\">{counts.total}</p>\r\n          <p className=\"text-gray-500 text-xs\">servers</p>\r\n        </Card>\r\n        <Card className=\"p-4 border border-green-500/30\">\r\n          <p className=\"text-green-400 text-xs uppercase\">Active</p>\r\n          <p className=\"text-white text-2xl font-bold\">{counts.active}</p>\r\n          <p className=\"text-green-500/50 text-xs\">{counts.healthy} healthy</p>\r\n        </Card>\r\n        <Card className=\"p-4 border border-yellow-500/30\">\r\n          <p className=\"text-yellow-400 text-xs uppercase\">Maintenance</p>\r\n          <p className=\"text-white text-2xl font-bold\">{counts.maintenance}</p>\r\n          <p className=\"text-yellow-500/50 text-xs\">{counts.degraded} degraded</p>\r\n        </Card>\r\n        <Card className=\"p-4 border border-red-500/30\">\r\n          <p className=\"text-red-400 text-xs uppercase\">Offline</p>\r\n          <p className=\"text-white text-2xl font-bold\">{counts.offline}</p>\r\n          <p className=\"text-red-500/50 text-xs\">{counts.unhealthy} unhealthy</p>\r\n        </Card>\r\n        <Card className=\"p-4 border border-blue-500/30\">\r\n          <p className=\"text-blue-400 text-xs uppercase\">Connections</p>\r\n          <p className=\"text-white text-2xl font-bold\">{counts.totalLoad}</p>\r\n          <p className=\"text-blue-500/50 text-xs\">of {counts.totalCapacity} capacity</p>\r\n        </Card>\r\n        <Card className=\"p-4 border border-purple-500/30\">\r\n          <p className=\"text-purple-400 text-xs uppercase\">Utilization</p>\r\n          <p className=\"text-white text-2xl font-bold\">\r\n            {counts.totalCapacity > 0 ? ((counts.totalLoad / counts.totalCapacity) * 100).toFixed(1) : 0}%\r\n          </p>\r\n          <p className=\"text-purple-500/50 text-xs\">fleet average</p>\r\n        </Card>\r\n      </div>\r\n\r\n      {/*  Controls  */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n          <FaServer className=\"text-blue-400\" /> Server Fleet\r\n        </h2>\r\n        <div className=\"flex items-center gap-3\">\r\n          <label className=\"flex items-center gap-2 text-sm text-gray-300 cursor-pointer\">\r\n            <input type=\"checkbox\" checked={autoRefresh} onChange={e => setAutoRefresh(e.target.checked)} className=\"rounded\" />\r\n            Live (30s)\r\n          </label>\r\n          <button onClick={loadData} className=\"px-3 py-1.5 rounded bg-white/5 hover:bg-white/10 text-gray-300 text-sm flex items-center gap-1\">\r\n            <FaSync className=\"text-xs\" /> Refresh\r\n          </button>\r\n          <button onClick={() => onOpenServerModal?.(null)} className=\"px-4 py-1.5 rounded bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium flex items-center gap-1\">\r\n            <FaPlus className=\"text-xs\" /> Add Server\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/*  Server Cards  */}\r\n      {servers.length === 0 ? (\r\n        <Card className=\"p-12 text-center\">\r\n          <FaServer className=\"text-gray-600 text-4xl mx-auto mb-3\" />\r\n          <p className=\"text-gray-400 text-lg\">No servers configured</p>\r\n          <p className=\"text-gray-600 text-sm\">Click \"Add Server\" to get started</p>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {servers.map(server => (\r\n            <ServerCard\r\n              key={server.id}\r\n              server={server}\r\n              actionLoading={actionLoading[server.id] || {}}\r\n              onToggleStatus={() => handleToggleStatus(server)}\r\n              onSetOffline={() => handleSetOffline(server)}\r\n              onSSHTest={() => handleSSHTest(server)}\r\n              onHealthCheck={() => handleHealthCheck(server)}\r\n              onEdit={() => onOpenServerModal?.(server)}\r\n              onDelete={() => handleDelete(server)}\r\n              onSelect={() => setSelectedServer(selectedServer?.id === server.id ? null : server)}\r\n              isSelected={selectedServer?.id === server.id}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/*  Server Detail Panel  */}\r\n      {selectedServer && (\r\n        <ServerDetailPanel\r\n          server={selectedServer}\r\n          onClose={() => setSelectedServer(null)}\r\n        />\r\n      )}\r\n      <ConfirmDialog {...dialogProps} />\r\n    </div>\r\n  );\r\n};\r\n\r\n// \r\n//  SERVER CARD\r\n// \r\nconst ServerCard = ({ server, actionLoading, onToggleStatus, onSetOffline, onSSHTest, onHealthCheck, onEdit, onDelete, onSelect, isSelected }) => {\r\n  const st = STATUS_CONFIG[server.status] || STATUS_CONFIG.offline;\r\n  const hl = HEALTH_CONFIG[server.health_status] || HEALTH_CONFIG.unknown;\r\n  const StIcon = st.icon;\r\n  const protocols = Array.isArray(server.protocols) ? server.protocols : [];\r\n\r\n  return (\r\n    <Card className={`transition-all ${isSelected ? 'ring-2 ring-blue-500' : ''}`}>\r\n      <div className=\"p-5\">\r\n        {/* Top row: Name, status, health */}\r\n        <div className=\"flex items-center justify-between mb-3\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <StIcon className={`text-${st.color}-400 text-lg`} />\r\n            <div>\r\n              <h3 className=\"text-white text-lg font-bold\">{server.name}</h3>\r\n              <div className=\"flex items-center gap-2 text-sm text-gray-400\">\r\n                <FaGlobe className=\"text-xs\" />\r\n                <span>{server.location}</span>\r\n                {server.country_code && <span className=\"text-xs\">({server.country_code})</span>}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className={`px-2.5 py-1 rounded-full text-xs font-semibold bg-${st.color}-500/20 text-${st.color}-400 border border-${st.color}-500/30`}>\r\n              {st.label}\r\n            </span>\r\n            <span className={`px-2.5 py-1 rounded-full text-xs font-semibold bg-${hl.color}-500/20 text-${hl.color}-400 border border-${hl.color}-500/30`}>\r\n              {hl.label}\r\n            </span>\r\n            {server.consecutive_failures > 0 && (\r\n              <span className=\"px-2 py-1 rounded-full text-xs font-semibold bg-red-500/20 text-red-400 border border-red-500/30\">\r\n                {server.consecutive_failures} fails\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Info grid */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3\">\r\n          <div>\r\n            <p className=\"text-gray-500 text-xs\">IP Address</p>\r\n            <p className=\"text-white text-sm font-mono\">{server.ip_address}</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-gray-500 text-xs\">Connections</p>\r\n            <p className=\"text-white text-sm font-semibold\">{server.active_connections} / {server.capacity}</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-gray-500 text-xs\">Load</p>\r\n            <div className=\"flex items-center gap-2\">\r\n              <LoadBar pct={server.load_percent} />\r\n              <span className=\"text-white text-sm font-semibold\">{server.load_percent}%</span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-gray-500 text-xs\">SSH</p>\r\n            <p className=\"text-sm\">\r\n              {server.has_ssh_password || server.has_ssh_key ? (\r\n                <span className=\"text-green-400\">Configured</span>\r\n              ) : (\r\n                <span className=\"text-gray-500\">Not set</span>\r\n              )}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Protocols row */}\r\n        <div className=\"flex items-center gap-2 mb-3\">\r\n          <span className=\"text-gray-500 text-xs\">Protocols:</span>\r\n          {protocols.map(p => (\r\n            <span key={p} className=\"px-2 py-0.5 rounded text-xs bg-blue-500/15 text-blue-300 border border-blue-500/20\">{p}</span>\r\n          ))}\r\n          {protocols.length === 0 && <span className=\"text-gray-600 text-xs\">None configured</span>}\r\n        </div>\r\n\r\n        {/* Action buttons */}\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <button onClick={onSelect} className=\"px-3 py-1.5 rounded text-xs font-medium bg-white/5 hover:bg-white/10 text-gray-300 flex items-center gap-1\">\r\n            <FaEye /> {isSelected ? 'Hide Details' : 'Details'}\r\n          </button>\r\n          <button onClick={onSSHTest}\r\n            disabled={actionLoading.ssh === 'loading'}\r\n            className=\"px-3 py-1.5 rounded text-xs font-medium bg-white/5 hover:bg-white/10 text-gray-300 flex items-center gap-1 disabled:opacity-40\">\r\n            <FaTerminal /> {actionLoading.ssh === 'loading' ? 'Testing...' : 'SSH Test'}\r\n          </button>\r\n          <button onClick={onHealthCheck}\r\n            disabled={actionLoading.health === 'loading'}\r\n            className=\"px-3 py-1.5 rounded text-xs font-medium bg-white/5 hover:bg-white/10 text-gray-300 flex items-center gap-1 disabled:opacity-40\">\r\n            <FaHeartbeat /> {actionLoading.health === 'loading' ? 'Checking...' : 'Health Check'}\r\n          </button>\r\n          <button onClick={onToggleStatus}\r\n            disabled={actionLoading.status}\r\n            className={`px-3 py-1.5 rounded text-xs font-medium flex items-center gap-1 disabled:opacity-40 ${\r\n              server.status === 'active' ? 'bg-yellow-600/20 hover:bg-yellow-600/30 text-yellow-300' : 'bg-green-600/20 hover:bg-green-600/30 text-green-300'\r\n            }`}>\r\n            <FaPowerOff /> {server.status === 'active' ? 'Maintenance' : 'Activate'}\r\n          </button>\r\n          {server.status !== 'offline' && (\r\n            <button onClick={onSetOffline}\r\n              disabled={actionLoading.status}\r\n              className=\"px-3 py-1.5 rounded text-xs font-medium bg-red-600/20 hover:bg-red-600/30 text-red-300 flex items-center gap-1 disabled:opacity-40\">\r\n              <FaTimesCircle /> Offline\r\n            </button>\r\n          )}\r\n          <button onClick={onEdit}\r\n            className=\"px-3 py-1.5 rounded text-xs font-medium bg-white/5 hover:bg-white/10 text-blue-300 flex items-center gap-1\">\r\n            <FaEdit /> Edit\r\n          </button>\r\n          <button onClick={onDelete}\r\n            className=\"px-3 py-1.5 rounded text-xs font-medium bg-white/5 hover:bg-white/10 text-red-400 flex items-center gap-1\">\r\n            <FaTrash /> Delete\r\n          </button>\r\n        </div>\r\n\r\n        {/* Action results */}\r\n        {actionLoading.ssh && actionLoading.ssh !== 'loading' && (\r\n          <div className={`mt-3 p-2.5 rounded text-xs ${actionLoading.ssh === 'ok' ? 'bg-green-500/10 text-green-300 border border-green-500/20' : 'bg-red-500/10 text-red-300 border border-red-500/20'}`}>\r\n            <span className=\"font-medium\">SSH:</span> {actionLoading.sshMsg}\r\n          </div>\r\n        )}\r\n        {actionLoading.health === 'done' && (\r\n          <div className=\"mt-2 p-2.5 rounded text-xs bg-blue-500/10 text-blue-300 border border-blue-500/20\">\r\n            <span className=\"font-medium\">Health:</span> {actionLoading.healthMsg}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\n// \r\n//  SERVER DETAIL PANEL (guardian log + load prediction)\r\n// \r\nconst ServerDetailPanel = ({ server, onClose }) => {\r\n  const [tab, setTab] = useState('guardian');\r\n  const [guardianLog, setGuardianLog] = useState([]);\r\n  const [prediction, setPrediction] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    Promise.all([\r\n      apiService.getGuardianLog(server.id).catch(() => ({ data: { log: [] } })),\r\n      apiService.getLoadPrediction(server.id, 8).catch(() => ({ data: { predictions: [] } })),\r\n    ]).then(([logRes, predRes]) => {\r\n      setGuardianLog(logRes.data?.log || []);\r\n      setPrediction(predRes.data?.predictions || []);\r\n    }).finally(() => setLoading(false));\r\n  }, [server.id]);\r\n\r\n  const ACTION_COLORS = {\r\n    healthy: 'text-green-400',\r\n    degraded: 'text-yellow-400',\r\n    unhealthy: 'text-red-400',\r\n    auto_offline: 'text-red-500',\r\n    recovery: 'text-green-400',\r\n    restart_requested: 'text-orange-400',\r\n    status_change: 'text-blue-400',\r\n  };\r\n\r\n  return (\r\n    <Card className=\"p-6 border border-blue-500/30\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-bold text-white flex items-center gap-2\">\r\n          <FaShieldAlt className=\"text-blue-400\" />\r\n          {server.name}  Details\r\n        </h3>\r\n        <button onClick={onClose} className=\"text-gray-500 hover:text-white\">\r\n          <FaTimes />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex gap-2 mb-4\">\r\n        <button onClick={() => setTab('guardian')}\r\n          className={`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-1 ${tab === 'guardian' ? 'bg-blue-600 text-white' : 'bg-white/5 text-gray-400 hover:bg-white/10'}`}>\r\n          <FaShieldAlt /> Guardian Log\r\n        </button>\r\n        <button onClick={() => setTab('prediction')}\r\n          className={`px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-1 ${tab === 'prediction' ? 'bg-blue-600 text-white' : 'bg-white/5 text-gray-400 hover:bg-white/10'}`}>\r\n          <FaChartLine /> Load Prediction\r\n        </button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"space-y-3 py-4\">\r\n          {[1,2,3].map(i => (\r\n            <div key={i} className=\"flex items-center gap-4 p-3 animate-pulse\">\r\n              <div className=\"h-4 w-1/4 bg-gray-700/30 rounded\"></div>\r\n              <div className=\"h-4 w-1/3 bg-gray-700/30 rounded\"></div>\r\n              <div className=\"h-4 w-1/4 bg-gray-700/30 rounded\"></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : tab === 'guardian' ? (\r\n        <div className=\"space-y-2 max-h-80 overflow-y-auto\">\r\n          {guardianLog.length === 0 ? (\r\n            <div className=\"text-center text-gray-500 py-8\">\r\n              <FaCheckCircle className=\"text-green-500 text-3xl mx-auto mb-2\" />\r\n              No guardian events  server running smoothly\r\n            </div>\r\n          ) : (\r\n            guardianLog.map((entry, i) => (\r\n              <div key={i} className=\"flex items-start gap-3 p-3 rounded bg-white/5\">\r\n                <FaHistory className={`text-sm mt-0.5 ${ACTION_COLORS[entry.action] || 'text-gray-400'}`} />\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className={`text-xs font-semibold uppercase ${ACTION_COLORS[entry.action] || 'text-gray-400'}`}>\r\n                      {entry.action?.replace(/_/g, ' ')}\r\n                    </span>\r\n                    <span className=\"text-gray-600 text-xs\">{new Date(entry.created_at).toLocaleString()}</span>\r\n                  </div>\r\n                  <p className=\"text-gray-300 text-sm mt-0.5\">\r\n                    {typeof entry.details === 'string' ? entry.details : JSON.stringify(entry.details)}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-2\">\r\n          {prediction.length === 0 ? (\r\n            <div className=\"text-center text-gray-500 py-8\">\r\n              No load history data available for predictions yet\r\n            </div>\r\n          ) : (\r\n            <div className=\"grid grid-cols-4 md:grid-cols-8 gap-2\">\r\n              {prediction.map((p, i) => {\r\n                const pct = server.capacity > 0 ? ((p.predicted_load || 0) / server.capacity * 100) : 0;\r\n                return (\r\n                  <div key={i} className=\"text-center p-3 rounded bg-white/5\">\r\n                    <p className=\"text-gray-500 text-xs\">{p.hour || `+${i + 1}h`}</p>\r\n                    <p className=\"text-white text-lg font-bold\">{p.predicted_load || 0}</p>\r\n                    <LoadBar pct={pct} />\r\n                    <p className=\"text-gray-600 text-xs mt-1\">{pct.toFixed(0)}%</p>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ServerCommandCenter;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport {\r\n  FaUsers, FaUserCheck, FaUserPlus, FaCrown, FaGlobe, FaNetworkWired,\r\n  FaChartBar, FaSync, FaCamera, FaHistory, FaExchangeAlt, FaArrowUp,\r\n  FaArrowDown, FaDatabase, FaClock, FaServer,\r\n} from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport { apiService } from '../../services/api';\r\n\r\n//  Helpers \r\nconst fmt = (n) => (n || 0).toLocaleString();\r\nconst fmtBytes = (b) => {\r\n  const n = parseInt(b) || 0;\r\n  if (n < 1024) return `${n} B`;\r\n  if (n < 1048576) return `${(n / 1024).toFixed(1)} KB`;\r\n  if (n < 1073741824) return `${(n / 1048576).toFixed(1)} MB`;\r\n  return `${(n / 1073741824).toFixed(2)} GB`;\r\n};\r\nconst pct = (a, b) => b > 0 ? ((a / b) * 100).toFixed(1) : '0.0';\r\n\r\n//  Mini bar chart (inline, CSS only) \r\nconst MiniBar = ({ free, paid, label }) => {\r\n  const total = (free || 0) + (paid || 0);\r\n  const fPct = total > 0 ? (free / total) * 100 : 50;\r\n  return (\r\n    <div className=\"mb-1\">\r\n      {label && <p className=\"text-gray-500 text-xs mb-0.5\">{label}</p>}\r\n      <div className=\"flex h-3 rounded-full overflow-hidden bg-gray-700 w-full\">\r\n        <div className=\"bg-blue-500 transition-all\" style={{ width: `${fPct}%` }}\r\n          title={`Free: ${fmt(free)}`} />\r\n        <div className=\"bg-amber-500 transition-all\" style={{ width: `${100 - fPct}%` }}\r\n          title={`Paid: ${fmt(paid)}`} />\r\n      </div>\r\n      <div className=\"flex justify-between text-[10px] mt-0.5\">\r\n        <span className=\"text-blue-400\">{fmt(free)} free</span>\r\n        <span className=\"text-amber-400\">{fmt(paid)} paid</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// \r\n//  MAIN COMPONENT\r\n// \r\nconst SegmentAnalytics = () => {\r\n  const [view, setView] = useState('live');   // 'live' | 'history'\r\n  const [live, setLive] = useState(null);\r\n  const [history, setHistory] = useState([]);\r\n  const [historyDays, setHistoryDays] = useState(30);\r\n  const [loading, setLoading] = useState(true);\r\n  const [autoRefresh, setAutoRefresh] = useState(true);\r\n  const [snapshotStatus, setSnapshotStatus] = useState(null);\r\n\r\n  //  Load live data \r\n  const loadLive = useCallback(async () => {\r\n    try {\r\n      const res = await apiService.getSegmentLive();\r\n      setLive(res.data);\r\n    } catch (err) {\r\n      console.error('Segment live error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  //  Load history \r\n  const loadHistory = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiService.getSegmentHistory(historyDays);\r\n      setHistory(res.data?.data || []);\r\n    } catch (err) {\r\n      console.error('Segment history error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [historyDays]);\r\n\r\n  useEffect(() => {\r\n    if (view === 'live') loadLive();\r\n    else loadHistory();\r\n  }, [view, loadLive, loadHistory]);\r\n\r\n  useEffect(() => {\r\n    if (!autoRefresh || view !== 'live') return;\r\n    const iv = setInterval(loadLive, 30000);\r\n    return () => clearInterval(iv);\r\n  }, [autoRefresh, view, loadLive]);\r\n\r\n  const handleSnapshot = async () => {\r\n    setSnapshotStatus('taking...');\r\n    try {\r\n      await apiService.takeSegmentSnapshot();\r\n      setSnapshotStatus('done ');\r\n      if (view === 'history') loadHistory();\r\n    } catch {\r\n      setSnapshotStatus('failed');\r\n    }\r\n    setTimeout(() => setSnapshotStatus(null), 3000);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/*  Controls  */}\r\n      <div className=\"flex flex-wrap items-center justify-between gap-3\">\r\n        <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n          <FaChartBar className=\"text-indigo-400\" /> User Segment Analytics\r\n        </h2>\r\n        <div className=\"flex items-center gap-2\">\r\n          {/* View toggle */}\r\n          <div className=\"flex rounded-lg overflow-hidden border border-white/10\">\r\n            <button onClick={() => setView('live')}\r\n              className={`px-4 py-1.5 text-sm font-medium flex items-center gap-1 ${view === 'live' ? 'bg-indigo-600 text-white' : 'bg-white/5 text-gray-400 hover:bg-white/10'}`}>\r\n              <FaNetworkWired className=\"text-xs\" /> Live\r\n            </button>\r\n            <button onClick={() => setView('history')}\r\n              className={`px-4 py-1.5 text-sm font-medium flex items-center gap-1 ${view === 'history' ? 'bg-indigo-600 text-white' : 'bg-white/5 text-gray-400 hover:bg-white/10'}`}>\r\n              <FaHistory className=\"text-xs\" /> History\r\n            </button>\r\n          </div>\r\n          {/* Auto-refresh (live only) */}\r\n          {view === 'live' && (\r\n            <label className=\"flex items-center gap-2 text-sm text-gray-300 cursor-pointer\">\r\n              <input type=\"checkbox\" checked={autoRefresh} onChange={e => setAutoRefresh(e.target.checked)} className=\"rounded\" />\r\n              Live (30s)\r\n            </label>\r\n          )}\r\n          {/* History range */}\r\n          {view === 'history' && (\r\n            <select value={historyDays} onChange={e => setHistoryDays(Number(e.target.value))}\r\n              className=\"bg-white/5 border border-white/10 text-gray-300 rounded px-3 py-1.5 text-sm\">\r\n              <option value={7}>7 days</option>\r\n              <option value={14}>14 days</option>\r\n              <option value={30}>30 days</option>\r\n              <option value={90}>90 days</option>\r\n              <option value={365}>1 year</option>\r\n            </select>\r\n          )}\r\n          <button onClick={view === 'live' ? loadLive : loadHistory}\r\n            className=\"px-3 py-1.5 rounded bg-white/5 hover:bg-white/10 text-gray-300 text-sm flex items-center gap-1\">\r\n            <FaSync className=\"text-xs\" /> Refresh\r\n          </button>\r\n          <button onClick={handleSnapshot}\r\n            className=\"px-3 py-1.5 rounded bg-purple-600/30 hover:bg-purple-600/50 text-purple-300 text-sm flex items-center gap-1\">\r\n            <FaCamera className=\"text-xs\" /> {snapshotStatus || 'Snapshot'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Legend */}\r\n      <div className=\"flex items-center gap-4 text-xs\">\r\n        <span className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded-full bg-blue-500 inline-block\" /> Free users</span>\r\n        <span className=\"flex items-center gap-1\"><span className=\"w-3 h-3 rounded-full bg-amber-500 inline-block\" /> Paid users</span>\r\n      </div>\r\n\r\n      {loading && !live && !history.length ? (\r\n        <div className=\"text-center text-gray-400 py-12\">Loading segment data...</div>\r\n      ) : view === 'live' ? (\r\n        <LiveView data={live} />\r\n      ) : (\r\n        <HistoryView data={history} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// \r\n//  LIVE VIEW\r\n// \r\nconst LiveView = ({ data }) => {\r\n  if (!data) return null;\r\n  const u = data.users || {};\r\n  const lv = data.live || {};\r\n  const td = data.today || {};\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/*  KPI Cards  */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3\">\r\n        <KPICard icon={FaUsers} iconColor=\"blue\" label=\"Free Users\"\r\n          value={u.free_total} sub={`${u.free_active} active (30d)`} />\r\n        <KPICard icon={FaCrown} iconColor=\"amber\" label=\"Paid Users\"\r\n          value={u.paid_total} sub={`${u.paid_active} active (30d)`} />\r\n        <KPICard icon={FaUserPlus} iconColor=\"green\" label=\"New Today\"\r\n          value={(parseInt(u.free_new_24h) || 0) + (parseInt(u.paid_new_24h) || 0)}\r\n          sub={`F:${u.free_new_24h || 0} P:${u.paid_new_24h || 0}`} />\r\n        <KPICard icon={FaUserCheck} iconColor=\"purple\" label=\"Online Now\"\r\n          value={(parseInt(lv.free_online) || 0) + (parseInt(lv.paid_online) || 0)}\r\n          sub={`F:${lv.free_online || 0} P:${lv.paid_online || 0}`} />\r\n        <KPICard icon={FaExchangeAlt} iconColor=\"cyan\" label=\"Connections Today\"\r\n          value={(parseInt(td.free_connections_today) || 0) + (parseInt(td.paid_connections_today) || 0)}\r\n          sub={`F:${td.free_connections_today || 0} P:${td.paid_connections_today || 0}`} />\r\n        <KPICard icon={FaDatabase} iconColor=\"pink\" label=\"Data Today\"\r\n          value={fmtBytes((parseInt(td.free_data_today) || 0) + (parseInt(td.paid_data_today) || 0))}\r\n          sub={`F:${fmtBytes(td.free_data_today)} P:${fmtBytes(td.paid_data_today)}`} />\r\n      </div>\r\n\r\n      {/*  Segment ratio bar  */}\r\n      <Card className=\"p-5 border border-white/10\">\r\n        <h3 className=\"text-white font-semibold mb-3\">User Composition</h3>\r\n        <MiniBar free={parseInt(u.free_total) || 0} paid={parseInt(u.paid_total) || 0} label=\"Total users\" />\r\n        <MiniBar free={parseInt(u.free_active) || 0} paid={parseInt(u.paid_active) || 0} label=\"Active users (30d)\" />\r\n        <MiniBar free={parseInt(lv.free_online) || 0} paid={parseInt(lv.paid_online) || 0} label=\"Online now\" />\r\n        <MiniBar free={parseInt(td.free_connections_today) || 0} paid={parseInt(td.paid_connections_today) || 0} label=\"Connections today\" />\r\n        <div className=\"mt-3 grid grid-cols-2 gap-4 text-sm\">\r\n          <div>\r\n            <p className=\"text-gray-500 text-xs\">Conversion Rate</p>\r\n            <p className=\"text-white font-bold\">{pct(u.paid_total, u.total_users)}%</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-gray-500 text-xs\">New This Week</p>\r\n            <p className=\"text-white font-bold\">F:{fmt(u.free_new_7d)} / P:{fmt(u.paid_new_7d)}</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/*  3-column detail grid  */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        {/* Regions */}\r\n        <Card className=\"p-5 border border-white/10\">\r\n          <h3 className=\"text-white font-semibold mb-3 flex items-center gap-2\">\r\n            <FaGlobe className=\"text-green-400 text-sm\" /> Regions (Live)\r\n          </h3>\r\n          {(data.regions || []).length === 0 ? (\r\n            <p className=\"text-gray-500 text-sm text-center py-4\">No active connections</p>\r\n          ) : (\r\n            <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n              {data.regions.map((r, i) => (\r\n                <div key={i} className=\"flex items-center justify-between\">\r\n                  <span className=\"text-gray-300 text-sm\">{r.country_name || r.country_code}</span>\r\n                  <div className=\"flex items-center gap-2 text-xs\">\r\n                    <span className=\"text-blue-400\">{r.free_count} F</span>\r\n                    <span className=\"text-amber-400\">{r.paid_count} P</span>\r\n                    <span className=\"text-gray-500\">{r.total_count}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </Card>\r\n\r\n        {/* Protocols */}\r\n        <Card className=\"p-5 border border-white/10\">\r\n          <h3 className=\"text-white font-semibold mb-3 flex items-center gap-2\">\r\n            <FaNetworkWired className=\"text-blue-400 text-sm\" /> Protocols (Live)\r\n          </h3>\r\n          {(data.protocols || []).length === 0 ? (\r\n            <p className=\"text-gray-500 text-sm text-center py-4\">No active connections</p>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {data.protocols.map((p, i) => (\r\n                <div key={i}>\r\n                  <div className=\"flex items-center justify-between mb-0.5\">\r\n                    <span className=\"text-gray-300 text-sm font-mono\">{p.protocol}</span>\r\n                    <span className=\"text-gray-500 text-xs\">{p.total_count}</span>\r\n                  </div>\r\n                  <MiniBar free={parseInt(p.free_count)} paid={parseInt(p.paid_count)} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </Card>\r\n\r\n        {/* Servers */}\r\n        <Card className=\"p-5 border border-white/10\">\r\n          <h3 className=\"text-white font-semibold mb-3 flex items-center gap-2\">\r\n            <FaServer className=\"text-purple-400 text-sm\" /> Servers (Live)\r\n          </h3>\r\n          {(data.servers || []).length === 0 ? (\r\n            <p className=\"text-gray-500 text-sm text-center py-4\">No active connections</p>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              {data.servers.map((s, i) => (\r\n                <div key={i}>\r\n                  <div className=\"flex items-center justify-between mb-0.5\">\r\n                    <span className=\"text-gray-300 text-sm\">{s.server_name} <span className=\"text-gray-600 text-xs\">({s.country_code})</span></span>\r\n                    <span className=\"text-gray-500 text-xs\">{s.total_count}/{s.capacity}</span>\r\n                  </div>\r\n                  <MiniBar free={parseInt(s.free_count)} paid={parseInt(s.paid_count)} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </Card>\r\n      </div>\r\n\r\n      {/*  Plan Distribution  */}\r\n      {data.plans && data.plans.length > 0 && (\r\n        <Card className=\"p-5 border border-white/10\">\r\n          <h3 className=\"text-white font-semibold mb-3\">Paid Plan Distribution</h3>\r\n          <div className=\"flex flex-wrap gap-3\">\r\n            {data.plans.map((p, i) => (\r\n              <div key={i} className=\"bg-white/5 rounded-lg px-4 py-2 text-center min-w-[100px]\">\r\n                <p className=\"text-amber-400 text-lg font-bold\">{p.count}</p>\r\n                <p className=\"text-gray-400 text-xs\">{p.plan || 'unset'}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/*  Hourly Trend (last 24h)  */}\r\n      {data.hourly_trend && data.hourly_trend.length > 0 && (\r\n        <Card className=\"p-5 border border-white/10\">\r\n          <h3 className=\"text-white font-semibold mb-3 flex items-center gap-2\">\r\n            <FaClock className=\"text-cyan-400 text-sm\" /> 24h Connection Trend\r\n          </h3>\r\n          <div className=\"flex items-end gap-1 h-32 overflow-x-auto\">\r\n            {data.hourly_trend.map((h, i) => {\r\n              const freeC = parseInt(h.free_count) || 0;\r\n              const paidC = parseInt(h.paid_count) || 0;\r\n              const total = freeC + paidC;\r\n              const maxVal = Math.max(...data.hourly_trend.map(x => (parseInt(x.free_count) || 0) + (parseInt(x.paid_count) || 0)), 1);\r\n              const height = (total / maxVal) * 100;\r\n              const freeH = total > 0 ? (freeC / total) * height : 0;\r\n              const paidH = total > 0 ? (paidC / total) * height : 0;\r\n              const hour = new Date(h.hour).getHours();\r\n              return (\r\n                <div key={i} className=\"flex flex-col items-center flex-shrink-0\" style={{ width: '28px' }}\r\n                  title={`${hour}:00  Free: ${freeC}, Paid: ${paidC}`}>\r\n                  <div className=\"flex flex-col justify-end\" style={{ height: '100px' }}>\r\n                    <div className=\"bg-amber-500 w-5 rounded-t-sm\" style={{ height: `${paidH}%`, minHeight: paidC > 0 ? '2px' : 0 }} />\r\n                    <div className=\"bg-blue-500 w-5 rounded-b-sm\" style={{ height: `${freeH}%`, minHeight: freeC > 0 ? '2px' : 0 }} />\r\n                  </div>\r\n                  <span className=\"text-gray-600 text-[9px] mt-1\">{hour}</span>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/*  Session duration  */}\r\n      <Card className=\"p-5 border border-white/10\">\r\n        <h3 className=\"text-white font-semibold mb-3\">Today's Session Stats</h3>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div>\r\n            <p className=\"text-gray-500 text-xs\">Free Avg Duration</p>\r\n            <p className=\"text-blue-400 text-lg font-bold\">\r\n              {Math.round((parseFloat(td?.free_avg_duration) || 0) / 60)}m\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-gray-500 text-xs\">Paid Avg Duration</p>\r\n            <p className=\"text-amber-400 text-lg font-bold\">\r\n              {Math.round((parseFloat(td?.paid_avg_duration) || 0) / 60)}m\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-gray-500 text-xs\">Free Data Today</p>\r\n            <p className=\"text-blue-400 text-lg font-bold\">{fmtBytes(td?.free_data_today)}</p>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-gray-500 text-xs\">Paid Data Today</p>\r\n            <p className=\"text-amber-400 text-lg font-bold\">{fmtBytes(td?.paid_data_today)}</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\n// \r\n//  HISTORY VIEW\r\n// \r\nconst HistoryView = ({ data }) => {\r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <Card className=\"p-12 text-center\">\r\n        <FaHistory className=\"text-gray-600 text-4xl mx-auto mb-3\" />\r\n        <p className=\"text-gray-400 text-lg\">No historical data yet</p>\r\n        <p className=\"text-gray-600 text-sm\">Daily snapshots are taken at 23:55 UTC. Click \"Snapshot\" to take one now.</p>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // Compute trends (latest vs previous)\r\n  const latest = data[0];\r\n  const prev = data.length > 1 ? data[1] : null;\r\n  const trend = (cur, prv) => {\r\n    if (!prv) return null;\r\n    const diff = cur - prv;\r\n    return diff > 0 ? `+${diff}` : diff < 0 ? `${diff}` : '=';\r\n  };\r\n\r\n  // Chart data  reverse to chronological\r\n  const chartData = [...data].reverse();\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/*  Latest Snapshot Summary  */}\r\n      <Card className=\"p-5 border border-indigo-500/30\">\r\n        <div className=\"flex items-center justify-between mb-3\">\r\n          <h3 className=\"text-white font-semibold\">Latest: {latest.snapshot_date?.split('T')[0]}</h3>\r\n          {prev && <span className=\"text-gray-500 text-xs\">vs {prev.snapshot_date?.split('T')[0]}</span>}\r\n        </div>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3\">\r\n          <HistKPI label=\"Free Total\" value={latest.free_total} trend={trend(latest.free_total, prev?.free_total)} color=\"blue\" />\r\n          <HistKPI label=\"Paid Total\" value={latest.paid_total} trend={trend(latest.paid_total, prev?.paid_total)} color=\"amber\" />\r\n          <HistKPI label=\"Free Active\" value={latest.free_active} trend={trend(latest.free_active, prev?.free_active)} color=\"blue\" />\r\n          <HistKPI label=\"Paid Active\" value={latest.paid_active} trend={trend(latest.paid_active, prev?.paid_active)} color=\"amber\" />\r\n          <HistKPI label=\"Conversions\" value={latest.conversions} trend={trend(latest.conversions, prev?.conversions)} color=\"green\" />\r\n          <HistKPI label=\"Churns\" value={latest.churns} trend={trend(latest.churns, prev?.churns)} color=\"red\" />\r\n        </div>\r\n      </Card>\r\n\r\n      {/*  User Growth Chart  */}\r\n      <Card className=\"p-5 border border-white/10\">\r\n        <h3 className=\"text-white font-semibold mb-3\">User Growth Trend</h3>\r\n        <div className=\"flex items-end gap-1 h-40 overflow-x-auto pb-6 relative\">\r\n          {chartData.map((d, i) => {\r\n            const maxVal = Math.max(...chartData.map(x => Math.max(x.free_total || 0, x.paid_total || 0)), 1);\r\n            const freeH = ((d.free_total || 0) / maxVal) * 100;\r\n            const paidH = ((d.paid_total || 0) / maxVal) * 100;\r\n            const date = d.snapshot_date?.split('T')[0]?.slice(5);\r\n            return (\r\n              <div key={i} className=\"flex flex-col items-center flex-shrink-0\" style={{ width: '36px' }}\r\n                title={`${d.snapshot_date?.split('T')[0]}\\nFree: ${d.free_total}\\nPaid: ${d.paid_total}`}>\r\n                <div className=\"flex gap-0.5 items-end\" style={{ height: '120px' }}>\r\n                  <div className=\"bg-blue-500/80 w-3 rounded-t-sm transition-all\" style={{ height: `${freeH}%`, minHeight: '2px' }} />\r\n                  <div className=\"bg-amber-500/80 w-3 rounded-t-sm transition-all\" style={{ height: `${paidH}%`, minHeight: '2px' }} />\r\n                </div>\r\n                <span className=\"text-gray-600 text-[9px] mt-1 transform -rotate-45 origin-top-left whitespace-nowrap\">{date}</span>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </Card>\r\n\r\n      {/*  Connection / Data Chart  */}\r\n      <Card className=\"p-5 border border-white/10\">\r\n        <h3 className=\"text-white font-semibold mb-3\">Daily Connections</h3>\r\n        <div className=\"flex items-end gap-1 h-32 overflow-x-auto pb-6\">\r\n          {chartData.map((d, i) => {\r\n            const freeC = d.free_connections || 0;\r\n            const paidC = d.paid_connections || 0;\r\n            const total = freeC + paidC;\r\n            const maxVal = Math.max(...chartData.map(x => (x.free_connections || 0) + (x.paid_connections || 0)), 1);\r\n            const height = (total / maxVal) * 100;\r\n            const freeH = total > 0 ? (freeC / total) * height : 0;\r\n            const paidH = total > 0 ? (paidC / total) * height : 0;\r\n            const date = d.snapshot_date?.split('T')[0]?.slice(5);\r\n            return (\r\n              <div key={i} className=\"flex flex-col items-center flex-shrink-0\" style={{ width: '36px' }}\r\n                title={`${d.snapshot_date?.split('T')[0]}\\nFree: ${freeC}\\nPaid: ${paidC}`}>\r\n                <div className=\"flex flex-col justify-end\" style={{ height: '100px' }}>\r\n                  <div className=\"bg-amber-500 w-5 rounded-t-sm\" style={{ height: `${paidH}%`, minHeight: paidC > 0 ? '2px' : 0 }} />\r\n                  <div className=\"bg-blue-500 w-5\" style={{ height: `${freeH}%`, minHeight: freeC > 0 ? '2px' : 0 }} />\r\n                </div>\r\n                <span className=\"text-gray-600 text-[9px] mt-1 transform -rotate-45 origin-top-left whitespace-nowrap\">{date}</span>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </Card>\r\n\r\n      {/*  Data Transfer Chart  */}\r\n      <Card className=\"p-5 border border-white/10\">\r\n        <h3 className=\"text-white font-semibold mb-3\">Daily Data Transfer</h3>\r\n        <div className=\"flex items-end gap-1 h-32 overflow-x-auto pb-6\">\r\n          {chartData.map((d, i) => {\r\n            const freeB = parseInt(d.free_data_bytes) || 0;\r\n            const paidB = parseInt(d.paid_data_bytes) || 0;\r\n            const total = freeB + paidB;\r\n            const maxVal = Math.max(...chartData.map(x => (parseInt(x.free_data_bytes) || 0) + (parseInt(x.paid_data_bytes) || 0)), 1);\r\n            const height = (total / maxVal) * 100;\r\n            const freeH = total > 0 ? (freeB / total) * height : 0;\r\n            const paidH = total > 0 ? (paidB / total) * height : 0;\r\n            const date = d.snapshot_date?.split('T')[0]?.slice(5);\r\n            return (\r\n              <div key={i} className=\"flex flex-col items-center flex-shrink-0\" style={{ width: '36px' }}\r\n                title={`${d.snapshot_date?.split('T')[0]}\\nFree: ${fmtBytes(freeB)}\\nPaid: ${fmtBytes(paidB)}`}>\r\n                <div className=\"flex flex-col justify-end\" style={{ height: '100px' }}>\r\n                  <div className=\"bg-amber-500/70 w-5 rounded-t-sm\" style={{ height: `${paidH}%`, minHeight: paidB > 0 ? '2px' : 0 }} />\r\n                  <div className=\"bg-blue-500/70 w-5\" style={{ height: `${freeH}%`, minHeight: freeB > 0 ? '2px' : 0 }} />\r\n                </div>\r\n                <span className=\"text-gray-600 text-[9px] mt-1 transform -rotate-45 origin-top-left whitespace-nowrap\">{date}</span>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </Card>\r\n\r\n      {/*  History Table  */}\r\n      <Card className=\"p-5 border border-white/10 overflow-x-auto\">\r\n        <h3 className=\"text-white font-semibold mb-3\">Daily Breakdown</h3>\r\n        <table className=\"w-full text-sm\">\r\n          <thead>\r\n            <tr className=\"text-gray-500 text-xs border-b border-white/10\">\r\n              <th className=\"text-left py-2 pr-3\">Date</th>\r\n              <th className=\"text-right py-2 px-2\">Free</th>\r\n              <th className=\"text-right py-2 px-2\">Paid</th>\r\n              <th className=\"text-right py-2 px-2\">F Active</th>\r\n              <th className=\"text-right py-2 px-2\">P Active</th>\r\n              <th className=\"text-right py-2 px-2\">F Conn</th>\r\n              <th className=\"text-right py-2 px-2\">P Conn</th>\r\n              <th className=\"text-right py-2 px-2\">F Data</th>\r\n              <th className=\"text-right py-2 px-2\">P Data</th>\r\n              <th className=\"text-right py-2 px-2\">Conv</th>\r\n              <th className=\"text-right py-2 px-2\">Churn</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((d, i) => (\r\n              <tr key={i} className=\"border-b border-white/5 hover:bg-white/5\">\r\n                <td className=\"py-2 pr-3 text-gray-300 whitespace-nowrap\">{d.snapshot_date?.split('T')[0]}</td>\r\n                <td className=\"py-2 px-2 text-right text-blue-400\">{fmt(d.free_total)}</td>\r\n                <td className=\"py-2 px-2 text-right text-amber-400\">{fmt(d.paid_total)}</td>\r\n                <td className=\"py-2 px-2 text-right text-blue-300\">{fmt(d.free_active)}</td>\r\n                <td className=\"py-2 px-2 text-right text-amber-300\">{fmt(d.paid_active)}</td>\r\n                <td className=\"py-2 px-2 text-right text-blue-400\">{fmt(d.free_connections)}</td>\r\n                <td className=\"py-2 px-2 text-right text-amber-400\">{fmt(d.paid_connections)}</td>\r\n                <td className=\"py-2 px-2 text-right text-blue-300 whitespace-nowrap\">{fmtBytes(d.free_data_bytes)}</td>\r\n                <td className=\"py-2 px-2 text-right text-amber-300 whitespace-nowrap\">{fmtBytes(d.paid_data_bytes)}</td>\r\n                <td className=\"py-2 px-2 text-right text-green-400\">{d.conversions || 0}</td>\r\n                <td className=\"py-2 px-2 text-right text-red-400\">{d.churns || 0}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\n//  Shared sub-components \r\nconst KPICard = ({ icon: Icon, iconColor, label, value, sub }) => (\r\n  <Card className={`p-4 border border-${iconColor}-500/20`}>\r\n    <div className=\"flex items-center gap-2 mb-1\">\r\n      <Icon className={`text-${iconColor}-400 text-sm`} />\r\n      <p className={`text-${iconColor}-400 text-xs uppercase`}>{label}</p>\r\n    </div>\r\n    <p className=\"text-white text-2xl font-bold\">{typeof value === 'number' ? fmt(value) : value}</p>\r\n    {sub && <p className=\"text-gray-500 text-xs mt-0.5\">{sub}</p>}\r\n  </Card>\r\n);\r\n\r\nconst HistKPI = ({ label, value, trend, color }) => (\r\n  <div className={`bg-white/5 rounded-lg p-3 border border-${color}-500/20`}>\r\n    <p className=\"text-gray-500 text-xs\">{label}</p>\r\n    <div className=\"flex items-center gap-2\">\r\n      <p className={`text-${color}-400 text-xl font-bold`}>{fmt(value)}</p>\r\n      {trend && trend !== '=' && (\r\n        <span className={`text-xs flex items-center gap-0.5 ${trend.startsWith('+') ? 'text-green-400' : 'text-red-400'}`}>\r\n          {trend.startsWith('+') ? <FaArrowUp className=\"text-[8px]\" /> : <FaArrowDown className=\"text-[8px]\" />}\r\n          {trend}\r\n        </span>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default SegmentAnalytics;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaExclamationTriangle, FaSync, FaSearch, FaShieldAlt } from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport { apiService } from '../../services/api';\r\n\r\nconst AbuseDetection = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [history, setHistory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadHighRisk();\r\n    const interval = setInterval(loadHighRisk, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const loadHighRisk = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiService.getHighRiskUsers();\r\n      setUsers(res.data?.users || res.data || []);\r\n    } catch (err) {\r\n      console.error('Failed to load high-risk users:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadHistory = async (userId) => {\r\n    try {\r\n      const res = await apiService.getAbuseHistory(userId);\r\n      setHistory(res.data?.history || res.data || []);\r\n      setSelectedUser(userId);\r\n    } catch (err) {\r\n      console.error('Failed to load abuse history:', err);\r\n    }\r\n  };\r\n\r\n  const handleEvaluate = async (userId) => {\r\n    try {\r\n      await apiService.evaluateAbuse(userId);\r\n      loadHighRisk();\r\n    } catch (err) {\r\n      console.error('Failed to evaluate user:', err);\r\n    }\r\n  };\r\n\r\n  const handleReset = async (userId) => {\r\n    try {\r\n      await apiService.resetAbuseScore(userId);\r\n      loadHighRisk();\r\n    } catch (err) {\r\n      console.error('Failed to reset score:', err);\r\n    }\r\n  };\r\n\r\n  if (loading && users.length === 0) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"spinner\"></div>\r\n        <span className=\"ml-3 text-white\">Loading abuse data...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-white flex items-center\">\r\n            <FaShieldAlt className=\"mr-3 text-red-400\" />\r\n            Abuse Detection\r\n          </h2>\r\n          <Button variant=\"outline\" size=\"sm\" icon={<FaSync />} onClick={loadHighRisk}>\r\n            Refresh\r\n          </Button>\r\n        </div>\r\n\r\n        {users.length === 0 ? (\r\n          <p className=\"text-gray-400 text-center py-8\">No high-risk users detected</p>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-sm\">\r\n              <thead>\r\n                <tr className=\"border-b border-gray-600 text-gray-400\">\r\n                  <th className=\"text-left py-3 px-2\">User</th>\r\n                  <th className=\"text-left py-3 px-2\">Risk Score</th>\r\n                  <th className=\"text-left py-3 px-2\">Flags</th>\r\n                  <th className=\"text-left py-3 px-2\">Last Checked</th>\r\n                  <th className=\"text-left py-3 px-2\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {users.map((u) => (\r\n                  <tr key={u.id || u.user_id} className=\"border-b border-gray-700 hover:bg-white/5\">\r\n                    <td className=\"py-3 px-2 text-white\">{u.email || u.user_id}</td>\r\n                    <td className=\"py-3 px-2\">\r\n                      <span className={`px-2 py-1 rounded text-xs font-bold ${\r\n                        (u.risk_score || 0) > 80 ? 'bg-red-500/20 text-red-300' :\r\n                        (u.risk_score || 0) > 50 ? 'bg-yellow-500/20 text-yellow-300' :\r\n                        'bg-green-500/20 text-green-300'\r\n                      }`}>\r\n                        {u.risk_score || 0}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"py-3 px-2 text-gray-300 text-xs max-w-xs truncate\">\r\n                      {Array.isArray(u.flags) ? u.flags.join(', ') : u.flags || ''}\r\n                    </td>\r\n                    <td className=\"py-3 px-2 text-gray-400 text-xs\">\r\n                      {u.last_checked ? new Date(u.last_checked).toLocaleString() : ''}\r\n                    </td>\r\n                    <td className=\"py-3 px-2 space-x-2\">\r\n                      <button onClick={() => loadHistory(u.id || u.user_id)}\r\n                        className=\"text-xs text-blue-400 hover:text-blue-300\">History</button>\r\n                      <button onClick={() => handleEvaluate(u.id || u.user_id)}\r\n                        className=\"text-xs text-yellow-400 hover:text-yellow-300\">Re-evaluate</button>\r\n                      <button onClick={() => handleReset(u.id || u.user_id)}\r\n                        className=\"text-xs text-green-400 hover:text-green-300\">Reset</button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* Abuse History Panel */}\r\n      {selectedUser && (\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h3 className=\"text-lg font-bold text-white\">Abuse History  {selectedUser}</h3>\r\n            <button onClick={() => setSelectedUser(null)} className=\"text-gray-400 hover:text-white\"></button>\r\n          </div>\r\n          {history.length === 0 ? (\r\n            <p className=\"text-gray-400 text-sm\">No abuse history</p>\r\n          ) : (\r\n            <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n              {history.map((h, i) => (\r\n                <div key={i} className=\"flex justify-between items-center p-2 bg-gray-700/30 rounded text-sm\">\r\n                  <span className=\"text-white\">{h.action || h.type || 'Event'}</span>\r\n                  <span className=\"text-gray-400 text-xs\">{h.created_at ? new Date(h.created_at).toLocaleString() : ''}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AbuseDetection;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaSync, FaPlug, FaSignOutAlt, FaUser } from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport { apiService } from '../../services/api';\r\n\r\nconst SessionControl = () => {\r\n  const [topUsers, setTopUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [sessions, setSessions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadTopUsers();\r\n    const interval = setInterval(loadTopUsers, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const loadTopUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiService.getTopSessionUsers();\r\n      setTopUsers(res.data?.users || res.data || []);\r\n    } catch (err) {\r\n      console.error('Failed to load top users:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadUserSessions = async (userId) => {\r\n    try {\r\n      const res = await apiService.getUserSessions(userId);\r\n      setSessions(res.data?.sessions || res.data || []);\r\n      setSelectedUser(userId);\r\n    } catch (err) {\r\n      console.error('Failed to load sessions:', err);\r\n    }\r\n  };\r\n\r\n  const handleDisconnectAll = async (userId) => {\r\n    try {\r\n      await apiService.disconnectAllSessions(userId);\r\n      loadTopUsers();\r\n      if (selectedUser === userId) loadUserSessions(userId);\r\n    } catch (err) {\r\n      console.error('Failed to disconnect:', err);\r\n    }\r\n  };\r\n\r\n  const handleDisconnectOne = async (connectionId) => {\r\n    try {\r\n      await apiService.disconnectSession(connectionId);\r\n      if (selectedUser) loadUserSessions(selectedUser);\r\n      loadTopUsers();\r\n    } catch (err) {\r\n      console.error('Failed to disconnect session:', err);\r\n    }\r\n  };\r\n\r\n  if (loading && topUsers.length === 0) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"spinner\"></div>\r\n        <span className=\"ml-3 text-white\">Loading sessions...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-white flex items-center\">\r\n            <FaPlug className=\"mr-3 text-green-400\" />\r\n            Session Control\r\n          </h2>\r\n          <Button variant=\"outline\" size=\"sm\" icon={<FaSync />} onClick={loadTopUsers}>\r\n            Refresh\r\n          </Button>\r\n        </div>\r\n\r\n        <p className=\"text-gray-400 text-sm mb-4\">Top users by active connections</p>\r\n\r\n        {topUsers.length === 0 ? (\r\n          <p className=\"text-gray-400 text-center py-8\">No active sessions</p>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-sm\">\r\n              <thead>\r\n                <tr className=\"border-b border-gray-600 text-gray-400\">\r\n                  <th className=\"text-left py-3 px-2\">User</th>\r\n                  <th className=\"text-left py-3 px-2\">Active Sessions</th>\r\n                  <th className=\"text-left py-3 px-2\">Total Data</th>\r\n                  <th className=\"text-left py-3 px-2\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {topUsers.map((u) => (\r\n                  <tr key={u.id || u.user_id} className=\"border-b border-gray-700 hover:bg-white/5\">\r\n                    <td className=\"py-3 px-2 text-white flex items-center gap-2\">\r\n                      <FaUser className=\"text-gray-400\" />\r\n                      {u.email || u.user_id}\r\n                    </td>\r\n                    <td className=\"py-3 px-2\">\r\n                      <span className=\"px-2 py-1 rounded text-xs font-bold bg-blue-500/20 text-blue-300\">\r\n                        {u.active_connections || u.session_count || 0}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"py-3 px-2 text-gray-300\">{u.total_data || ''}</td>\r\n                    <td className=\"py-3 px-2 space-x-2\">\r\n                      <button onClick={() => loadUserSessions(u.id || u.user_id)}\r\n                        className=\"text-xs text-blue-400 hover:text-blue-300\">View</button>\r\n                      <button onClick={() => handleDisconnectAll(u.id || u.user_id)}\r\n                        className=\"text-xs text-red-400 hover:text-red-300\">Disconnect All</button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      {/* User Sessions Detail */}\r\n      {selectedUser && (\r\n        <Card className=\"p-6\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h3 className=\"text-lg font-bold text-white\">Sessions  {selectedUser}</h3>\r\n            <button onClick={() => setSelectedUser(null)} className=\"text-gray-400 hover:text-white\"></button>\r\n          </div>\r\n          {sessions.length === 0 ? (\r\n            <p className=\"text-gray-400 text-sm\">No active sessions</p>\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full text-sm\">\r\n                <thead>\r\n                  <tr className=\"border-b border-gray-600 text-gray-400\">\r\n                    <th className=\"text-left py-2 px-2\">Server</th>\r\n                    <th className=\"text-left py-2 px-2\">Protocol</th>\r\n                    <th className=\"text-left py-2 px-2\">Connected</th>\r\n                    <th className=\"text-left py-2 px-2\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {sessions.map((s) => (\r\n                    <tr key={s.id} className=\"border-b border-gray-700\">\r\n                      <td className=\"py-2 px-2 text-white\">{s.server_name || s.server_id || ''}</td>\r\n                      <td className=\"py-2 px-2\">\r\n                        <span className=\"px-2 py-0.5 bg-blue-500/20 text-blue-300 rounded text-xs\">{s.protocol || ''}</span>\r\n                      </td>\r\n                      <td className=\"py-2 px-2 text-gray-300 text-xs\">\r\n                        {s.connected_at ? new Date(s.connected_at).toLocaleString() : ''}\r\n                      </td>\r\n                      <td className=\"py-2 px-2\">\r\n                        <button onClick={() => handleDisconnectOne(s.id)}\r\n                          className=\"text-xs text-red-400 hover:text-red-300 flex items-center gap-1\">\r\n                          <FaSignOutAlt /> Kill\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SessionControl;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaSync, FaBalanceScale, FaServer } from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport { apiService } from '../../services/api';\r\n\r\nconst LoadBalancer = () => {\r\n  const [distribution, setDistribution] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editingWeight, setEditingWeight] = useState(null);\r\n  const [weightValue, setWeightValue] = useState('');\r\n\r\n  useEffect(() => {\r\n    loadDistribution();\r\n    const interval = setInterval(loadDistribution, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const loadDistribution = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiService.getLoadDistribution();\r\n      setDistribution(res.data?.servers || res.data || []);\r\n    } catch (err) {\r\n      console.error('Failed to load distribution:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveWeight = async (serverId) => {\r\n    try {\r\n      await apiService.setServerWeight(serverId, parseFloat(weightValue));\r\n      setEditingWeight(null);\r\n      loadDistribution();\r\n    } catch (err) {\r\n      console.error('Failed to update weight:', err);\r\n    }\r\n  };\r\n\r\n  if (loading && distribution.length === 0) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"spinner\"></div>\r\n        <span className=\"ml-3 text-white\">Loading load data...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-white flex items-center\">\r\n            <FaBalanceScale className=\"mr-3 text-indigo-400\" />\r\n            Load Balancer\r\n          </h2>\r\n          <Button variant=\"outline\" size=\"sm\" icon={<FaSync />} onClick={loadDistribution}>\r\n            Refresh\r\n          </Button>\r\n        </div>\r\n\r\n        {distribution.length === 0 ? (\r\n          <p className=\"text-gray-400 text-center py-8\">No load distribution data</p>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-sm\">\r\n              <thead>\r\n                <tr className=\"border-b border-gray-600 text-gray-400\">\r\n                  <th className=\"text-left py-3 px-2\">Server</th>\r\n                  <th className=\"text-left py-3 px-2\">Status</th>\r\n                  <th className=\"text-left py-3 px-2\">Connections</th>\r\n                  <th className=\"text-left py-3 px-2\">Load %</th>\r\n                  <th className=\"text-left py-3 px-2\">Weight</th>\r\n                  <th className=\"text-left py-3 px-2\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {distribution.map((s) => {\r\n                  const loadPct = s.load_percent || s.current_load || 0;\r\n                  return (\r\n                    <tr key={s.id || s.server_id} className=\"border-b border-gray-700 hover:bg-white/5\">\r\n                      <td className=\"py-3 px-2 text-white flex items-center gap-2\">\r\n                        <FaServer className=\"text-gray-400\" />\r\n                        {s.name || s.server_name || s.server_id}\r\n                      </td>\r\n                      <td className=\"py-3 px-2\">\r\n                        <span className={`px-2 py-1 rounded text-xs font-bold ${\r\n                          s.status === 'online' ? 'bg-green-500/20 text-green-300' :\r\n                          s.status === 'maintenance' ? 'bg-yellow-500/20 text-yellow-300' :\r\n                          'bg-red-500/20 text-red-300'\r\n                        }`}>\r\n                          {s.status || ''}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"py-3 px-2 text-gray-300\">\r\n                        {s.active_connections || 0} / {s.max_connections || s.capacity || ''}\r\n                      </td>\r\n                      <td className=\"py-3 px-2\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <div className=\"w-24 bg-gray-700 rounded-full h-2\">\r\n                            <div\r\n                              className={`h-2 rounded-full ${\r\n                                loadPct > 80 ? 'bg-red-500' : loadPct > 50 ? 'bg-yellow-500' : 'bg-green-500'\r\n                              }`}\r\n                              style={{ width: `${Math.min(loadPct, 100)}%` }}\r\n                            />\r\n                          </div>\r\n                          <span className=\"text-gray-300 text-xs\">{Math.round(loadPct)}%</span>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"py-3 px-2\">\r\n                        {editingWeight === (s.id || s.server_id) ? (\r\n                          <div className=\"flex gap-1\">\r\n                            <input\r\n                              type=\"number\"\r\n                              value={weightValue}\r\n                              onChange={(e) => setWeightValue(e.target.value)}\r\n                              className=\"w-16 px-2 py-1 rounded bg-gray-600 text-white text-xs border border-gray-500\"\r\n                              step=\"0.1\"\r\n                              min=\"0\"\r\n                              max=\"10\"\r\n                            />\r\n                            <button onClick={() => handleSaveWeight(s.id || s.server_id)}\r\n                              className=\"text-xs text-green-400 hover:text-green-300\">Save</button>\r\n                            <button onClick={() => setEditingWeight(null)}\r\n                              className=\"text-xs text-gray-400 hover:text-gray-300\"></button>\r\n                          </div>\r\n                        ) : (\r\n                          <span className=\"text-gray-300\">{s.weight || 1.0}</span>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"py-3 px-2\">\r\n                        <button\r\n                          onClick={() => {\r\n                            setEditingWeight(s.id || s.server_id);\r\n                            setWeightValue(String(s.weight || 1.0));\r\n                          }}\r\n                          className=\"text-xs text-blue-400 hover:text-blue-300\"\r\n                        >\r\n                          Edit Weight\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadBalancer;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaSync, FaTachometerAlt } from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport { apiService } from '../../services/api';\r\n\r\nconst QoSManagement = () => {\r\n  const [config, setConfig] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState(null);\r\n  const [editForm, setEditForm] = useState({});\r\n  const [message, setMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadConfig();\r\n  }, []);\r\n\r\n  const loadConfig = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await apiService.getQoSConfig();\r\n      const data = res.data?.config || res.data || [];\r\n      setConfig(Array.isArray(data) ? data : Object.entries(data).map(([tier, cfg]) => ({ tier, ...cfg })));\r\n    } catch (err) {\r\n      console.error('Failed to load QoS config:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (tier) => {\r\n    const cfg = config.find(c => c.tier === tier) || {};\r\n    setEditForm({\r\n      max_download_mbps: cfg.max_download_mbps || '',\r\n      max_upload_mbps: cfg.max_upload_mbps || '',\r\n      max_daily_gb: cfg.max_daily_gb || '',\r\n      max_monthly_gb: cfg.max_monthly_gb || '',\r\n      priority: cfg.priority || '',\r\n    });\r\n    setEditing(tier);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      await apiService.updateQoSConfig(editing, editForm);\r\n      setEditing(null);\r\n      setMessage({ type: 'success', text: `QoS updated for ${editing} tier` });\r\n      loadConfig();\r\n      setTimeout(() => setMessage(null), 3000);\r\n    } catch (err) {\r\n      setMessage({ type: 'error', text: 'Failed to update QoS config' });\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"spinner\"></div>\r\n        <span className=\"ml-3 text-white\">Loading QoS...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-white flex items-center\">\r\n            <FaTachometerAlt className=\"mr-3 text-cyan-400\" />\r\n            QoS Management\r\n          </h2>\r\n          <Button variant=\"outline\" size=\"sm\" icon={<FaSync />} onClick={loadConfig}>\r\n            Refresh\r\n          </Button>\r\n        </div>\r\n\r\n        {message && (\r\n          <div className={`p-3 rounded-lg mb-4 text-sm ${message.type === 'success' ? 'bg-green-500/20 text-green-300' : 'bg-red-500/20 text-red-300'}`}>\r\n            {message.text}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid md:grid-cols-3 gap-6\">\r\n          {['free', 'paid', 'admin'].map((tier) => {\r\n            const cfg = config.find(c => c.tier === tier) || {};\r\n            const isEditing = editing === tier;\r\n            return (\r\n              <Card key={tier} className=\"p-5 bg-gradient-to-br from-gray-700/50 to-gray-800/50\">\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                  <h3 className=\"text-lg font-bold text-white capitalize\">{tier} Tier</h3>\r\n                  {!isEditing && (\r\n                    <button onClick={() => handleEdit(tier)}\r\n                      className=\"text-xs text-blue-400 hover:text-blue-300\">Edit</button>\r\n                  )}\r\n                </div>\r\n\r\n                {isEditing ? (\r\n                  <div className=\"space-y-3\">\r\n                    {[\r\n                      { key: 'max_download_mbps', label: 'Max Download (Mbps)' },\r\n                      { key: 'max_upload_mbps', label: 'Max Upload (Mbps)' },\r\n                      { key: 'max_daily_gb', label: 'Max Daily (GB)' },\r\n                      { key: 'max_monthly_gb', label: 'Max Monthly (GB)' },\r\n                      { key: 'priority', label: 'Priority (1-10)' },\r\n                    ].map(({ key, label }) => (\r\n                      <div key={key}>\r\n                        <label className=\"text-gray-400 text-xs\">{label}</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={editForm[key]}\r\n                          onChange={(e) => setEditForm({ ...editForm, [key]: e.target.value })}\r\n                          className=\"w-full mt-1 px-3 py-2 rounded bg-gray-600 text-white text-sm border border-gray-500\"\r\n                        />\r\n                      </div>\r\n                    ))}\r\n                    <div className=\"flex gap-2 pt-2\">\r\n                      <button onClick={handleSave}\r\n                        className=\"px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded text-sm\">Save</button>\r\n                      <button onClick={() => setEditing(null)}\r\n                        className=\"px-3 py-1.5 bg-gray-600 hover:bg-gray-700 text-white rounded text-sm\">Cancel</button>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span className=\"text-gray-400\">Download</span>\r\n                      <span className=\"text-white\">{cfg.max_download_mbps || ''} Mbps</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span className=\"text-gray-400\">Upload</span>\r\n                      <span className=\"text-white\">{cfg.max_upload_mbps || ''} Mbps</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span className=\"text-gray-400\">Daily Limit</span>\r\n                      <span className=\"text-white\">{cfg.max_daily_gb || ''} GB</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span className=\"text-gray-400\">Monthly Limit</span>\r\n                      <span className=\"text-white\">{cfg.max_monthly_gb || ''} GB</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span className=\"text-gray-400\">Priority</span>\r\n                      <span className=\"text-white\">{cfg.priority || ''}</span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </Card>\r\n            );\r\n          })}\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QoSManagement;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaSync, FaLock, FaUserShield, FaDownload } from 'react-icons/fa';\r\nimport Card from '../common/Card';\r\nimport Button from '../common/Button';\r\nimport { apiService } from '../../services/api';\r\n\r\nconst GDPRCompliance = () => {\r\n  const [exportRequests, setExportRequests] = useState([]);\r\n  const [consentStats, setConsentStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [tab, setTab] = useState('exports');\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [exportsRes, consentRes] = await Promise.all([\r\n        apiService.getGdprExportRequests().catch(() => ({ data: { requests: [] } })),\r\n        apiService.getConsentAnalytics().catch(() => ({ data: {} })),\r\n      ]);\r\n      setExportRequests(exportsRes.data?.requests || exportsRes.data || []);\r\n      setConsentStats(consentRes.data);\r\n    } catch (err) {\r\n      console.error('Failed to load GDPR data:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"spinner\"></div>\r\n        <span className=\"ml-3 text-white\">Loading GDPR data...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-white flex items-center\">\r\n            <FaLock className=\"mr-3 text-emerald-400\" />\r\n            GDPR & Privacy Compliance\r\n          </h2>\r\n          <Button variant=\"outline\" size=\"sm\" icon={<FaSync />} onClick={loadData}>\r\n            Refresh\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex gap-2 mb-6\">\r\n          {[\r\n            { id: 'exports', label: 'Data Export Requests', icon: FaDownload },\r\n            { id: 'consent', label: 'Consent Analytics', icon: FaUserShield },\r\n          ].map((t) => (\r\n            <button\r\n              key={t.id}\r\n              onClick={() => setTab(t.id)}\r\n              className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm transition ${\r\n                tab === t.id ? 'bg-blue-600 text-white' : 'text-gray-400 hover:bg-gray-700 hover:text-white'\r\n              }`}\r\n            >\r\n              <t.icon size={14} /> {t.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Data Export Requests */}\r\n        {tab === 'exports' && (\r\n          <div>\r\n            {Array.isArray(exportRequests) && exportRequests.length > 0 ? (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-sm\">\r\n                  <thead>\r\n                    <tr className=\"border-b border-gray-600 text-gray-400\">\r\n                      <th className=\"text-left py-3 px-2\">User</th>\r\n                      <th className=\"text-left py-3 px-2\">Status</th>\r\n                      <th className=\"text-left py-3 px-2\">Requested</th>\r\n                      <th className=\"text-left py-3 px-2\">Completed</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {exportRequests.map((r, i) => (\r\n                      <tr key={r.id || i} className=\"border-b border-gray-700\">\r\n                        <td className=\"py-3 px-2 text-white\">{r.email || r.user_id || ''}</td>\r\n                        <td className=\"py-3 px-2\">\r\n                          <span className={`px-2 py-1 rounded text-xs font-bold ${\r\n                            r.status === 'completed' ? 'bg-green-500/20 text-green-300' :\r\n                            r.status === 'pending' ? 'bg-yellow-500/20 text-yellow-300' :\r\n                            'bg-gray-500/20 text-gray-300'\r\n                          }`}>\r\n                            {r.status || ''}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"py-3 px-2 text-gray-400 text-xs\">\r\n                          {r.created_at ? new Date(r.created_at).toLocaleString() : ''}\r\n                        </td>\r\n                        <td className=\"py-3 px-2 text-gray-400 text-xs\">\r\n                          {r.completed_at ? new Date(r.completed_at).toLocaleString() : ''}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-gray-400 text-center py-8\">No data export requests</p>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Consent Analytics */}\r\n        {tab === 'consent' && consentStats && (\r\n          <div className=\"grid md:grid-cols-3 gap-6\">\r\n            <Card className=\"p-5 bg-gradient-to-br from-green-600/20 to-green-800/20 border border-green-500/20\">\r\n              <p className=\"text-green-200 text-sm mb-1\">Consented Users</p>\r\n              <p className=\"text-white text-3xl font-bold\">{consentStats.consented || consentStats.total_consented || 0}</p>\r\n            </Card>\r\n            <Card className=\"p-5 bg-gradient-to-br from-red-600/20 to-red-800/20 border border-red-500/20\">\r\n              <p className=\"text-red-200 text-sm mb-1\">Declined / Withdrawn</p>\r\n              <p className=\"text-white text-3xl font-bold\">{consentStats.declined || consentStats.total_declined || 0}</p>\r\n            </Card>\r\n            <Card className=\"p-5 bg-gradient-to-br from-blue-600/20 to-blue-800/20 border border-blue-500/20\">\r\n              <p className=\"text-blue-200 text-sm mb-1\">Pending</p>\r\n              <p className=\"text-white text-3xl font-bold\">{consentStats.pending || consentStats.total_pending || 0}</p>\r\n            </Card>\r\n          </div>\r\n        )}\r\n        {tab === 'consent' && !consentStats && (\r\n          <p className=\"text-gray-400 text-center py-8\">No consent data available</p>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GDPRCompliance;\r\n","import React, { useState, useEffect, useCallback, useRef, lazy, Suspense } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport {\r\n  FaUsers,\r\n  FaServer,\r\n  FaChartLine,\r\n  FaCog,\r\n  FaSignOutAlt,\r\n  FaUserShield,\r\n  FaNetworkWired,\r\n  FaDollarSign,\r\n  FaExclamationTriangle,\r\n  FaCrown,\r\n  FaDatabase,\r\n  FaTicketAlt,\r\n  FaHistory,\r\n  FaGlobe,\r\n  FaHeartbeat,\r\n  FaEnvelope,\r\n  FaBullhorn,\r\n  FaChartBar,\r\n  FaShieldAlt,\r\n  FaPlug,\r\n  FaBalanceScale,\r\n  FaTachometerAlt,\r\n  FaLock,\r\n  FaChevronDown,\r\n  FaChevronRight,\r\n  FaBars,\r\n} from 'react-icons/fa';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport { apiService } from '../services/api';\r\nimport Card from '../components/common/Card';\r\nimport Button from '../components/common/Button';\r\nimport UserEditModal from '../components/admin/modals/UserEditModal';\r\nimport ServerModal from '../components/admin/modals/ServerModal';\r\nimport DeleteConfirmModal from '../components/admin/modals/DeleteConfirmModal';\r\nimport PaymentManagement from '../components/admin/PaymentManagement';\r\nimport SystemSettings from '../components/admin/SystemSettings';\r\nimport TicketManagement from '../components/admin/TicketManagement';\r\nimport ContactMessages from '../components/admin/ContactMessages';\r\nimport ErrorTracking from '../components/admin/ErrorTracking';\r\nimport DiscountCampaignManager from '../components/admin/DiscountCampaignManager';\r\nimport AuditTrail from '../components/admin/AuditTrail';\r\nimport GeoAnalytics from '../components/admin/GeoAnalytics';\r\nimport EmailTemplateManager from '../components/admin/EmailTemplateManager';\r\nimport AnnouncementManager from '../components/admin/AnnouncementManager';\r\nimport UserDetailModal from '../components/admin/UserDetailModal';\r\nimport IPDeviceBanManager from '../components/admin/IPDeviceBanManager';\r\nimport VPSMetrics from '../components/admin/VPSMetrics';\r\nimport AlertManager from '../components/admin/AlertManager';\r\nimport ServerCommandCenter from '../components/admin/ServerCommandCenter';\r\nimport SegmentAnalytics from '../components/admin/SegmentAnalytics';\r\nimport AbuseDetection from '../components/admin/AbuseDetection';\r\nimport SessionControl from '../components/admin/SessionControl';\r\nimport LoadBalancer from '../components/admin/LoadBalancer';\r\nimport QoSManagement from '../components/admin/QoSManagement';\r\nimport GDPRCompliance from '../components/admin/GDPRCompliance';\r\nimport useDocumentTitle from '../hooks/useDocumentTitle';\r\nimport useConfirm from '../hooks/useConfirm';\r\nimport ConfirmDialog from '../components/common/ConfirmDialog';\r\n\r\n// Lazy-load recharts-heavy components  only fetched when these tabs are active (~450KB savings)\r\nconst RevenueDashboard = lazy(() => import('../components/admin/RevenueDashboard'));\r\nconst RevenueForecasting = lazy(() => import('../components/admin/RevenueForecasting'));\r\n\r\nconst ChartFallback = () => (\r\n  <div className=\"flex items-center justify-center py-20\">\r\n    <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500\"></div>\r\n    <span className=\"ml-3 text-gray-400\">Loading charts...</span>\r\n  </div>\r\n);\r\n\r\nconst AdminDashboard = () => {\r\n  useDocumentTitle('Admin Dashboard');\r\n  const navigate = useNavigate();\r\n  const { user, logout } = useAuth();\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  \r\n  const sidebarGroups = [\r\n    { id: 'dashboard', label: 'Dashboard', icon: FaChartLine, items: [\r\n      { id: 'overview', name: 'Overview', icon: FaChartLine },\r\n    ]},\r\n    { id: 'user-mgmt', label: 'User Management', icon: FaUsers, items: [\r\n      { id: 'users', name: 'Users', icon: FaUsers },\r\n      { id: 'sessions', name: 'Session Control', icon: FaPlug },\r\n      { id: 'abuse', name: 'Abuse Detection', icon: FaShieldAlt },\r\n    ]},\r\n    { id: 'servers', label: 'Servers & Network', icon: FaServer, items: [\r\n      { id: 'servers', name: 'Command Center', icon: FaServer },\r\n      { id: 'connections', name: 'Connections', icon: FaNetworkWired },\r\n      { id: 'vps', name: 'VPS Metrics', icon: FaDatabase },\r\n      { id: 'loadbalancer', name: 'Load Balancer', icon: FaBalanceScale },\r\n      { id: 'qos', name: 'QoS', icon: FaTachometerAlt },\r\n    ]},\r\n    { id: 'financial', label: 'Financial', icon: FaDollarSign, items: [\r\n      { id: 'payments', name: 'Payments', icon: FaDollarSign },\r\n      { id: 'revenue', name: 'Revenue', icon: FaChartLine },\r\n      { id: 'forecasting', name: 'Forecasting', icon: FaChartBar },\r\n      { id: 'discounts', name: 'Discounts', icon: FaDollarSign },\r\n    ]},\r\n    { id: 'communication', label: 'Communication', icon: FaEnvelope, items: [\r\n      { id: 'tickets', name: 'Support Tickets', icon: FaTicketAlt },\r\n      { id: 'contact', name: 'Messages', icon: FaEnvelope },\r\n      { id: 'emails', name: 'Email Templates', icon: FaEnvelope },\r\n      { id: 'announcements', name: 'Announcements', icon: FaBullhorn },\r\n    ]},\r\n    { id: 'monitoring', label: 'Monitoring', icon: FaHeartbeat, items: [\r\n      { id: 'errors', name: 'Errors', icon: FaExclamationTriangle },\r\n      { id: 'alerts', name: 'Alerts', icon: FaExclamationTriangle },\r\n      { id: 'audit', name: 'Audit Trail', icon: FaHistory },\r\n    ]},\r\n    { id: 'analytics', label: 'Analytics', icon: FaGlobe, items: [\r\n      { id: 'geo', name: 'Geo Analytics', icon: FaGlobe },\r\n      { id: 'segments', name: 'Segments', icon: FaChartBar },\r\n    ]},\r\n    { id: 'security', label: 'Security', icon: FaShieldAlt, items: [\r\n      { id: 'bans', name: 'IP/Device Bans', icon: FaUserShield },\r\n      { id: 'gdpr', name: 'GDPR', icon: FaLock },\r\n    ]},\r\n    { id: 'settings', label: 'Settings', icon: FaCog, items: [\r\n      { id: 'system', name: 'System Settings', icon: FaCog },\r\n    ]},\r\n  ];\r\n  const [expandedGroups, setExpandedGroups] = useState(['dashboard']);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  const toggleGroup = (groupId) => {\r\n    setExpandedGroups(prev =>\r\n      prev.includes(groupId) ? prev.filter(id => id !== groupId) : [...prev, groupId]\r\n    );\r\n  };\r\n  const { confirm: confirmDialog, dialogProps: logoutDialogProps } = useConfirm();\r\n  const [analytics, setAnalytics] = useState(null);\r\n  const [users, setUsers] = useState([]);\r\n  const [connections, setConnections] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [editUserModal, setEditUserModal] = useState({ isOpen: false, user: null });\r\n  const [serverModal, setServerModal] = useState({ isOpen: false, server: null });\r\n  const [deleteModal, setDeleteModal] = useState({ isOpen: false, type: null, item: null, onConfirm: null });\r\n  const [createUserModal, setCreateUserModal] = useState(false);\r\n  const [userDetailModal, setUserDetailModal] = useState({ isOpen: false, userId: null });\r\n  const [newUserData, setNewUserData] = useState({ email: '', password: '', tier: 'free' });\r\n  const [createUserError, setCreateUserError] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Load admin data\r\n    loadData();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [analyticsRes, usersRes, connectionsRes] = await Promise.all([\r\n        apiService.getAnalytics(),\r\n        apiService.getUsers(),\r\n        apiService.getConnections(),\r\n      ]);\r\n\r\n      setAnalytics(analyticsRes.data || {});\r\n      setUsers(usersRes.data || []);\r\n      setConnections(connectionsRes.data || []);\r\n    } catch (err) {\r\n      setError('Failed to load admin data');\r\n      console.error('Admin data load error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Auto-expand sidebar group when active tab changes\r\n  useEffect(() => {\r\n    const group = sidebarGroups.find(g => g.items.some(i => i.id === activeTab));\r\n    if (group && !expandedGroups.includes(group.id)) {\r\n      setExpandedGroups(prev => [...prev, group.id]);\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [activeTab]);\r\n\r\n  const handleLogout = async () => {\r\n    const ok = await confirmDialog({\r\n      title: 'Logout',\r\n      message: 'Are you sure you want to logout from the admin panel?',\r\n      confirmText: 'Logout',\r\n      variant: 'warning'\r\n    });\r\n    if (!ok) return;\r\n    await logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-white text-center\">\r\n          <div className=\"spinner mx-auto mb-4\"></div>\r\n          <div className=\"text-2xl\">Loading Admin Panel...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex flex-col\">\r\n      {/* Top Navigation */}\r\n      <nav className=\"bg-black/50 backdrop-blur-md border-b border-white/10 flex-shrink-0\">\r\n        <div className=\"px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center h-14\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <button onClick={() => setSidebarOpen(!sidebarOpen)} className=\"md:hidden text-gray-300 hover:text-white p-1\">\r\n                <FaBars className=\"text-lg\" />\r\n              </button>\r\n              <FaUserShield className=\"text-yellow-400 text-xl\" />\r\n              <h1 className=\"text-white text-lg font-bold\">Admin Panel</h1>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <Link to=\"/dashboard\" className=\"text-gray-300 hover:text-white transition text-sm\">User View</Link>\r\n              <span className=\"text-gray-400 text-sm hidden sm:inline\">{user?.email}</span>\r\n              <button onClick={handleLogout} className=\"text-gray-300 hover:text-red-400 transition\" title=\"Logout\">\r\n                <FaSignOutAlt />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Main Layout */}\r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        {/* Sidebar */}\r\n        <aside className={`${sidebarOpen ? 'translate-x-0' : '-translate-x-full'} md:translate-x-0 fixed md:relative z-30 md:z-auto w-56 h-[calc(100vh-56px)] bg-gray-900 md:bg-transparent border-r border-white/10 overflow-y-auto transition-transform duration-200 flex-shrink-0`}>\r\n          <nav className=\"py-2\">\r\n            {sidebarGroups.map((group) => {\r\n              const isExpanded = expandedGroups.includes(group.id);\r\n              const isGroupActive = group.items.some(item => item.id === activeTab);\r\n              return (\r\n                <div key={group.id} className=\"mb-0.5\">\r\n                  <button\r\n                    onClick={() => { if (group.items.length === 1) { setActiveTab(group.items[0].id); setSidebarOpen(false); } else { toggleGroup(group.id); } }}\r\n                    className={`w-full flex items-center justify-between px-4 py-2 text-xs font-semibold uppercase tracking-wider transition ${isGroupActive ? 'text-blue-400' : 'text-gray-500 hover:text-gray-300'}`}\r\n                  >\r\n                    <span className=\"flex items-center\"><group.icon className=\"mr-2 text-sm\" />{group.label}</span>\r\n                    {group.items.length > 1 && (isExpanded ? <FaChevronDown className=\"text-[10px]\" /> : <FaChevronRight className=\"text-[10px]\" />)}\r\n                  </button>\r\n                  {(isExpanded || group.items.length === 1) && (\r\n                    <div className={group.items.length > 1 ? 'border-l border-white/5 ml-6' : ''}>\r\n                      {group.items.map((item) => (\r\n                        <button key={item.id} onClick={() => { setActiveTab(item.id); setSidebarOpen(false); }}\r\n                          className={`w-full flex items-center px-4 py-1.5 text-sm transition ${activeTab === item.id ? 'text-white bg-blue-600/20 border-r-2 border-blue-500' : 'text-gray-400 hover:text-white hover:bg-white/5'}`}>\r\n                          <item.icon className=\"mr-2 text-xs opacity-75\" />{item.name}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </nav>\r\n        </aside>\r\n        {sidebarOpen && <div className=\"md:hidden fixed inset-0 bg-black/50 z-20\" onClick={() => setSidebarOpen(false)} />}\r\n\r\n        {/* Content Area */}\r\n        <main className=\"flex-1 overflow-y-auto\">\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n            {activeTab === 'overview' && <OverviewTab analytics={analytics} onNavigate={setActiveTab} />}\r\n            {activeTab === 'users' && <UsersTab users={users} onRefresh={loadData} onEdit={(user) => setEditUserModal({ isOpen: true, user })} onDelete={(user) => setDeleteModal({ isOpen: true, type: 'user', item: user, onConfirm: () => handleDeleteUser(user.id) })} onCreateUser={() => setCreateUserModal(true)} onViewUser={(user) => setUserDetailModal({ isOpen: true, userId: user.id })} />}\r\n            {activeTab === 'connections' && <ConnectionsTab connections={connections} onRefresh={loadData} onDisconnect={(conn) => handleDisconnect(conn.id)} />}\r\n            {activeTab === 'servers' && <ServerCommandCenter onOpenServerModal={(server) => setServerModal({ isOpen: true, server: server || null })} onDeleteServer={(server) => setDeleteModal({ isOpen: true, type: 'server', item: server, onConfirm: () => handleDeleteServer(server.id) })} onRefreshParent={loadData} />}\r\n            {activeTab === 'tickets' && <TicketManagement />}\r\n            {activeTab === 'payments' && <PaymentManagement />}\r\n            {activeTab === 'contact' && <ContactMessages />}\r\n            {activeTab === 'errors' && <ErrorTracking />}\r\n            {activeTab === 'discounts' && <DiscountCampaignManager />}\r\n            {activeTab === 'system' && <SystemSettings />}\r\n            {activeTab === 'emails' && <EmailTemplateManager />}\r\n            {activeTab === 'announcements' && <AnnouncementManager />}\r\n            {activeTab === 'audit' && <AuditTrail />}\r\n            {activeTab === 'revenue' && <Suspense fallback={<ChartFallback />}><RevenueDashboard /></Suspense>}\r\n            {activeTab === 'vps' && <VPSMetrics />}\r\n            {activeTab === 'alerts' && <AlertManager />}\r\n            {activeTab === 'bans' && <IPDeviceBanManager />}\r\n            {activeTab === 'geo' && <GeoAnalytics />}\r\n            {activeTab === 'segments' && <SegmentAnalytics />}\r\n            {activeTab === 'abuse' && <AbuseDetection />}\r\n            {activeTab === 'sessions' && <SessionControl />}\r\n            {activeTab === 'loadbalancer' && <LoadBalancer />}\r\n            {activeTab === 'qos' && <QoSManagement />}\r\n            {activeTab === 'gdpr' && <GDPRCompliance />}\r\n            {activeTab === 'forecasting' && <Suspense fallback={<ChartFallback />}><RevenueForecasting /></Suspense>}\r\n          </div>\r\n        </main>\r\n      </div>\r\n\r\n      {/* Modals */}\r\n      <UserEditModal\r\n        isOpen={editUserModal.isOpen}\r\n        onClose={() => setEditUserModal({ isOpen: false, user: null })}\r\n        user={editUserModal.user}\r\n        onSuccess={loadData}\r\n      />\r\n      <ServerModal\r\n        isOpen={serverModal.isOpen}\r\n        onClose={() => setServerModal({ isOpen: false, server: null })}\r\n        server={serverModal.server}\r\n        onSuccess={loadData}\r\n      />\r\n      <DeleteConfirmModal\r\n        isOpen={deleteModal.isOpen}\r\n        onClose={() => setDeleteModal({ isOpen: false, type: null, item: null, onConfirm: null })}\r\n        type={deleteModal.type}\r\n        itemName={deleteModal.item?.email || deleteModal.item?.name}\r\n        onConfirm={deleteModal.onConfirm}\r\n      />\r\n      <UserDetailModal\r\n        isOpen={userDetailModal.isOpen}\r\n        onClose={() => setUserDetailModal({ isOpen: false, userId: null })}\r\n        userId={userDetailModal.userId}\r\n        onRefresh={loadData}\r\n      />\r\n\r\n      {/* Create User Modal */}\r\n      {createUserModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50\">\r\n          <div className=\"bg-gray-800 rounded-xl p-6 w-full max-w-md\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4\">Create New User</h3>\r\n            {createUserError && <div className=\"mb-3 p-2 bg-red-500/20 text-red-300 rounded text-sm\">{createUserError}</div>}\r\n            <div className=\"space-y-3\">\r\n              <input type=\"email\" placeholder=\"Email\" value={newUserData.email}\r\n                onChange={(e) => setNewUserData({...newUserData, email: e.target.value})}\r\n                className=\"w-full px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\" />\r\n              <input type=\"password\" placeholder=\"Password\" value={newUserData.password}\r\n                onChange={(e) => setNewUserData({...newUserData, password: e.target.value})}\r\n                className=\"w-full px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\" />\r\n              <select value={newUserData.tier} onChange={(e) => setNewUserData({...newUserData, tier: e.target.value})}\r\n                className=\"w-full px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\">\r\n                <option value=\"free\">Free</option>\r\n                <option value=\"paid\">Premium</option>\r\n                <option value=\"admin\">Admin</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"flex gap-3 mt-6\">\r\n              <Button variant=\"outline\" fullWidth onClick={() => { setCreateUserModal(false); setCreateUserError(''); setNewUserData({ email: '', password: '', tier: 'free' }); }}>Cancel</Button>\r\n              <Button variant=\"primary\" fullWidth onClick={async () => {\r\n                try {\r\n                  setCreateUserError('');\r\n                  await apiService.createUser(newUserData);\r\n                  setCreateUserModal(false);\r\n                  setNewUserData({ email: '', password: '', tier: 'free' });\r\n                  loadData();\r\n                } catch (err) {\r\n                  setCreateUserError(err.response?.data?.error || 'Failed to create user');\r\n                }\r\n              }}>Create User</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n      <ConfirmDialog {...logoutDialogProps} />\r\n    </>\r\n  );\r\n\r\n  async function handleDeleteUser(userId) {\r\n    await apiService.deleteUser(userId);\r\n    loadData();\r\n  }\r\n\r\n  async function handleDeleteServer(serverId) {\r\n    await apiService.deleteServer(serverId);\r\n    loadData();\r\n  }\r\n\r\n  async function handleDisconnect(connectionId) {\r\n    await apiService.forceDisconnect(connectionId);\r\n    loadData();\r\n  }\r\n};\r\n\r\n// Overview Tab Component\r\nconst OverviewTab = ({ analytics, onNavigate }) => {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.1 }}>\r\n          <Card className=\"p-4 bg-gradient-to-br from-blue-600 to-blue-800\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-blue-200 text-xs\">Total Users</p>\r\n                <p className=\"text-white text-2xl font-bold\">{analytics?.totalUsers || 0}</p>\r\n              </div>\r\n              <FaUsers className=\"text-blue-200 text-3xl\" />\r\n            </div>\r\n          </Card>\r\n        </motion.div>\r\n        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 }}>\r\n          <Card className=\"p-4 bg-gradient-to-br from-green-600 to-green-800\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-green-200 text-xs\">Active Connections</p>\r\n                <p className=\"text-white text-2xl font-bold\">{analytics?.activeConnections || 0}</p>\r\n              </div>\r\n              <FaNetworkWired className=\"text-green-200 text-3xl\" />\r\n            </div>\r\n          </Card>\r\n        </motion.div>\r\n        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 }}>\r\n          <Card className=\"p-4 bg-gradient-to-br from-purple-600 to-purple-800\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-purple-200 text-xs\">Premium Users</p>\r\n                <p className=\"text-white text-2xl font-bold\">{analytics?.paidUsers || 0}</p>\r\n              </div>\r\n              <FaCrown className=\"text-purple-200 text-3xl\" />\r\n            </div>\r\n          </Card>\r\n        </motion.div>\r\n        <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.4 }}>\r\n          <Card className=\"p-4 bg-gradient-to-br from-yellow-600 to-yellow-800\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-yellow-200 text-xs\">Free Users</p>\r\n                <p className=\"text-white text-2xl font-bold\">{analytics?.freeUsers || 0}</p>\r\n              </div>\r\n              <FaUsers className=\"text-yellow-200 text-3xl\" />\r\n            </div>\r\n          </Card>\r\n        </motion.div>\r\n      </div>\r\n\r\n      <Card className=\"p-6\">\r\n        <h2 className=\"text-2xl font-bold text-white mb-4\">System Overview</h2>\r\n        <div className=\"grid md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-white mb-3\">User Statistics</h3>\r\n            <div className=\"space-y-2 text-gray-300\">\r\n              <div className=\"flex justify-between\">\r\n                <span>Total Users:</span>\r\n                <span className=\"font-bold text-white\">{analytics?.totalUsers || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Free Users:</span>\r\n                <span className=\"font-bold text-white\">{analytics?.freeUsers || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Premium Users:</span>\r\n                <span className=\"font-bold text-white\">{analytics?.paidUsers || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Conversion Rate:</span>\r\n                <span className=\"font-bold text-white\">\r\n                  {analytics?.totalUsers > 0\r\n                    ? ((analytics.paidUsers / analytics.totalUsers) * 100).toFixed(1)\r\n                    : 0}\r\n                  %\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-white mb-3\">Connection Statistics</h3>\r\n            <div className=\"space-y-2 text-gray-300\">\r\n              <div className=\"flex justify-between\">\r\n                <span>Active Connections:</span>\r\n                <span className=\"font-bold text-white\">{analytics?.activeConnections || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Server Capacity:</span>\r\n                <span className=\"font-bold text-white\">{analytics?.serverCapacity || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Utilization:</span>\r\n                <span className=\"font-bold text-white\">\r\n                  {analytics?.serverCapacity > 0\r\n                    ? ((analytics?.activeConnections || 0) / analytics.serverCapacity * 100).toFixed(1)\r\n                    : '0.0'}%\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      <Card className=\"p-6\">\r\n        <h2 className=\"text-2xl font-bold text-white mb-4\">Quick Actions</h2>\r\n        <div className=\"grid md:grid-cols-4 gap-4\">\r\n          <Button variant=\"primary\" icon={<FaUsers />} onClick={() => onNavigate('users')}>\r\n            Manage Users\r\n          </Button>\r\n          <Button variant=\"secondary\" icon={<FaServer />} onClick={() => onNavigate('servers')}>\r\n            Manage Servers\r\n          </Button>\r\n          <Button variant=\"outline\" icon={<FaDollarSign />} onClick={() => onNavigate('revenue')}>\r\n            Revenue\r\n          </Button>\r\n          <Button variant=\"outline\" icon={<FaExclamationTriangle />} onClick={() => onNavigate('alerts')}>\r\n            Alerts\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Users Tab Component\r\nconst UsersTab = ({ users, onRefresh, onEdit, onDelete, onCreateUser, onViewUser }) => {\r\n  const [filter, setFilter] = useState('all');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n  const [bulkAction, setBulkAction] = useState('');\r\n  const [bulkLoading, setBulkLoading] = useState(false);\r\n  const [bulkError, setBulkError] = useState(null);\r\n  const [exporting, setExporting] = useState(false);\r\n  const { confirm: confirmBulk, dialogProps: bulkDialogProps } = useConfirm();\r\n  const [page, setPage] = useState(1);\r\n  const perPage = 25;\r\n\r\n  // Auto-refresh every 30s\r\n  useEffect(() => {\r\n    const interval = setInterval(() => onRefresh(), 30000);\r\n    return () => clearInterval(interval);\r\n  }, [onRefresh]);\r\n\r\n  const handleExportCsv = async () => {\r\n    setExporting(true);\r\n    try {\r\n      const response = await apiService.exportUsersCsv();\r\n      const url = window.URL.createObjectURL(new Blob([response.data]));\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = 'users-export.csv';\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n    } catch { /* ignore */ }\r\n    setExporting(false);\r\n  };\r\n\r\n  const filteredUsers = users.filter((user) => {\r\n    const matchesFilter = filter === 'all' || user.tier === filter;\r\n    const matchesSearch = user.email.toLowerCase().includes(searchTerm.toLowerCase());\r\n    return matchesFilter && matchesSearch;\r\n  });\r\n\r\n  const totalPages = Math.ceil(filteredUsers.length / perPage);\r\n  const paginatedUsers = filteredUsers.slice((page - 1) * perPage, page * perPage);\r\n\r\n  const toggleSelectUser = (userId) => {\r\n    setSelectedUsers(prev => prev.includes(userId) ? prev.filter(id => id !== userId) : [...prev, userId]);\r\n  };\r\n\r\n  const toggleSelectAll = () => {\r\n    if (selectedUsers.length === filteredUsers.length) {\r\n      setSelectedUsers([]);\r\n    } else {\r\n      setSelectedUsers(filteredUsers.map(u => u.id));\r\n    }\r\n  };\r\n\r\n  const handleBulkAction = async () => {\r\n    if (!bulkAction || selectedUsers.length === 0) return;\r\n    const ok = await confirmBulk({\r\n      title: `Bulk ${bulkAction}`,\r\n      message: `Are you sure you want to ${bulkAction} ${selectedUsers.length} user(s)?`,\r\n      confirmText: bulkAction.charAt(0).toUpperCase() + bulkAction.slice(1),\r\n      variant: bulkAction === 'delete' ? 'danger' : 'warning',\r\n    });\r\n    if (!ok) return;\r\n    setBulkLoading(true);\r\n    setBulkError(null);\r\n    try {\r\n      await apiService.bulkUserAction(bulkAction, selectedUsers);\r\n      setSelectedUsers([]);\r\n      setBulkAction('');\r\n      onRefresh();\r\n    } catch (err) {\r\n      setBulkError('Bulk action failed: ' + (err.response?.data?.error || err.message));\r\n    } finally {\r\n      setBulkLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-2xl font-bold text-white\">User Management</h2>\r\n          <div className=\"flex gap-2\">\r\n            <Button variant=\"outline\" size=\"sm\" onClick={handleExportCsv} disabled={exporting}>\r\n              {exporting ? 'Exporting...' : 'Export CSV'}\r\n            </Button>\r\n            <Button variant=\"primary\" size=\"sm\" icon={<FaUsers />} onClick={onCreateUser}>\r\n              Add User\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bulk Actions Bar */}\r\n        {selectedUsers.length > 0 && (\r\n          <div className=\"flex items-center gap-3 mb-4 p-3 rounded-lg bg-blue-500 bg-opacity-20 border border-blue-400 border-opacity-30\">\r\n            <span className=\"text-blue-300 font-medium\">{selectedUsers.length} selected</span>\r\n            <select\r\n              value={bulkAction}\r\n              onChange={(e) => setBulkAction(e.target.value)}\r\n              className=\"px-3 py-1.5 rounded bg-white bg-opacity-10 border border-white border-opacity-20 text-white text-sm\"\r\n            >\r\n              <option value=\"\">Choose action...</option>\r\n              <option value=\"activate\">Activate</option>\r\n              <option value=\"suspend\">Suspend</option>\r\n              <option value=\"upgrade\">Upgrade to Premium</option>\r\n              <option value=\"downgrade\">Downgrade to Free</option>\r\n              <option value=\"delete\">Delete</option>\r\n            </select>\r\n            <button\r\n              onClick={handleBulkAction}\r\n              disabled={!bulkAction || bulkLoading}\r\n              className=\"px-4 py-1.5 rounded bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium disabled:opacity-50\"\r\n            >\r\n              {bulkLoading ? 'Processing...' : 'Apply'}\r\n            </button>\r\n            <button onClick={() => setSelectedUsers([])} className=\"text-gray-400 hover:text-white text-sm ml-auto\">\r\n              Clear Selection\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Bulk Error */}\r\n        {bulkError && (\r\n          <div className=\"mb-4 p-3 rounded-lg bg-red-500 bg-opacity-20 border border-red-400 text-red-300 text-sm\">\r\n            {bulkError}\r\n            <button onClick={() => setBulkError(null)} className=\"ml-2 text-red-400 hover:text-white\"></button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Filters */}\r\n        <div className=\"flex gap-4 mb-4\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by email...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"flex-1 px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          />\r\n          <select\r\n            value={filter}\r\n            onChange={(e) => setFilter(e.target.value)}\r\n            className=\"px-4 py-2 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            <option value=\"all\">All Users</option>\r\n            <option value=\"free\">Free</option>\r\n            <option value=\"paid\">Premium</option>\r\n            <option value=\"admin\">Admin</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Users Table */}\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead>\r\n              <tr className=\"border-b border-white border-opacity-20\">\r\n                <th className=\"text-left py-3 px-2 text-gray-300 w-10\">\r\n                  <input type=\"checkbox\" checked={selectedUsers.length === filteredUsers.length && filteredUsers.length > 0} onChange={toggleSelectAll} className=\"rounded\" />\r\n                </th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Email</th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Tier</th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Status</th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Created</th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Last Login</th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {paginatedUsers.map((user) => (\r\n                <tr key={user.id} className={`border-b border-white border-opacity-10 hover:bg-white hover:bg-opacity-5 ${selectedUsers.includes(user.id) ? 'bg-blue-500 bg-opacity-10' : ''}`}>\r\n                  <td className=\"py-3 px-2\">\r\n                    <input type=\"checkbox\" checked={selectedUsers.includes(user.id)} onChange={() => toggleSelectUser(user.id)} className=\"rounded\" />\r\n                  </td>\r\n                  <td className=\"py-3 px-4 text-white\">{user.email}</td>\r\n                  <td className=\"py-3 px-4\">\r\n                    <span\r\n                      className={`px-2 py-1 rounded-full text-xs font-semibold ${\r\n                        user.tier === 'paid'\r\n                          ? 'bg-purple-500 text-white'\r\n                          : user.tier === 'admin'\r\n                          ? 'bg-yellow-500 text-gray-900'\r\n                          : 'bg-gray-500 text-white'\r\n                      }`}\r\n                    >\r\n                      {user.tier}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"py-3 px-4\">\r\n                    <span\r\n                      className={`px-2 py-1 rounded-full text-xs font-semibold ${\r\n                        user.status === 'active'\r\n                          ? 'bg-green-500 text-white'\r\n                          : 'bg-red-500 text-white'\r\n                      }`}\r\n                    >\r\n                      {user.status}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"py-3 px-4 text-gray-300\">\r\n                    {new Date(user.created_at).toLocaleDateString()}\r\n                  </td>\r\n                  <td className=\"py-3 px-4 text-gray-300\">\r\n                    {user.last_login ? new Date(user.last_login).toLocaleDateString() : 'Never'}\r\n                  </td>\r\n                  <td className=\"py-3 px-4\">\r\n                    <button onClick={() => onViewUser(user)} className=\"text-green-400 hover:text-green-300 mr-3\" title=\"View Details\">View</button>\r\n                    <button onClick={() => onEdit(user)} className=\"text-blue-400 hover:text-blue-300 mr-3\">Edit</button>\r\n                    <button onClick={() => onDelete(user)} className=\"text-red-400 hover:text-red-300\">Delete</button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        {totalPages > 1 && (\r\n          <div className=\"flex items-center justify-between mt-4 pt-4 border-t border-white border-opacity-10\">\r\n            <span className=\"text-gray-400 text-sm\">\r\n              Showing {((page - 1) * perPage) + 1}{Math.min(page * perPage, filteredUsers.length)} of {filteredUsers.length}\r\n            </span>\r\n            <div className=\"flex gap-1\">\r\n              <button onClick={() => setPage(1)} disabled={page === 1} className=\"px-3 py-1.5 rounded text-sm bg-white/5 text-gray-300 hover:bg-white/10 disabled:opacity-30\">&laquo;</button>\r\n              <button onClick={() => setPage(p => Math.max(1, p - 1))} disabled={page === 1} className=\"px-3 py-1.5 rounded text-sm bg-white/5 text-gray-300 hover:bg-white/10 disabled:opacity-30\">&lsaquo;</button>\r\n              {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\r\n                const start = Math.max(1, Math.min(page - 2, totalPages - 4));\r\n                const p = start + i;\r\n                if (p > totalPages) return null;\r\n                return (\r\n                  <button key={p} onClick={() => setPage(p)} className={`px-3 py-1.5 rounded text-sm ${p === page ? 'bg-blue-600 text-white' : 'bg-white/5 text-gray-300 hover:bg-white/10'}`}>{p}</button>\r\n                );\r\n              })}\r\n              <button onClick={() => setPage(p => Math.min(totalPages, p + 1))} disabled={page === totalPages} className=\"px-3 py-1.5 rounded text-sm bg-white/5 text-gray-300 hover:bg-white/10 disabled:opacity-30\">&rsaquo;</button>\r\n              <button onClick={() => setPage(totalPages)} disabled={page === totalPages} className=\"px-3 py-1.5 rounded text-sm bg-white/5 text-gray-300 hover:bg-white/10 disabled:opacity-30\">&raquo;</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Card>\r\n      <ConfirmDialog {...bulkDialogProps} />\r\n    </div>\r\n  );\r\n};\r\n\r\n// Connections Tab Component\r\nconst ConnectionsTab = ({ connections, onRefresh, onDisconnect }) => {\r\n  const [connPage, setConnPage] = useState(1);\r\n  const connPerPage = 30;\r\n  const totalConnPages = Math.ceil(connections.length / connPerPage);\r\n  const paginatedConns = connections.slice((connPage - 1) * connPerPage, connPage * connPerPage);\r\n\r\n  // Auto-refresh every 30s\r\n  useEffect(() => {\r\n    const interval = setInterval(() => onRefresh(), 30000);\r\n    return () => clearInterval(interval);\r\n  }, [onRefresh]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-2xl font-bold text-white\">Active Connections ({connections.length})</h2>\r\n          <Button variant=\"outline\" size=\"sm\" onClick={onRefresh}>\r\n            Refresh\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead>\r\n              <tr className=\"border-b border-white border-opacity-20\">\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">User</th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Server</th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Protocol</th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Connected At</th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Duration</th>\r\n                <th className=\"text-left py-3 px-4 text-gray-300\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {paginatedConns.map((conn) => (\r\n                <tr key={conn.id} className=\"border-b border-white border-opacity-10 hover:bg-white hover:bg-opacity-5\">\r\n                  <td className=\"py-3 px-4 text-white\">{conn.email}</td>\r\n                  <td className=\"py-3 px-4 text-gray-300\">{conn.server_name}</td>\r\n                  <td className=\"py-3 px-4\">\r\n                    <span className=\"px-2 py-1 rounded-full text-xs font-semibold bg-blue-500 text-white\">\r\n                      {conn.protocol}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"py-3 px-4 text-gray-300\">\r\n                    {new Date(conn.connected_at).toLocaleString()}\r\n                  </td>\r\n                  <td className=\"py-3 px-4 text-gray-300\">\r\n                    {Math.floor((Date.now() - new Date(conn.connected_at)) / 60000)} min\r\n                  </td>\r\n                  <td className=\"py-3 px-4\">\r\n                    <button onClick={() => onDisconnect(conn)} className=\"text-red-400 hover:text-red-300\">Disconnect</button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        {totalConnPages > 1 && (\r\n          <div className=\"flex items-center justify-between mt-4 pt-4 border-t border-white border-opacity-10\">\r\n            <span className=\"text-gray-400 text-sm\">\r\n              Showing {((connPage - 1) * connPerPage) + 1}{Math.min(connPage * connPerPage, connections.length)} of {connections.length}\r\n            </span>\r\n            <div className=\"flex gap-1\">\r\n              <button onClick={() => setConnPage(1)} disabled={connPage === 1} className=\"px-3 py-1.5 rounded text-sm bg-white/5 text-gray-300 hover:bg-white/10 disabled:opacity-30\">&laquo;</button>\r\n              <button onClick={() => setConnPage(p => Math.max(1, p - 1))} disabled={connPage === 1} className=\"px-3 py-1.5 rounded text-sm bg-white/5 text-gray-300 hover:bg-white/10 disabled:opacity-30\">&lsaquo;</button>\r\n              {Array.from({ length: Math.min(5, totalConnPages) }, (_, i) => {\r\n                const start = Math.max(1, Math.min(connPage - 2, totalConnPages - 4));\r\n                const p = start + i;\r\n                if (p > totalConnPages) return null;\r\n                return (\r\n                  <button key={p} onClick={() => setConnPage(p)} className={`px-3 py-1.5 rounded text-sm ${p === connPage ? 'bg-blue-600 text-white' : 'bg-white/5 text-gray-300 hover:bg-white/10'}`}>{p}</button>\r\n                );\r\n              })}\r\n              <button onClick={() => setConnPage(p => Math.min(totalConnPages, p + 1))} disabled={connPage === totalConnPages} className=\"px-3 py-1.5 rounded text-sm bg-white/5 text-gray-300 hover:bg-white/10 disabled:opacity-30\">&rsaquo;</button>\r\n              <button onClick={() => setConnPage(totalConnPages)} disabled={connPage === totalConnPages} className=\"px-3 py-1.5 rounded text-sm bg-white/5 text-gray-300 hover:bg-white/10 disabled:opacity-30\">&raquo;</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import { useEffect } from 'react';\r\n\r\n/**\r\n * Sets the document title for the current page.\r\n * Resets to default title on unmount.\r\n * @param {string} title - Page-specific title\r\n */\r\nconst useDocumentTitle = (title) => {\r\n  useEffect(() => {\r\n    const prev = document.title;\r\n    document.title = title ? `${title} | VPN XO` : 'VPN XO - Secure VPN Service';\r\n    return () => { document.title = prev; };\r\n  }, [title]);\r\n};\r\n\r\nexport default useDocumentTitle;\r\n","import React from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst Card = ({\r\n  children,\r\n  variant = 'default',\r\n  hover = true,\r\n  className = '',\r\n  onClick,\r\n  ...props\r\n}) => {\r\n  const baseClasses = 'rounded-2xl transition-all duration-300';\r\n\r\n  const variantClasses = {\r\n    default: 'bg-white bg-opacity-10 backdrop-blur-md border border-white border-opacity-20',\r\n    solid: 'bg-white shadow-xl',\r\n    gradient: 'bg-gradient-to-br from-blue-600 to-purple-600',\r\n    glass: 'bg-white bg-opacity-5 backdrop-blur-lg border border-white border-opacity-10',\r\n  };\r\n\r\n  const hoverClasses = hover\r\n    ? 'hover:shadow-2xl hover:scale-105 cursor-pointer'\r\n    : '';\r\n\r\n  const classes = `\r\n    ${baseClasses}\r\n    ${variantClasses[variant]}\r\n    ${hoverClasses}\r\n    ${className}\r\n  `.trim().replace(/\\s+/g, ' ');\r\n\r\n  return (\r\n    <motion.div\r\n      className={classes}\r\n      onClick={onClick}\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.3 }}\r\n      whileHover={hover ? { y: -5 } : {}}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"],"names":["useConfirm","state","setState","useState","isOpen","title","message","confirmText","cancelText","variant","resolve","confirm","useCallback","options","arguments","length","undefined","Promise","onConfirm","_state$resolve","call","prev","_objectSpread","onCancel","_state$resolve2","dialogProps","_ref","children","size","fullWidth","disabled","loading","icon","onClick","type","className","props","_objectWithoutProperties","_excluded","widthClass","disabledClasses","classes","concat","primary","secondary","outline","ghost","danger","success","warning","solid","sm","md","lg","xl","trim","replace","_jsx","motion","button","whileTap","scale","_jsxs","_Fragment","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","variantStyles","bg","info","style","AnimatePresence","div","initial","opacity","animate","exit","transition","duration","role","FaExclamationTriangle","id","autoFocus","onClose","showCloseButton","closeOnBackdrop","closeOnEsc","footer","useEffect","handleEsc","e","key","document","addEventListener","removeEventListener","body","overflow","y","ease","full","FaTimes","user","onSuccess","formData","setFormData","email","tier","status","setLoading","error","setError","setSuccess","handleChange","field","value","handleSubmit","async","preventDefault","includes","apiService","updateUser","setTimeout","err","_err$response","_err$response$data","response","data","tierOptions","label","FaUser","color","FaCrown","FaShieldAlt","statusOptions","FaCheckCircle","FaBan","Modal","Button","onSubmit","FaEnvelope","onChange","target","placeholder","required","map","option","Icon","isSelected","created_at","Date","toLocaleDateString","last_login","server","isEditMode","activeSection","setActiveSection","showSshKey","setShowSshKey","showSshPassword","setShowSshPassword","defaultForm","name","location","country_code","ip_address","capacity","protocols","ss_port","ss_api_port","trojan_api_port","v2ray_api_port","xray_api_port","ssh_host","ssh_port","ssh_user","ssh_private_key","ssh_password","wireguard_public_key","v2ray_uuid","reality_server_name","reality_public_key","reality_short_id","bandwidth_limit","validateForm","ip","test","split","every","p","parseInt","payload","updateServer","addServer","sections","FaServer","FaTerminal","FaCog","inputCls","labelCls","s","toUpperCase","maxLength","min","max","on","toggleProtocol","protocol","filter","has_ssh_key","fontFamily","has_ssh_password","FaEyeSlash","FaEye","FaKey","FaNetworkWired","itemName","requireConfirmation","confirmInput","setConfirmInput","isConfirmed","FaTrash","getWarningMessage","PaymentManagement","payments","setPayments","subscriptions","setSubscriptions","stats","setStats","totalRevenue","monthlyRevenue","activeSubscriptions","failedPayments","setFilter","searchTerm","setSearchTerm","selectedPayment","setSelectedPayment","confirmDialog","loadPaymentData","interval","setInterval","clearInterval","paymentData","getAdminPaymentHistory","reduce","sum","payment","amount","now","monthStart","getFullYear","getMonth","console","subsRes","getAdminSubscriptions","formatCurrency","Intl","NumberFormat","currency","format","formatDate","dateString","year","month","day","hour","minute","getStatusBadge","succeeded","active","failed","canceled","pending","charAt","slice","filteredPayments","_payment$user_email","matchesFilter","matchesSearch","user_email","toLowerCase","delay","Card","FaDollarSign","FaCreditCard","FaTimesCircle","FaDownload","exportCsv","csv","toISOString","plan","stripe_payment_id","c","String","join","blob","Blob","url","URL","createObjectURL","a","createElement","href","download","click","revokeObjectURL","FaSearch","colSpan","rel","sub","current_period_end","stripe_subscription_id","cancelAdminSubscription","subId","alert","handleCancelSubscription","ConfirmDialog","SubscriptionSettingsPanel","_config$reminder_days","_testResult$reminder_","_testResult$details","_config$recent_logs","config","setConfig","saving","setSaving","testing","setTesting","resetting","setResetting","msg","setMsg","text","daysInput","setDaysInput","reminderEnabled","setReminderEnabled","testResult","setTestResult","expiringUsers","setExpiringUsers","showMsg","loadConfig","getSubscriptionSettings","reminder_days","reminder_enabled","FaSpinner","FaUsers","paid_users","auto_renew_on","auto_renew_off","expired_pending","expiring_7d","expiring_3d","expiring_1d","FaBell","checked","FaCalendarAlt","inputClass","days","n","isNaN","updateSubscriptionSettings","cron_schedule","res","testReminders","would_send","_err$response2","_err$response2$data","FaPlay","sent","skipped","_err$response3","_err$response3$data","FaPaperPlane","resetReminderDedup","_err$response4","_err$response4$data","FaRedo","getExpiringUsers","would_skip","details","i","_d$last_reminder_sent","days_until_expiry","matched_reminder_day","last_reminder_sent","total","days_window","users","u","_u$last_expiry_remind","plan_type","subscription_end_date","auto_renew","last_expiry_reminder_days","recent_logs","log","_JSON$stringify","action","toLocaleString","JSON","stringify","FaSyncAlt","EmailSettingsPanel","provider","postal_api_url","postal_api_key","smtp_host","smtp_port","smtp_secure","smtp_user","smtp_password","from_name","from_email","testEmail","setTestEmail","getEmailConfig","has_postal_key","has_smtp_password","load","updateEmailConfig","_err$response5","_err$response5$data","_res$data","testEmailConfig","_err$response6","_err$response6$data","SystemSettings","settings","setSettings","setMessage","activeTab","setActiveTab","tabs","FaMobileAlt","FaGoogle","FaDatabase","FaBullhorn","loadSettings","getSystemSettings","settingsMap","Array","isArray","forEach","item","handleSave","updateSystemSetting","tab","maintenance_mode","min_app_version","support_email","privacy_policy_url","free_tier_limit","server_capacity_limit","readOnly","stripe_mode","stripe_success_url","stripe_cancel_url","default_protocol","max_devices_premium","max_devices_free","connection_timeout","heartbeat_interval","auto_backup","backup_retention_days","backup_path","ad_desktop_enabled","ad_desktop_media_url","ad_desktop_media_type","ad_desktop_click_url","ad_desktop_hide_premium","useDebounce","debouncedValue","setDebouncedValue","handler","clearTimeout","TicketManagement","tickets","setTickets","selectedTicket","setSelectedTicket","ticketMessages","setTicketMessages","filters","setFilters","priority","category","debouncedSearch","replyMessage","setReplyMessage","internalNote","setInternalNote","sending","setSending","exporting","setExporting","adminStaff","setAdminStaff","loadTickets","loadStats","loadAdminStaff","loadTicketDetails","params","getAllTickets","getTicketStats","getTicket","ticketId","messages","getUsers","limit","_unused","SLA_TARGETS","urgent","firstResponse","resolution","high","medium","low","getSlaStatus","ticket","created","hoursElapsed","responseDeadline","resolutionDeadline","remaining","Math","round","FaClock","first_response_at","FaExclamationCircle","badges","open","in_progress","waiting_user","waiting_staff","resolved","closed","badge","getPriorityColor","colors","filteredTickets","search","ticket_number","subject","total_tickets","FaTicketAlt","open_tickets","resolved_tickets","avg_first_response_hours","exportTicketsCsv","window","_unused2","_adminStaff$find","_adminStaff$find$emai","whileHover","unread_user_messages","sla","assigned_to","FaUserTie","find","updateTicketStatus","handleUpdateStatus","updateTicketPriority","handleUpdatePriority","adminId","assignTicket","handleAssignTicket","admin","_admin$email","is_internal_note","is_staff","attachments","att","file_url","filename","rows","FaReply","addTicketMessage","addInternalNote","rating","star","FaStar","rating_comment","ContactMessages","setMessages","selectedMessage","setSelectedMessage","loadMessages","getContactMessages","markAsRead","markMessageAsRead","messageId","read","filteredMessages","unreadCount","FaEnvelopeOpen","deleteContactMessage","deleteMessage","ErrorTracking","errors","setErrors","selectedError","setSelectedError","loadErrors","getErrors","markAsResolved","markErrorAsResolved","errorId","getSeverityColor","severity","getSeverityIcon","FaBug","filteredErrors","_err$stack","_err$endpoint","stack","endpoint","unresolvedCount","criticalCount","clearResolvedErrors","toLocaleTimeString","FaCode","deleteError","user_id","metadata","DiscountCampaignManager","campaigns","setCampaigns","showCreateModal","setShowCreateModal","editingCampaign","setEditingCampaign","description","campaign_type","discount_type","discount_value","applies_to_all_plans","applicable_plan_types","start_date","end_date","theme_color","banner_text","badge_text","requires_coupon","coupon_code","max_uses","max_uses_per_user","fetchCampaigns","_response$data","api","get","handleInputChange","resetForm","campaign","is_active","black_friday","cyber_monday","new_year","summer_sale","custom","is_featured","current_uses","borderColor","backgroundColor","handleEdit","post","campaignId","handleDeactivate","handleActivate","delete","handleDelete","stopPropagation","put","step","ACTION_COLORS","create","update","login","bulk_activate","bulk_suspend","bulk_upgrade","bulk_downgrade","bulk_delete","AuditTrail","logs","setLogs","target_type","loadLogs","getAuditLogs","FaHistory","FaSync","exportAuditCsv","admin_email","target_id","GeoAnalytics","_data$countryDistribu","_data$protocolUsage","_data$serverLoad","_data$userGrowth","setData","loadData","getGeoAnalytics","FaGlobe","countryDistribution","maxConns","connection_count","pct","country","width","user_count","FaChartBar","protocolUsage","count","toFixed","serverLoad","parseFloat","load_percent","current_connections","userGrowth","maxCount","height","date","minHeight","EmailTemplateManager","templates","setTemplates","selectedTemplate","setSelectedTemplate","editing","setEditing","previewing","setPreviewing","editForm","setEditForm","body_html","body_text","loadTemplates","getEmailTemplates","loadTemplate","t","getEmailTemplate","slug","template","categoryColors","auth","billing","lifecycle","support","security","grouped","acc","cat","push","Object","entries","items","toggleEmailTemplate","handleToggle","FaToggleOn","FaToggleOff","updateEmailTemplate","FaCheck","FaEdit","available_variables","v","navigator","clipboard","writeText","FaInfoCircle","f","spellCheck","sandbox","srcDoc","border","testEmailTemplate","AnnouncementPreview","_ref3","content","maintenance","AnnouncementManager","announcements","setAnnouncements","emptyForm","target_audience","show_in_app","show_on_website","starts_at","ends_at","form","setForm","loadAnnouncements","getAnnouncements","handleCreate","createAnnouncement","updateAnnouncement","typeConfig","cfg","desc","_ref2","FaPlus","ann","tc","TypeIcon","isExpired","isScheduled","toggleAnnouncement","deleteAnnouncement","InfoCard","badgeColors","green","red","purple","yellow","gray","_user$days_remaining","_data$activeConnectio","_data$connections","_data$payments","_data$tickets","userId","onRefresh","resetPwForm","setResetPwForm","show","password","grantSubForm","setGrantSubForm","planType","durationDays","bonusMonths","loadDetails","getUserDetails","formatBytes","b","floor","pow","email_verified","totp_enabled","referral_code","days_remaining","toString","subscription_start_date","bonus_months","FaGift","_data$user2","adminGrantSubscription","activeConnections","server_name","server_id","connected_at","connections","disconnected_at","bytes_sent","bytes_received","_p$currency","_p$stripe_payment_id","_data$user","pw","adminResetPassword","newTier","IPDeviceBanManager","blockedIPs","setBlockedIPs","bannedDevices","setBannedDevices","setSearch","showAddIP","setShowAddIP","showAddDevice","setShowAddDevice","newIP","setNewIP","reason","expires_at","newDevice","setNewDevice","device_id","ipsRes","devicesRes","all","getBlockedIPs","getBannedDevices","blocked_ips","banned_devices","filteredIPs","_ip$ip_address","_ip$reason","filteredDevices","_d$device_id","_d$reason","blockIP","banDevice","unblockIP","handleUnblockIP","deviceId","unbanDevice","handleUnbanDevice","bytes","formatUptime","seconds","h","m","GaugeBar","barColor","VPSMetrics","metrics","setMetrics","autoRefresh","setAutoRefresh","loadMetrics","getVPSMetrics","cpu","mem","memory","disk","services","FaMicrochip","usage","cores","FaMemory","usagePercent","used","FaHdd","uptime","free","SEVERITY_CONFIG","critical","AlertManager","setTab","activeAlerts","setActiveAlerts","alertHistory","setAlertHistory","summary","setSummary","historyFilter","setHistoryFilter","loadAlerts","loadHistory","getActiveAlerts","alerts","getAlertHistory","handleAcknowledge","acknowledgeAlert","alertId","handleResolve","prompt","resolveAlert","formatTime","ts","timeSince","mins","acknowledgeAllAlerts","sev","SevIcon","timestamp","resolved_at","acknowledged_at","STATUS_CONFIG","offline","HEALTH_CONFIG","healthy","degraded","unhealthy","unknown","LoadBar","ServerCard","_ref4","actionLoading","onToggleStatus","onSetOffline","onSSHTest","onHealthCheck","onEdit","onDelete","onSelect","st","hl","health_status","StIcon","consecutive_failures","active_connections","ssh","health","FaHeartbeat","FaPowerOff","sshMsg","healthMsg","ServerDetailPanel","_ref5","guardianLog","setGuardianLog","prediction","setPrediction","getGuardianLog","catch","getLoadPrediction","predictions","then","_ref6","_logRes$data","_predRes$data","logRes","predRes","finally","auto_offline","recovery","restart_requested","status_change","FaChartLine","entry","_entry$action","predicted_load","onOpenServerModal","onDeleteServer","onRefreshParent","servers","setServers","guardianData","setGuardianData","selectedServer","setSelectedServer","setActionLoading","_srvRes$data","_grdRes$data","_stRes$data","srvRes","grdRes","stRes","getServers","getGuardianHealth","getServerStatsOverview","serverList","guardianList","guardianMap","g","merged","_guardianMap$s$id","_guardianMap$s$id2","_guardianMap$s$id3","_guardianMap$s$id4","last_check","last_health_check","current_load","iv","setAction","val","counts","totalLoad","totalCapacity","newStatus","setServerStatusOps","handleToggleStatus","handleSetOffline","testServerSSH","connected","output","handleSSHTest","triggerHealthCheck","protos","results","reachable","is_healthy","handleHealthCheck","deleteServer","fmt","fmtBytes","MiniBar","paid","fPct","LiveView","lv","live","td","today","KPICard","iconColor","free_total","free_active","paid_total","paid_active","FaUserPlus","free_new_24h","paid_new_24h","FaUserCheck","free_online","paid_online","FaExchangeAlt","free_connections_today","paid_connections_today","free_data_today","paid_data_today","total_users","free_new_7d","paid_new_7d","regions","country_name","free_count","paid_count","total_count","plans","hourly_trend","freeC","paidC","x","freeH","paidH","getHours","free_avg_duration","paid_avg_duration","HistoryView","_latest$snapshot_date","_prev$snapshot_date","latest","trend","cur","prv","diff","chartData","reverse","snapshot_date","HistKPI","conversions","churns","_d$snapshot_date","_d$snapshot_date$spli","_d$snapshot_date2","maxVal","_d$snapshot_date3","_d$snapshot_date3$spl","_d$snapshot_date4","free_connections","paid_connections","_d$snapshot_date5","_d$snapshot_date5$spl","_d$snapshot_date6","freeB","free_data_bytes","paidB","paid_data_bytes","_d$snapshot_date7","startsWith","FaArrowUp","FaArrowDown","SegmentAnalytics","view","setView","setLive","history","setHistory","historyDays","setHistoryDays","snapshotStatus","setSnapshotStatus","loadLive","getSegmentLive","getSegmentHistory","Number","takeSegmentSnapshot","FaCamera","AbuseDetection","setUsers","selectedUser","setSelectedUser","loadHighRisk","getHighRiskUsers","risk_score","flags","last_checked","_res$data2","getAbuseHistory","evaluateAbuse","handleEvaluate","resetAbuseScore","handleReset","SessionControl","topUsers","setTopUsers","sessions","setSessions","loadTopUsers","getTopSessionUsers","loadUserSessions","getUserSessions","FaPlug","session_count","total_data","disconnectAllSessions","handleDisconnectAll","disconnectSession","connectionId","handleDisconnectOne","FaSignOutAlt","LoadBalancer","distribution","setDistribution","editingWeight","setEditingWeight","weightValue","setWeightValue","loadDistribution","getLoadDistribution","FaBalanceScale","loadPct","max_connections","setServerWeight","serverId","handleSaveWeight","weight","QoSManagement","getQoSConfig","updateQoSConfig","FaTachometerAlt","isEditing","max_download_mbps","max_upload_mbps","max_daily_gb","max_monthly_gb","GDPRCompliance","exportRequests","setExportRequests","consentStats","setConsentStats","_exportsRes$data","exportsRes","consentRes","getGdprExportRequests","requests","getConsentAnalytics","FaLock","FaUserShield","completed_at","consented","total_consented","declined","total_declined","total_pending","RevenueDashboard","lazy","RevenueForecasting","ChartFallback","OverviewTab","analytics","onNavigate","totalUsers","paidUsers","freeUsers","serverCapacity","UsersTab","onCreateUser","onViewUser","selectedUsers","setSelectedUsers","bulkAction","setBulkAction","bulkLoading","setBulkLoading","bulkError","setBulkError","confirmBulk","bulkDialogProps","page","setPage","filteredUsers","totalPages","ceil","paginatedUsers","exportUsersCsv","bulkUserAction","toggleSelectAll","toggleSelectUser","from","_","ConnectionsTab","onDisconnect","connPage","setConnPage","totalConnPages","paginatedConns","conn","AdminDashboard","_deleteModal$item","_deleteModal$item2","useDocumentTitle","navigate","useNavigate","logout","useAuth","sidebarGroups","expandedGroups","setExpandedGroups","sidebarOpen","setSidebarOpen","logoutDialogProps","setAnalytics","setConnections","editUserModal","setEditUserModal","serverModal","setServerModal","deleteModal","setDeleteModal","createUserModal","setCreateUserModal","userDetailModal","setUserDetailModal","newUserData","setNewUserData","createUserError","setCreateUserError","analyticsRes","usersRes","connectionsRes","getAnalytics","getConnections","group","some","FaBars","Link","to","isExpanded","isGroupActive","groupId","FaChevronDown","FaChevronRight","deleteUser","handleDeleteUser","forceDisconnect","handleDisconnect","ServerCommandCenter","handleDeleteServer","Suspense","fallback","UserEditModal","ServerModal","DeleteConfirmModal","UserDetailModal","createUser","hover","hoverClasses","default","gradient","glass"],"sourceRoot":""}