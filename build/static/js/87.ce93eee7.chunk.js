"use strict";(self.webpackChunkvpn_xo_website=self.webpackChunkvpn_xo_website||[]).push([[87],{182:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(9379),l=s(5043);const r=()=>{const[e,t]=(0,l.useState)({isOpen:!1,title:"Are you sure?",message:"",confirmText:"Confirm",cancelText:"Cancel",variant:"danger",resolve:null}),s=(0,l.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(s=>{t({isOpen:!0,title:e.title||"Are you sure?",message:e.message||"",confirmText:e.confirmText||"Confirm",cancelText:e.cancelText||"Cancel",variant:e.variant||"danger",resolve:s})})},[]),r=(0,l.useCallback)(()=>{var s;null===(s=e.resolve)||void 0===s||s.call(e,!0),t(e=>(0,a.A)((0,a.A)({},e),{},{isOpen:!1,resolve:null}))},[e.resolve]),i=(0,l.useCallback)(()=>{var s;null===(s=e.resolve)||void 0===s||s.call(e,!1),t(e=>(0,a.A)((0,a.A)({},e),{},{isOpen:!1,resolve:null}))},[e.resolve]);return{confirm:s,dialogProps:{isOpen:e.isOpen,title:e.title,message:e.message,confirmText:e.confirmText,cancelText:e.cancelText,variant:e.variant,onConfirm:r,onCancel:i}}}},2835:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(9379),l=s(3986),r=(s(5043),s(12)),i=s(579);const n=["children","variant","size","fullWidth","disabled","loading","icon","onClick","type","className"],c=e=>{let{children:t,variant:s="primary",size:c="md",fullWidth:o=!1,disabled:d=!1,loading:x=!1,icon:m,onClick:u,type:h="button",className:p=""}=e,g=(0,l.A)(e,n);const b=o?"w-full":"",y=d||x?"opacity-50 cursor-not-allowed":"cursor-pointer transform hover:scale-105",j="\n    ".concat("font-bold rounded-full transition-all duration-300 flex items-center justify-center","\n    ").concat({primary:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl",secondary:"bg-green-500 hover:bg-green-600 text-white shadow-lg hover:shadow-xl",outline:"bg-white bg-opacity-10 hover:bg-opacity-20 text-white border-2 border-white border-opacity-30",ghost:"bg-transparent hover:bg-white hover:bg-opacity-10 text-white",danger:"bg-red-500 hover:bg-red-600 text-white shadow-lg hover:shadow-xl",success:"bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl",warning:"bg-yellow-500 hover:bg-yellow-600 text-gray-900 shadow-lg hover:shadow-xl",solid:"bg-white hover:bg-gray-100 text-gray-900 shadow-lg hover:shadow-xl"}[s],"\n    ").concat({sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-10 py-4 text-lg",xl:"px-12 py-5 text-xl"}[c],"\n    ").concat(b,"\n    ").concat(y,"\n    ").concat(p,"\n  ").trim().replace(/\s+/g," ");return(0,i.jsx)(r.P.button,(0,a.A)((0,a.A)({type:h,className:j,onClick:u,disabled:d||x,whileTap:{scale:d||x?1:.95}},g),{},{children:x?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):(0,i.jsxs)(i.Fragment,{children:[m&&(0,i.jsx)("span",{className:"mr-2",children:m}),t]})}))}},3087:(e,t,s)=>{s.r(t),s.d(t,{default:()=>T});var a=s(9379),l=s(5043),r=s(3216),i=s(5475),n=s(12),c=s(6938),o=s(5369),d=s(342),x=s(4505),m=s(8289),u=s(2835),h=s(579);const p=e=>{let{subscription:t,onCancelSubscription:s}=e;const a="paid"===(null===t||void 0===t?void 0:t.tier),l="free"===(null===t||void 0===t?void 0:t.tier),r=null!=(null===t||void 0===t?void 0:t.daysRemaining)?t.daysRemaining:0,c="active"===(null===t||void 0===t?void 0:t.stripeStatus)||a,d=null===t||void 0===t?void 0:t.cancelAtPeriodEnd;return(0,h.jsxs)(m.A,{className:"p-6 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(o.Hu1,{className:"text-3xl mr-3 ".concat(a?"text-yellow-400":"text-gray-500")}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-2xl font-bold text-white",children:a?"Premium Plan":"Free Plan"}),(0,h.jsx)("p",{className:"text-sm text-gray-300",children:null!==t&&void 0!==t&&t.planType?t.planType.charAt(0).toUpperCase()+t.planType.slice(1):"Basic"})]})]}),(0,h.jsxs)("div",{className:"flex items-center ".concat(d?"text-yellow-400":c&&a?"text-green-400":l?"text-gray-400":"text-red-400"),children:[c?(0,h.jsx)(o.A7C,{className:"mr-2"}):(0,h.jsx)(o._Hm,{className:"mr-2"}),(0,h.jsx)("span",{className:"font-semibold",children:d?"Cancels at period end":c&&a?"Active":l?"Free Plan":"Expired"})]})]}),a&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,h.jsx)("span",{className:"text-gray-300",children:"Days Remaining"}),(0,h.jsxs)("span",{className:"text-2xl font-bold ".concat(r>30?"text-green-400":r>7?"text-yellow-400":"text-red-400"),children:[r," days"]})]}),(0,h.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-3 overflow-hidden",children:(0,h.jsx)(n.P.div,{className:"h-full ".concat(r>30?"bg-green-500":r>7?"bg-yellow-500":"bg-red-500"),initial:{width:0},animate:{width:"".concat(100-(()=>{if(null===t||void 0===t||!t.subscriptionStartDate||null===t||void 0===t||!t.subscriptionEndDate)return 0;const e=new Date(t.subscriptionStartDate).getTime(),s=new Date(t.subscriptionEndDate).getTime()-e,a=Date.now()-e;return Math.min(100,Math.max(0,a/s*100))})(),"%")},transition:{duration:1,ease:"easeOut"}})})]}),(null===t||void 0===t?void 0:t.subscriptionEndDate)&&(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4 p-3 bg-white bg-opacity-10 rounded-lg",children:[(0,h.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,h.jsx)(o.bfZ,{className:"mr-2"}),(0,h.jsx)("span",{children:"Next Billing Date"})]}),(0,h.jsx)("span",{className:"text-white font-semibold",children:new Date(t.subscriptionEndDate).toLocaleDateString()})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4 p-3 bg-white bg-opacity-10 rounded-lg",children:[(0,h.jsxs)("div",{className:"flex items-center text-gray-300",children:[(0,h.jsx)(o.DIg,{className:"mr-2"}),(0,h.jsx)("span",{children:"Auto-Renewal"})]}),(0,h.jsx)("span",{className:"font-semibold ".concat(!1!==(null===t||void 0===t?void 0:t.autoRenew)?"text-green-400":"text-red-400"),children:!1!==(null===t||void 0===t?void 0:t.autoRenew)?"Enabled":"Disabled"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,h.jsx)(i.N_,{to:"/subscribe",children:(0,h.jsx)(u.A,{variant:"outline",size:"sm",fullWidth:!0,children:"Change Plan"})}),!d&&(0,h.jsx)(u.A,{variant:"danger",size:"sm",fullWidth:!0,onClick:s,children:"Cancel"})]})]}),l&&(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{className:"p-4 bg-white bg-opacity-10 rounded-lg",children:[(0,h.jsx)("p",{className:"text-gray-300 text-sm mb-3",children:"Upgrade to Premium to unlock:"}),(0,h.jsxs)("ul",{className:"space-y-2 text-sm text-gray-200",children:[(0,h.jsxs)("li",{className:"flex items-center",children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2"}),"Unlimited bandwidth"]}),(0,h.jsxs)("li",{className:"flex items-center",children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2"}),"All server locations"]}),(0,h.jsxs)("li",{className:"flex items-center",children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2"}),"Priority support"]}),(0,h.jsxs)("li",{className:"flex items-center",children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2"}),"Multiple devices"]})]})]}),(0,h.jsx)(i.N_,{to:"/subscribe",children:(0,h.jsx)(u.A,{variant:"warning",size:"lg",fullWidth:!0,icon:(0,h.jsx)(o.Hu1,{}),children:"Upgrade to Premium"})})]})]})},g=()=>{const[e,t]=(0,l.useState)([]),[s,a]=(0,l.useState)(""),[r,i]=(0,l.useState)(null),[c,d]=(0,l.useState)(!1),[p,g]=(0,l.useState)(!1),[b,y]=(0,l.useState)(null);(0,l.useEffect)(()=>{j()},[]);const j=async()=>{try{const e=await x.Kp.getServers();t(e.data),e.data.length>0&&a(e.data[0].id)}catch(e){console.error("Failed to load servers:",e),y("Failed to load servers.")}},v=[{name:"Windows",icon:o.xuF,color:"from-blue-600 to-blue-800",version:"1.0.0",downloadUrl:"/downloads/VPN-XO-Setup.exe",description:"Windows 10/11 (64-bit)",available:!0},{name:"macOS",icon:o.eMv,color:"from-gray-600 to-gray-800",version:"1.0.0",downloadUrl:"/downloads/VPN-XO.dmg",description:"macOS 12 or later",available:!0},{name:"Android",icon:o.DGu,color:"from-green-600 to-green-800",version:"1.0.0",downloadUrl:"https://play.google.com/store/apps/details?id=com.vpnxo.app",description:"Android 8.0 or later",available:!0,external:!0},{name:"iOS",icon:o.eMv,color:"from-purple-600 to-purple-800",version:"1.0.0",downloadUrl:"https://apps.apple.com/app/vpn-xo",description:"iOS 16 or later",available:!0,external:!0}];return(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsx)(m.A,{className:"p-6 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Download VPN XO"}),(0,h.jsx)("p",{className:"text-blue-100",children:"Get our apps for all your devices and stay protected everywhere"})]}),(0,h.jsx)(o.WCW,{className:"text-6xl text-white opacity-20"})]})}),b&&(0,h.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 text-red-300 px-4 py-3 rounded-lg",children:b}),(0,h.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map((e,t)=>(0,h.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,h.jsx)(m.A,{className:"p-6 bg-gradient-to-br ".concat(e.color," ").concat(e.available?"":"opacity-60"," hover:scale-105 transition-transform"),children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)(e.icon,{className:"text-6xl text-white mx-auto mb-4"}),(0,h.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:e.name}),(0,h.jsx)("p",{className:"text-sm text-gray-200 mb-1",children:e.description}),(0,h.jsxs)("p",{className:"text-xs text-gray-300 mb-4",children:["Version ",e.version]}),(0,h.jsx)("div",{className:"space-y-2",children:(0,h.jsx)(u.A,{variant:"solid",size:"md",fullWidth:!0,icon:(0,h.jsx)(o.WCW,{}),onClick:()=>(e=>{e.available&&(e.external?window.open(e.downloadUrl,"_blank"):window.location.href=e.downloadUrl)})(e),children:(0,h.jsx)("span",{className:"text-gray-900 font-semibold",children:e.external?"Get App":"Download"})})})]})})},e.name))}),(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Installation Instructions"}),(0,h.jsxs)("div",{className:"space-y-4 text-gray-300",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"1. Download the App"}),(0,h.jsx)("p",{children:"Click the download button for your platform above."})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"2. Install"}),(0,h.jsx)("p",{children:"Run the installer and follow the on-screen instructions."})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"3. Login"}),(0,h.jsx)("p",{children:"Open the app and login with your VPN XO account credentials."})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"4. Connect"}),(0,h.jsx)("p",{children:"Select a server location and click connect to start protecting your connection."})]})]})]}),(0,h.jsxs)(m.A,{className:"p-6 bg-gradient-to-br from-gray-800 to-gray-900 border border-gray-700",children:[(0,h.jsxs)("h3",{className:"text-xl font-bold text-white mb-3 flex items-center",children:[(0,h.jsx)(o.f35,{className:"mr-2 text-blue-400"}),"Manual WireGuard Configuration"]}),(0,h.jsx)("p",{className:"text-gray-300 mb-6",children:"Generate configuration files for routers, Linux CLI, or third-party WireGuard clients."}),(0,h.jsxs)("div",{className:"bg-black bg-opacity-30 p-6 rounded-xl border border-white border-opacity-10",children:[(0,h.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 items-end",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Select Server Location"}),(0,h.jsx)("select",{value:s,onChange:e=>a(e.target.value),className:"w-full bg-gray-900 text-white rounded-lg px-4 py-3 border border-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",children:e.map(e=>(0,h.jsxs)("option",{value:e.id,children:[e.location," - ",e.name]},e.id))})]}),(0,h.jsx)(u.A,{variant:"primary",size:"lg",onClick:async()=>{try{d(!0),i(null),y(null);const e=await x.Kp.getWireGuardConfig(s);i(e.data)}catch(e){console.error("Failed to generate config:",e),y("Failed to generate WireGuard config. Please try again.")}finally{d(!1)}},disabled:c||0===e.length,children:c?"Generating...":"Generate Configuration"})]}),r&&(0,h.jsxs)(n.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-6 pt-6 border-t border-gray-700",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Configuration File"}),(0,h.jsxs)("div",{className:"flex space-x-2",children:[(0,h.jsx)(u.A,{variant:"secondary",size:"sm",icon:(0,h.jsx)(o.paH,{}),onClick:()=>{r&&(navigator.clipboard.writeText(r.configFile),g(!0),setTimeout(()=>g(!1),2e3))},children:p?"Copied!":"Copy"}),(0,h.jsx)(u.A,{variant:"solid",size:"sm",icon:(0,h.jsx)(o.i3g,{}),onClick:()=>{if(!r)return;const e=document.createElement("a"),t=new Blob([r.configFile],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download="vpnxo-wg-".concat(r.server.location.replace(/\s+/g,"-").toLowerCase(),".conf"),document.body.appendChild(e),e.click()},children:"Download .conf"})]})]}),(0,h.jsx)("div",{className:"bg-gray-900 p-4 rounded-lg font-mono text-sm text-green-400 overflow-x-auto border border-gray-800 relative",children:(0,h.jsx)("pre",{children:r.configFile})})]})]})]})]})},b=e=>{let{onSelectTicket:t,onCreateTicket:s}=e;const[a,r]=(0,l.useState)([]),[i,c]=(0,l.useState)(!0),[d,p]=(0,l.useState)("all"),[g,b]=(0,l.useState)(null),[y,j]=(0,l.useState)(1),v=10;(0,l.useEffect)(()=>{j(1),w()},[d]);const f=Math.max(1,Math.ceil(a.length/v)),N=(0,l.useMemo)(()=>a.slice((y-1)*v,y*v),[a,y,v]),w=async()=>{try{c(!0);const e="all"!==d?{status:d}:{},t=await x.Kp.getTickets(e);r(t.data.tickets||[])}catch(e){console.error("Failed to load tickets:",e),b("Failed to load tickets")}finally{c(!1)}},k=e=>{const t={open:{color:"bg-blue-500",icon:o.Qp1,text:"Open"},in_progress:{color:"bg-yellow-500",icon:o.w_X,text:"In Progress"},waiting_user:{color:"bg-orange-500",icon:o.TNq,text:"Waiting for You"},waiting_staff:{color:"bg-purple-500",icon:o.w_X,text:"Waiting for Staff"},resolved:{color:"bg-green-500",icon:o.A7C,text:"Resolved"},closed:{color:"bg-gray-500",icon:o.A7C,text:"Closed"}},s=t[e]||t.open,a=s.icon;return(0,h.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold text-white ".concat(s.color),children:[(0,h.jsx)(a,{className:"mr-1"}),s.text]})},A=e=>{const t={low:"text-gray-400",medium:"text-blue-400",high:"text-orange-400",urgent:"text-red-400"};return t[e]||t.medium};return i?(0,h.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,h.jsx)("div",{className:"spinner"}),(0,h.jsx)("span",{className:"ml-3 text-white",children:"Loading tickets..."})]}):(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsx)(m.A,{className:"p-6 bg-gradient-to-r from-purple-600 to-blue-600",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Support Tickets"}),(0,h.jsx)("p",{className:"text-purple-100",children:"Get help from our support team"})]}),(0,h.jsx)(u.A,{variant:"solid",size:"lg",icon:(0,h.jsx)(o.OiG,{}),onClick:s,children:(0,h.jsx)("span",{className:"text-purple-900 font-semibold",children:"New Ticket"})})]})}),(0,h.jsx)(m.A,{className:"p-4",children:(0,h.jsxs)("div",{className:"flex items-center space-x-2 overflow-x-auto",children:[(0,h.jsx)(o.YsJ,{className:"text-gray-400"}),["all","open","in_progress","waiting_user","resolved","closed"].map(e=>(0,h.jsx)("button",{onClick:()=>p(e),className:"px-4 py-2 rounded-lg font-medium transition whitespace-nowrap ".concat(d===e?"bg-blue-600 text-white":"bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20"),children:"all"===e?"All":e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},e))]})}),g&&(0,h.jsx)(m.A,{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500",children:(0,h.jsx)("p",{className:"text-red-200",children:g})}),0===a.length?(0,h.jsxs)(m.A,{className:"p-12 text-center",children:[(0,h.jsx)(o.tVd,{className:"text-6xl text-gray-600 mx-auto mb-4"}),(0,h.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"No Tickets Found"}),(0,h.jsx)("p",{className:"text-gray-400 mb-6",children:"all"===d?"You haven't created any support tickets yet.":"No ".concat(d.replace("_"," ")," tickets found.")}),(0,h.jsx)(u.A,{variant:"primary",size:"lg",icon:(0,h.jsx)(o.OiG,{}),onClick:s,children:"Create Your First Ticket"})]}):(0,h.jsxs)("div",{className:"space-y-4",children:[N.map((e,s)=>{return(0,h.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},children:(0,h.jsxs)(m.A,{className:"p-6 hover:bg-white hover:bg-opacity-5 cursor-pointer transition",onClick:()=>t(e),children:[(0,h.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,h.jsxs)("span",{className:"text-gray-400 font-mono text-sm",children:["#",e.ticket_number]}),k(e.status),(0,h.jsx)("span",{className:"text-xs font-semibold ".concat(A(e.priority)),children:e.priority.toUpperCase()})]}),(0,h.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e.subject}),(0,h.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[(0,h.jsxs)("span",{children:[(a=e.category,{billing:"\ud83d\udcb3",technical:"\ud83d\udd27",account:"\ud83d\udc64",connection:"\ud83c\udf10",general:"\ud83d\udcac",bug:"\ud83d\udc1b",feature:"\u2728",security:"\ud83d\udd12",performance:"\u26a1",other:"\ud83d\udccb"}[null===a||void 0===a?void 0:a.toLowerCase()]||"\ud83d\udcc1")," ",e.category]}),(0,h.jsxs)("span",{children:["Created ",new Date(e.created_at).toLocaleDateString()]}),(0,h.jsxs)("span",{children:[e.message_count||0," messages"]})]})]}),e.unread_staff_messages>0&&(0,h.jsx)("div",{className:"ml-4",children:(0,h.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-red-500 text-white text-sm font-bold",children:e.unread_staff_messages})})]}),e.last_staff_reply_at&&(0,h.jsxs)("div",{className:"text-sm text-gray-400",children:["Last staff reply: ",new Date(e.last_staff_reply_at).toLocaleString()]})]})},e.id);var a}),f>1&&(0,h.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,h.jsxs)("p",{className:"text-sm text-gray-400",children:["Showing ",(y-1)*v+1,"\u2013",Math.min(y*v,a.length)," of ",a.length," tickets"]}),(0,h.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,h.jsx)("button",{onClick:()=>j(e=>Math.max(1,e-1)),disabled:1===y,className:"px-3 py-2 rounded-lg bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20 disabled:opacity-40 disabled:cursor-not-allowed transition","aria-label":"Previous page",children:(0,h.jsx)(o._Jj,{})}),(0,h.jsxs)("span",{className:"text-white font-medium px-3",children:[y," / ",f]}),(0,h.jsx)("button",{onClick:()=>j(e=>Math.min(f,e+1)),disabled:y===f,className:"px-3 py-2 rounded-lg bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20 disabled:opacity-40 disabled:cursor-not-allowed transition","aria-label":"Next page",children:(0,h.jsx)(o.X6T,{})})]})]})]})]})};var y=s(3367),j=s(182);const v=e=>{let{ticketId:t,onBack:s}=e;const[r,i]=(0,l.useState)(null),[c,d]=(0,l.useState)([]),[p,g]=(0,l.useState)(!0),[b,v]=(0,l.useState)(!1),[f,N]=(0,l.useState)(""),[w,k]=(0,l.useState)([]),[A,C]=(0,l.useState)(0),[S,P]=(0,l.useState)(""),[_,D]=(0,l.useState)(!1),[T,F]=(0,l.useState)(null),[z,L]=(0,l.useState)(null),{confirm:M,dialogProps:W}=(0,j.A)(),R=(0,l.useRef)(null),E=(0,l.useRef)(null);(0,l.useEffect)(()=>{U();const e=setInterval(()=>{U(!0)},3e4);return()=>clearInterval(e)},[t]),(0,l.useEffect)(()=>{O()},[c]);const O=()=>{var e;null===(e=R.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},U=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e||g(!0);const s=await x.Kp.getTicket(t);i(s.data.ticket),d(s.data.messages||[]),L(new Date),"resolved"!==s.data.ticket.status||s.data.ticket.rating||D(!0)}catch(s){console.error("Failed to load ticket:",s),e||F("Failed to load ticket details. Please try again.")}finally{e||g(!1)}};return p?(0,h.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,h.jsx)("div",{className:"spinner"}),(0,h.jsx)("span",{className:"ml-3 text-white",children:"Loading ticket..."})]}):r?(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)(u.A,{variant:"outline",size:"sm",icon:(0,h.jsx)(o.QVr,{}),onClick:s,children:"Back to Tickets"}),"closed"!==r.status&&(0,h.jsx)(u.A,{variant:"danger",size:"sm",onClick:async()=>{if(await M({title:"Close Ticket",message:"Are you sure you want to close this ticket?",confirmText:"Close Ticket",variant:"warning"}))try{await x.Kp.closeTicket(t),await U()}catch(e){console.error("Failed to close ticket:",e),F("Failed to close ticket. Please try again.")}},children:"Close Ticket"})]}),(0,h.jsx)("div",{className:"flex items-start justify-between",children:(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,h.jsxs)("span",{className:"text-gray-400 font-mono",children:["#",r.ticket_number]}),(0,h.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("resolved"===r.status?"bg-green-500":"closed"===r.status?"bg-gray-500":"in_progress"===r.status?"bg-yellow-500":"bg-blue-500"," text-white"),children:r.status.replace("_"," ").toUpperCase()})]}),(0,h.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:r.subject}),(0,h.jsxs)("p",{className:"text-gray-400",children:["Created ",new Date(r.created_at).toLocaleString(),z&&(0,h.jsxs)("span",{className:"ml-4 text-xs text-gray-500",children:["Last refreshed: ",z.toLocaleTimeString()]})]})]})})]}),_&&(0,h.jsx)(n.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:(0,h.jsxs)(m.A,{className:"p-6 bg-gradient-to-r from-green-600 to-blue-600",children:[(0,h.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Rate Your Support Experience"}),(0,h.jsx)("div",{className:"flex items-center space-x-2 mb-4",children:[1,2,3,4,5].map(e=>(0,h.jsx)("button",{onClick:()=>C(e),className:"focus:outline-none",children:(0,h.jsx)(o.gt3,{className:"text-3xl ".concat(e<=A?"text-yellow-400":"text-gray-400"," hover:text-yellow-300 transition")})},e))}),(0,h.jsx)("textarea",{value:S,onChange:e=>P(e.target.value),placeholder:"Additional comments (optional)",className:"w-full px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-white mb-4",rows:"3"}),(0,h.jsxs)("div",{className:"flex space-x-3",children:[(0,h.jsx)(u.A,{variant:"solid",onClick:async()=>{if(0!==A)try{await x.Kp.rateTicket(t,A,S),D(!1),await U()}catch(e){console.error("Failed to rate ticket:",e),alert("Failed to submit rating. Please try again.")}else F("Please select a rating")},children:(0,h.jsx)("span",{className:"text-green-900 font-semibold",children:"Submit Rating"})}),(0,h.jsx)(u.A,{variant:"outline",onClick:()=>D(!1),children:"Skip"})]})]})}),(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("div",{className:"space-y-4 mb-6 max-h-96 overflow-y-auto",children:[c.map((e,t)=>(0,h.jsx)(n.P.div,{initial:{opacity:0,x:e.is_staff?-20:20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"flex ".concat(e.is_staff?"justify-start":"justify-end"),children:(0,h.jsxs)("div",{className:"max-w-2xl ".concat(e.is_staff?"bg-blue-600":"bg-purple-600"," rounded-lg p-4"),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsx)("span",{className:"text-sm font-semibold text-white",children:e.is_staff?"Support Team":"You"}),(0,h.jsx)("span",{className:"text-xs text-gray-200",children:new Date(e.created_at).toLocaleString()})]}),(0,h.jsx)("p",{className:"text-white whitespace-pre-wrap",children:e.message}),e.attachments&&e.attachments.length>0&&(0,h.jsx)("div",{className:"mt-3 space-y-2",children:e.attachments.map(e=>(0,h.jsxs)("a",{href:e.file_url,download:!0,className:"flex items-center space-x-2 text-sm text-white hover:text-gray-200 transition",children:[(0,h.jsx)(o.WCW,{}),(0,h.jsx)("span",{children:e.filename}),(0,h.jsxs)("span",{className:"text-xs text-gray-300",children:["(",(e.file_size/1024).toFixed(1)," KB)"]})]},e.id))})]})},e.id)),(0,h.jsx)("div",{ref:R})]}),"closed"!==r.status&&(0,h.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f.trim()||0!==w.length)try{v(!0),await x.Kp.addTicketMessage(t,{message:f.trim(),attachments:w}),N(""),k([]),await U()}catch(s){console.error("Failed to send message:",s),alert("Failed to send message. Please try again.")}finally{v(!1)}},className:"space-y-4",children:[(0,h.jsx)("textarea",{value:f,onChange:e=>N(e.target.value),placeholder:"Type your message...",className:"w-full px-4 py-3 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4",disabled:b}),w.length>0&&(0,h.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map((e,t)=>(0,h.jsxs)("div",{className:"flex items-center space-x-2 bg-white bg-opacity-10 rounded-lg px-3 py-2",children:[(0,h.jsx)("span",{className:"text-sm text-white",children:e.name}),(0,h.jsx)("button",{type:"button",onClick:()=>(e=>{k(w.filter((t,s)=>s!==e))})(t),className:"text-red-400 hover:text-red-300",children:(0,h.jsx)(o.QCr,{})})]},t))}),(0,h.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,h.jsx)("input",{type:"file",ref:E,onChange:e=>{const t=Array.from(e.target.files);k([...w,...t])},multiple:!0,accept:"image/*,.pdf,.txt,.log,.zip",className:"hidden"}),(0,h.jsx)(u.A,{type:"button",variant:"outline",size:"md",icon:(0,h.jsx)(o.EHs,{}),onClick:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.click()},disabled:b,children:"Attach Files"}),(0,h.jsx)(u.A,{type:"submit",variant:"primary",size:"md",icon:(0,h.jsx)(o.Cer,{}),loading:b,disabled:!f.trim()&&0===w.length,fullWidth:!0,children:"Send Message"})]})]})]}),(0,h.jsx)(y.A,(0,a.A)({},W))]}):(0,h.jsxs)(m.A,{className:"p-12 text-center",children:[T&&(0,h.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 text-red-300 px-4 py-3 rounded-lg mb-4",children:T}),(0,h.jsx)("p",{className:"text-white text-xl",children:"Ticket not found"}),(0,h.jsx)(u.A,{variant:"primary",className:"mt-4",onClick:s,children:"Go Back"})]})},f=e=>{let{isOpen:t,onClose:s,onSuccess:a}=e;const[r,i]=(0,l.useState)(""),[d,m]=(0,l.useState)("general"),[p,g]=(0,l.useState)("medium"),[b,y]=(0,l.useState)(""),[j,v]=(0,l.useState)([]),[f,N]=(0,l.useState)(!1),[w,k]=(0,l.useState)(null),A=(0,l.useRef)(null);return t?(0,h.jsx)(c.N,{children:(0,h.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75",children:(0,h.jsxs)(n.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white border-opacity-10",children:[(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(o.tVd,{className:"text-3xl text-blue-400 mr-3"}),(0,h.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Support Ticket"})]}),(0,h.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white transition",children:(0,h.jsx)(o.QCr,{className:"text-2xl"})})]}),(0,h.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),k(null),r.trim()&&b.trim())try{N(!0),await x.Kp.createTicket({subject:r.trim(),category:d,priority:p,message:b.trim(),attachments:j}),i(""),m("general"),g("medium"),y(""),v([]),a(),s()}catch(n){var t,l;console.error("Failed to create ticket:",n),k((null===(t=n.response)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.error)||"Failed to create ticket. Please try again.")}finally{N(!1)}else k("Subject and message are required")},className:"p-6 space-y-6",children:[w&&(0,h.jsx)("div",{className:"p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-200",children:w}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("label",{className:"block text-white font-medium mb-2",children:["Subject ",(0,h.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,h.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Brief description of your issue",className:"w-full px-4 py-3 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:200,required:!0})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,h.jsx)("select",{value:d,onChange:e=>m(e.target.value),className:"w-full px-4 py-3 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:"general",label:"General Inquiry"},{value:"technical",label:"Technical Issue"},{value:"billing",label:"Billing & Payments"},{value:"account",label:"Account Management"},{value:"connection",label:"Connection Problems"},{value:"feature",label:"Feature Request"},{value:"other",label:"Other"}].map(e=>(0,h.jsx)("option",{value:e.value,className:"bg-gray-800",children:e.label},e.value))})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-white font-medium mb-2",children:"Priority"}),(0,h.jsx)("div",{className:"grid grid-cols-4 gap-3",children:[{value:"low",label:"Low",color:"text-gray-400"},{value:"medium",label:"Medium",color:"text-blue-400"},{value:"high",label:"High",color:"text-orange-400"},{value:"urgent",label:"Urgent",color:"text-red-400"}].map(e=>(0,h.jsx)("button",{type:"button",onClick:()=>g(e.value),className:"py-3 px-4 rounded-lg font-medium transition ".concat(p===e.value?"bg-blue-600 text-white":"bg-white bg-opacity-10 text-gray-300 hover:bg-opacity-20"),children:(0,h.jsx)("span",{className:p===e.value?"text-white":e.color,children:e.label})},e.value))})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("label",{className:"block text-white font-medium mb-2",children:["Message ",(0,h.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,h.jsx)("textarea",{value:b,onChange:e=>y(e.target.value),placeholder:"Describe your issue in detail...",className:"w-full px-4 py-3 rounded-lg bg-white bg-opacity-10 border border-white border-opacity-20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"6",maxLength:2e3,required:!0}),(0,h.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:[b.length,"/2000 characters"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-white font-medium mb-2",children:"Attachments (Optional)"}),(0,h.jsx)("input",{type:"file",ref:A,onChange:e=>{const t=Array.from(e.target.files);if(j.length+t.length>5)return void k("Maximum ".concat(5," attachments allowed"));const s=t.find(e=>e.size>10485760);s?k('File "'.concat(s.name,'" exceeds 10MB limit')):(k(null),v([...j,...t]))},multiple:!0,accept:"image/*,.pdf,.txt,.log,.zip",className:"hidden"}),(0,h.jsx)(u.A,{type:"button",variant:"outline",size:"md",icon:(0,h.jsx)(o.EHs,{}),onClick:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.click()},children:"Add Files"}),(0,h.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Max 5 files, 10MB each. Allowed: images, PDF, text, logs, zip"}),j.length>0&&(0,h.jsx)("div",{className:"mt-3 space-y-2",children:j.map((e,t)=>(0,h.jsxs)("div",{className:"flex items-center justify-between bg-white bg-opacity-10 rounded-lg px-4 py-2",children:[(0,h.jsx)("span",{className:"text-sm text-white",children:e.name}),(0,h.jsx)("button",{type:"button",onClick:()=>(e=>{v(j.filter((t,s)=>s!==e))})(t),className:"text-red-400 hover:text-red-300",children:(0,h.jsx)(o.QCr,{})})]},t))})]}),(0,h.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,h.jsx)(u.A,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,loading:f,disabled:!r.trim()||!b.trim(),children:"Create Ticket"}),(0,h.jsx)(u.A,{type:"button",variant:"outline",size:"lg",onClick:s,disabled:f,children:"Cancel"})]})]})]})})}):null},N=e=>{let{subscription:t,onCancelSubscription:s,onNavigateToSupport:a}=e;const[r,c]=(0,l.useState)([]),[d,p]=(0,l.useState)(!0),[g,b]=(0,l.useState)(null),[y,j]=(0,l.useState)(null);(0,l.useEffect)(()=>{v()},[]);const v=async()=>{try{p(!0),b(null);const e=await x.Kp.getPaymentHistory();c(e.data||[])}catch(e){console.error("Failed to load payment history:",e),b("Failed to load payment history"),c([])}finally{p(!1)}},f=e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return"completed"===t||"paid"===t||"success"===t?(0,h.jsx)(o.A7C,{className:"text-green-400"}):"failed"===t||"cancelled"===t?(0,h.jsx)(o._Hm,{className:"text-red-400"}):"pending"===t?(0,h.jsx)(o.w_X,{className:"text-yellow-400"}):(0,h.jsx)(o.w_X,{className:"text-gray-400"})},N=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return"N/A"}},w="paid"===(null===t||void 0===t?void 0:t.tier)||"premium"===(null===t||void 0===t?void 0:t.tier),k=w&&("active"===(null===t||void 0===t?void 0:t.stripeStatus)||!(null!==t&&void 0!==t&&t.stripeStatus)),A=(null===t||void 0===t?void 0:t.cancelAtPeriodEnd)||"canceled"===(null===t||void 0===t?void 0:t.stripeStatus);return(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,h.jsx)(o.x1c,{className:"mr-3 text-blue-400"}),"Current Subscription"]}),(0,h.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Plan"}),(0,h.jsx)("div",{className:"text-white text-xl font-semibold flex items-center",children:w?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.Hu1,{className:"text-yellow-400 mr-2"}),"Premium Plan"]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.__w,{className:"text-gray-400 mr-2"}),"Free Plan"]})})]}),w&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Status"}),(0,h.jsx)("div",{className:"text-white font-medium flex items-center",children:k?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2"}),"Active"]}):A?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.BS8,{className:"text-yellow-400 mr-2"}),"Cancelled (Active until ",N(null===t||void 0===t?void 0:t.end_date),")"]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o._Hm,{className:"text-red-400 mr-2"}),"Expired"]})})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Expires"}),(0,h.jsx)("div",{className:"text-white font-medium",children:N(null===t||void 0===t?void 0:t.subscriptionEndDate)})]})]}),!w&&(0,h.jsx)("div",{className:"bg-blue-500 bg-opacity-10 border border-blue-500 border-opacity-30 rounded-lg p-4",children:(0,h.jsx)("p",{className:"text-blue-300 text-sm",children:"Upgrade to Premium to unlock unlimited bandwidth, faster speeds, and access to all server locations worldwide."})})]}),(0,h.jsxs)("div",{className:"space-y-3",children:[y&&(0,h.jsxs)("div",{className:"p-3 bg-blue-500 bg-opacity-20 border border-blue-500 border-opacity-40 rounded-lg text-blue-200 text-sm flex items-center justify-between",children:[(0,h.jsx)("span",{children:y}),(0,h.jsx)("button",{onClick:()=>j(null),className:"ml-2 text-blue-300 hover:text-white",children:"\xd7"})]}),w?(0,h.jsxs)(h.Fragment,{children:[k&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.A,{variant:"outline",size:"md",fullWidth:!0,onClick:()=>j("To update your payment method, please contact support or visit the subscription page."),children:"Update Payment Method"}),(0,h.jsx)(u.A,{variant:"danger",size:"md",fullWidth:!0,onClick:s,children:"Cancel Subscription"})]}),A&&(0,h.jsx)(i.N_,{to:"/subscribe",children:(0,h.jsx)(u.A,{variant:"primary",size:"lg",icon:(0,h.jsx)(o.Hu1,{}),fullWidth:!0,children:"Reactivate Subscription"})})]}):(0,h.jsx)(i.N_,{to:"/subscribe",children:(0,h.jsx)(u.A,{variant:"warning",size:"lg",icon:(0,h.jsx)(o.Hu1,{}),fullWidth:!0,children:"Upgrade to Premium"})}),(0,h.jsxs)("div",{className:"mt-4 p-4 bg-purple-500 bg-opacity-10 border border-purple-500 border-opacity-30 rounded-lg",children:[(0,h.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center",children:[(0,h.jsx)(o.__w,{className:"mr-2 text-purple-400"}),"Need Help?"]}),(0,h.jsx)("p",{className:"text-gray-300 text-sm mb-3",children:"Have questions about billing or subscriptions?"}),(0,h.jsx)(u.A,{variant:"outline",size:"sm",fullWidth:!0,onClick:()=>{a&&a()},children:"Contact Support"})]})]})]})]}),(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,h.jsx)(o.OKX,{className:"mr-3 text-green-400"}),"Payment History"]}),d?(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(n.P.div,{className:"inline-block w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,h.jsx)("div",{className:"text-gray-400 mt-4",children:"Loading payment history..."})]}):g?(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(o.BS8,{className:"text-5xl text-yellow-400 mx-auto mb-4"}),(0,h.jsx)("div",{className:"text-gray-400 mb-2",children:g}),(0,h.jsx)(u.A,{variant:"outline",size:"sm",onClick:v,children:"Retry"})]}):0===r.length?(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(o.x1c,{className:"text-6xl text-gray-600 mx-auto mb-4"}),(0,h.jsx)("div",{className:"text-gray-400 mb-2 text-lg font-medium",children:"No payment history yet"}),(0,h.jsx)("p",{className:"text-gray-500 text-sm",children:"Your payment transactions will appear here once you subscribe"})]}):(0,h.jsx)("div",{className:"overflow-x-auto",children:(0,h.jsxs)("table",{className:"w-full",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,h.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold text-sm",children:"Date"}),(0,h.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold text-sm",children:"Plan"}),(0,h.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold text-sm",children:"Period"}),(0,h.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 font-semibold text-sm",children:"Status"})]})}),(0,h.jsx)("tbody",{children:r.map((e,t)=>(0,h.jsxs)(n.P.tr,{className:"border-b border-gray-800 hover:bg-white hover:bg-opacity-5 transition-colors",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},children:[(0,h.jsx)("td",{className:"py-4 px-4 text-white",children:N(e.created_at)}),(0,h.jsx)("td",{className:"py-4 px-4 text-white capitalize",children:e.plan_type||e.plan||"Premium"}),(0,h.jsxs)("td",{className:"py-4 px-4 text-gray-300 text-sm",children:[N(e.start_date)," \u2014 ",N(e.end_date)]}),(0,h.jsx)("td",{className:"py-4 px-4",children:(0,h.jsxs)("div",{className:"flex items-center space-x-2",children:[f(e.status),(0,h.jsx)("span",{className:"text-white capitalize",children:e.status||"active"})]})})]},e.id||t))})]})})]}),(0,h.jsxs)(m.A,{className:"p-6 bg-gradient-to-r from-blue-500 to-purple-500 bg-opacity-10 border border-blue-500 border-opacity-30",children:[(0,h.jsxs)("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,h.jsx)(o.__w,{className:"mr-2 text-blue-400"}),"Billing Information"]}),(0,h.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,h.jsxs)("ul",{className:"space-y-2 text-gray-300 text-sm",children:[(0,h.jsxs)("li",{className:"flex items-start",children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2 mt-1 flex-shrink-0"}),(0,h.jsx)("span",{children:"All subscriptions are billed monthly"})]}),(0,h.jsxs)("li",{className:"flex items-start",children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2 mt-1 flex-shrink-0"}),(0,h.jsx)("span",{children:"Cancel anytime - no questions asked"})]}),(0,h.jsxs)("li",{className:"flex items-start",children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2 mt-1 flex-shrink-0"}),(0,h.jsx)("span",{children:"All sales are final \u2014 no refunds"})]})]}),(0,h.jsxs)("ul",{className:"space-y-2 text-gray-300 text-sm",children:[(0,h.jsxs)("li",{className:"flex items-start",children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2 mt-1 flex-shrink-0"}),(0,h.jsx)("span",{children:"Subscription remains active until period end"})]}),(0,h.jsxs)("li",{className:"flex items-start",children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2 mt-1 flex-shrink-0"}),(0,h.jsx)("span",{children:"Secure payment processing"})]}),(0,h.jsxs)("li",{className:"flex items-start",children:[(0,h.jsx)(o.A7C,{className:"text-green-400 mr-2 mt-1 flex-shrink-0"}),(0,h.jsx)("span",{children:"24/7 customer support available"})]})]})]})]})]})},w=()=>{const{user:e}=(0,d.A)(),{confirm:t,dialogProps:r}=(0,j.A)(),[i,n]=(0,l.useState)({type:"",text:""}),[c,p]=(0,l.useState)(!1),[g,b]=(0,l.useState)(!1),[v,f]=(0,l.useState)(!1),[N,w]=(0,l.useState)(!1),[k,A]=(0,l.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[C,S]=(0,l.useState)(0),[P,_]=(0,l.useState)(""),[D,T]=(0,l.useState)(""),[F,z]=(0,l.useState)(!0),[L,M]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{try{var e;const t=await x.Kp.getSubscriptionStatus();z(!1!==(null===(e=t.data)||void 0===e?void 0:e.autoRenew))}catch(t){}})()},[]);return(0,h.jsxs)("div",{className:"space-y-6",children:[i.text&&(0,h.jsx)("div",{className:"p-4 rounded-lg border ".concat("success"===i.type?"bg-green-500/10 border-green-500/30 text-green-300":"bg-red-500/10 border-red-500/30 text-red-300"),children:(0,h.jsxs)("p",{className:"text-sm flex items-center",children:["success"===i.type?(0,h.jsx)(o.A7C,{className:"mr-2"}):(0,h.jsx)(o.BS8,{className:"mr-2"}),i.text]})}),(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,h.jsx)(o.pXu,{className:"mr-3 text-yellow-400"}),"Change Password"]}),(0,h.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),k.newPassword===k.confirmPassword)if(k.newPassword.length<8)n({type:"error",text:"Password must be at least 8 characters long!"});else{if(C<50){if(!await t({title:"Weak Password",message:"Your password is weak. Are you sure you want to continue?",confirmText:"Use Anyway",variant:"warning"}))return}p(!0),n({type:"",text:""});try{await x.Kp.changePassword(k.currentPassword,k.newPassword),A({currentPassword:"",newPassword:"",confirmPassword:""}),S(0),n({type:"success",text:"Password updated successfully!"})}catch(l){var s,a;const e=(null===(s=l.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to change password. Please check your current password and try again.";n({type:"error",text:e})}finally{p(!1)}}else n({type:"error",text:"New passwords do not match!"})},className:"space-y-4 max-w-2xl",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-gray-300 mb-2 text-sm font-medium",children:"Current Password"}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("input",{type:g?"text":"password",value:k.currentPassword,onChange:e=>A((0,a.A)((0,a.A)({},k),{},{currentPassword:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 pr-12 transition-all",required:!0,placeholder:"Enter your current password"}),(0,h.jsx)("button",{type:"button",onClick:()=>b(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:g?(0,h.jsx)(o.mx3,{}):(0,h.jsx)(o.Ny1,{})})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-gray-300 mb-2 text-sm font-medium",children:"New Password"}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("input",{type:v?"text":"password",value:k.newPassword,onChange:e=>{A((0,a.A)((0,a.A)({},k),{},{newPassword:e.target.value})),S((e=>{let t=0;return e.length>=8&&(t+=25),e.length>=12&&(t+=25),/[a-z]/.test(e)&&/[A-Z]/.test(e)&&(t+=25),/[0-9]/.test(e)&&(t+=12.5),/[^a-zA-Z0-9]/.test(e)&&(t+=12.5),Math.min(100,t)})(e.target.value))},className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 pr-12 transition-all",required:!0,minLength:8,placeholder:"Enter your new password"}),(0,h.jsx)("button",{type:"button",onClick:()=>f(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:v?(0,h.jsx)(o.mx3,{}):(0,h.jsx)(o.Ny1,{})})]}),k.newPassword&&(0,h.jsxs)("div",{className:"mt-2",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,h.jsx)("span",{className:"text-xs text-gray-400",children:"Password Strength:"}),(0,h.jsx)("span",{className:"text-xs font-semibold ".concat(C<50?"text-red-400":C<75?"text-yellow-400":"text-green-400"),children:C<25?"Weak":C<50?"Fair":C<75?"Good":"Strong"})]}),(0,h.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,h.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(C<25?"bg-red-500":C<50?"bg-orange-500":C<75?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(C,"%")}})})]}),(0,h.jsx)("p",{className:"text-gray-500 text-xs mt-2",children:"Minimum 8 characters. Use uppercase, lowercase, numbers, and symbols for a stronger password."})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-gray-300 mb-2 text-sm font-medium",children:"Confirm New Password"}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("input",{type:N?"text":"password",value:k.confirmPassword,onChange:e=>A((0,a.A)((0,a.A)({},k),{},{confirmPassword:e.target.value})),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 pr-12 transition-all",required:!0,placeholder:"Confirm your new password"}),(0,h.jsx)("button",{type:"button",onClick:()=>w(!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:N?(0,h.jsx)(o.mx3,{}):(0,h.jsx)(o.Ny1,{})})]}),k.confirmPassword&&k.newPassword!==k.confirmPassword&&(0,h.jsxs)("p",{className:"text-red-400 text-xs mt-1 flex items-center",children:[(0,h.jsx)(o.BS8,{className:"mr-1"}),"Passwords do not match"]})]}),(0,h.jsx)(u.A,{type:"submit",variant:"primary",size:"md",icon:(0,h.jsx)(o.JhU,{}),disabled:c,children:c?"Updating...":"Update Password"})]})]}),(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,h.jsx)(o.maD,{className:"mr-3 text-blue-400"}),"Change Email Address"]}),(0,h.jsxs)("div",{className:"space-y-4 max-w-2xl",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-gray-300 mb-2 text-sm font-medium",children:"Current Email"}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("input",{type:"email",value:(null===e||void 0===e?void 0:e.email)||"",disabled:!0,className:"w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-gray-400 cursor-not-allowed"}),(0,h.jsx)(o.NBi,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})]}),(0,h.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),P&&P.includes("@"))if(P!==(null===e||void 0===e?void 0:e.email))if(D){p(!0),n({type:"",text:""});try{await x.Kp.updateProfile({email:P,currentPassword:D}),_(""),T(""),n({type:"success",text:"Email updated successfully!"})}catch(l){var s,a;const e=(null===(s=l.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.error)||"Failed to change email. Please try again.";n({type:"error",text:e})}finally{p(!1)}}else n({type:"error",text:"Please enter your current password to confirm email change."});else n({type:"error",text:"New email is the same as current email!"});else n({type:"error",text:"Please enter a valid email address!"})},className:"space-y-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-gray-300 mb-2 text-sm font-medium",children:"New Email Address"}),(0,h.jsx)("input",{type:"email",value:P,onChange:e=>_(e.target.value),placeholder:"Enter new email address",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all",required:!0})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-gray-300 mb-2 text-sm font-medium",children:"Current Password (required)"}),(0,h.jsx)("input",{type:"password",value:D,onChange:e=>T(e.target.value),placeholder:"Enter current password to confirm",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all",required:!0})]}),(0,h.jsx)(u.A,{type:"submit",variant:"primary",size:"md",icon:(0,h.jsx)(o.maD,{}),children:"Update Email"})]})]})]}),(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,h.jsx)(o.DIg,{className:"mr-3 text-green-400"}),"Auto-Renewal"]}),(0,h.jsx)("div",{className:"space-y-4 max-w-2xl",children:(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-lg",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-white font-medium",children:"Automatic Subscription Renewal"}),(0,h.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:F?"Your subscription will automatically renew at the end of each period.":"Your subscription will NOT renew. It will expire at the end of the current period."})]}),(0,h.jsx)("button",{onClick:async()=>{const e=!F;M(!0),n({type:"",text:""});try{await x.Ay.put("/api/subscriptions/auto-renew",{autoRenew:e}),z(e),n({type:"success",text:"Auto-renewal ".concat(e?"enabled":"disabled"," successfully.")})}catch(a){var t,s;const e=(null===(t=a.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.error)||"Failed to update auto-renewal.";n({type:"error",text:e})}finally{M(!1)}},disabled:L,className:"relative inline-flex h-7 w-14 items-center rounded-full transition-colors duration-300 focus:outline-none ".concat(F?"bg-green-500":"bg-gray-600"," ").concat(L?"opacity-50 cursor-not-allowed":"cursor-pointer"),children:(0,h.jsx)("span",{className:"inline-block h-5 w-5 transform rounded-full bg-white transition-transform duration-300 ".concat(F?"translate-x-8":"translate-x-1")})})]})})]}),(0,h.jsxs)(m.A,{className:"p-6 bg-red-500 bg-opacity-10 border border-red-500 border-opacity-30",children:[(0,h.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[(0,h.jsx)(o.qbC,{className:"mr-3 text-red-400"}),"Delete Account"]}),(0,h.jsxs)("div",{className:"space-y-4 max-w-2xl",children:[(0,h.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-red-500 bg-opacity-20 rounded-lg border border-red-500 border-opacity-30",children:[(0,h.jsx)(o.BS8,{className:"text-red-400 text-2xl flex-shrink-0 mt-1"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-white font-semibold mb-2",children:"Warning: This action is permanent and cannot be undone"}),(0,h.jsx)("p",{className:"text-gray-300 text-sm",children:"Deleting your account will permanently remove all your data, subscription, support tickets, and account settings."})]})]}),(0,h.jsx)("div",{className:"p-4 bg-gray-800 rounded-lg",children:(0,h.jsx)("p",{className:"text-gray-300 text-sm",children:"If you are having issues with our service, please contact our support team before deleting your account."})}),(0,h.jsx)(u.A,{variant:"danger",size:"md",icon:(0,h.jsx)(o.qbC,{}),onClick:async()=>{const e=window.prompt("To delete your account, please enter your password for verification:");if(!e)return;if(await t({title:"Delete Account Permanently",message:"This action cannot be undone. All your data, subscriptions, and VPN configurations will be permanently deleted.",confirmText:"Delete My Account",variant:"danger"})){p(!0),n({type:"",text:""});try{await x.Kp.deleteAccount(e),Promise.resolve().then(s.bind(s,4505)).then(e=>{let{clearAccessToken:t}=e;return t()}).catch(()=>{}),localStorage.removeItem("user"),window.location.href="/login?deleted=true"}catch(r){var a,l;const e=(null===(a=r.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.error)||"Failed to delete account. Please try again.";n({type:"error",text:e}),p(!1)}}},children:"Delete My Account Permanently"})]})]}),(0,h.jsx)(y.A,(0,a.A)({},r))]})},k=()=>{const[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)(!0),[i,c]=(0,l.useState)(null),[d,m]=(0,l.useState)(null),[u,p]=(0,l.useState)(null),{confirm:g,dialogProps:b}=(0,j.A)();(0,l.useEffect)(()=>{v(),f()},[]);const v=async()=>{try{r(!0),c(null);const e=await x.Ay.get("/api/devices");t(e.data.devices)}catch(i){console.error("Failed to fetch devices:",i),c("Failed to load devices. Please try again.")}finally{r(!1)}},f=async()=>{try{const e=await x.Ay.get("/api/devices/limit");p(e.data)}catch(e){}},N=e=>{switch(e.toLowerCase()){case"mobile":case"android":case"ios":return(0,h.jsx)(o.rle,{className:"text-3xl text-blue-500"});case"tablet":return(0,h.jsx)(o.z4D,{className:"text-3xl text-purple-500"});default:return(0,h.jsx)(o.Wqt,{className:"text-3xl text-gray-500"})}},w=e=>{const t=Math.floor((new Date-new Date(e))/1e3);return t<60?"Just now":t<3600?"".concat(Math.floor(t/60)," minutes ago"):t<86400?"".concat(Math.floor(t/3600)," hours ago"):t<604800?"".concat(Math.floor(t/86400)," days ago"):new Date(e).toLocaleDateString()};return(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsxs)("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[(0,h.jsx)(o.Wqt,{className:"text-blue-400"}),"Device Management"]}),(0,h.jsx)("p",{className:"text-gray-400 mt-1",children:"Manage your logged-in devices and security settings"})]}),(i||d)&&(0,h.jsx)("div",{className:"bg-red-900/30 border border-red-500/50 text-red-300 px-4 py-3 rounded-lg mb-4",children:i||d}),(()=>{const t=e.filter(e=>e.is_active).length,s=t>=3;return(0,h.jsxs)("div",{className:"rounded-lg shadow-sm p-6 mb-6 ".concat(s?"bg-red-900/30 border border-red-500/50":"bg-gray-800"),children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[s&&(0,h.jsx)(o.BS8,{className:"text-red-400"}),(0,h.jsx)("span",{className:"text-gray-300 font-medium",children:"Active Devices"})]}),(0,h.jsxs)("span",{className:"text-lg font-bold ".concat(s?"text-red-400":"text-white"),children:[t," / ",3]})]}),(0,h.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-3",children:(0,h.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 ".concat(s?"bg-red-500":t>=2?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(100,t/3*100),"%")}})}),s&&(0,h.jsx)("p",{className:"text-red-300 text-sm mt-2",children:"You've reached the maximum device limit. Log out or remove a device to use a new one."}),(0,h.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-gray-500 text-sm",children:"Total: "}),(0,h.jsx)("span",{className:"text-white text-sm font-medium",children:e.length})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-gray-500 text-sm",children:"Trusted: "}),(0,h.jsx)("span",{className:"text-blue-400 text-sm font-medium",children:e.filter(e=>e.is_trusted).length})]})]})]})})(),s?(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,h.jsx)("p",{className:"text-gray-400 mt-4",children:"Loading devices..."})]}):0===e.length?(0,h.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[(0,h.jsx)(o.Wqt,{className:"text-6xl text-gray-600 mx-auto mb-4"}),(0,h.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No devices found"}),(0,h.jsx)("p",{className:"text-gray-400",children:"Your devices will appear here once you log in"})]}):(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,h.jsxs)(n.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gray-800 rounded-lg shadow-sm p-6 border-2 ".concat(e.is_active?"border-green-500":"border-gray-700"),children:[(0,h.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[N(e.device_type),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"font-semibold text-white",children:e.device_name}),(0,h.jsx)("p",{className:"text-sm text-gray-400 capitalize",children:e.device_type})]})]}),e.is_trusted&&(0,h.jsx)(o.SMR,{className:"text-blue-500",title:"Trusted Device"})]}),(0,h.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-gray-400",children:"OS Version:"}),(0,h.jsx)("span",{className:"font-medium text-white",children:e.os_version||"Unknown"})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-gray-400",children:"App Version:"}),(0,h.jsx)("span",{className:"font-medium text-white",children:e.app_version||"Unknown"})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-gray-400",children:"Last IP:"}),(0,h.jsx)("span",{className:"font-medium text-white",children:e.last_ip||"Unknown"})]}),(0,h.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,h.jsx)(o.w_X,{className:"text-gray-500"}),(0,h.jsxs)("span",{className:"text-gray-400",children:["Last seen: ",w(e.last_seen_at)]})]})]}),(0,h.jsx)("div",{className:"mb-4",children:(0,h.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(e.is_active?"bg-green-900 text-green-300":"bg-gray-700 text-gray-300"),children:e.is_active?"Active":"Inactive"})}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)("button",{onClick:()=>(async(e,t)=>{try{m(null),await x.Ay.put("/api/devices/".concat(e,"/trust"),{is_trusted:!t}),v()}catch(i){console.error("Failed to toggle trust:",i),m("Failed to update device trust status.")}})(e.id,e.is_trusted),className:"flex-1 px-4 py-2 rounded-lg transition text-sm font-medium ".concat(e.is_trusted?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-blue-600 text-white hover:bg-blue-700"),children:e.is_trusted?"Untrust":"Trust"}),e.is_active&&(0,h.jsx)("button",{onClick:()=>(async e=>{if(await g({title:"Logout Device",message:"Are you sure you want to logout this device?",confirmText:"Logout",variant:"warning"}))try{m(null),await x.Ay.post("/api/devices/".concat(e,"/logout")),v()}catch(i){console.error("Failed to logout device:",i),m("Failed to logout device.")}})(e.id),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition",title:"Logout Device",children:(0,h.jsx)(o.axc,{})}),(0,h.jsx)("button",{onClick:()=>(async e=>{if(await g({title:"Remove Device",message:"Are you sure you want to remove this device? This action cannot be undone.",confirmText:"Remove",variant:"danger"}))try{m(null),await x.Ay.delete("/api/devices/".concat(e)),v()}catch(i){console.error("Failed to remove device:",i),m("Failed to remove device.")}})(e.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",title:"Remove Device",children:(0,h.jsx)(o.qbC,{})})]})]},e.id))}),(0,h.jsxs)("div",{className:"mt-6 bg-blue-900 bg-opacity-20 border border-blue-800 rounded-lg p-4",children:[(0,h.jsx)("h4",{className:"font-semibold text-blue-300 mb-2",children:"Device Security"}),(0,h.jsxs)("ul",{className:"text-sm text-blue-400 space-y-1",children:[(0,h.jsxs)("li",{children:["\u2022 Maximum ",3," devices can be active at the same time"]}),(0,h.jsx)("li",{children:"\u2022 Log out from old devices to free up device slots"}),(0,h.jsx)("li",{children:"\u2022 Trust only devices you personally use"}),(0,h.jsx)("li",{children:"\u2022 Keep your app updated to the latest version"})]})]})]}),(0,h.jsx)(y.A,(0,a.A)({},b))]})},A=e=>{if(!e||!e.includes("@"))return"***";const[t,s]=e.split("@");return t.length<=1?"".concat(t,"***@").concat(s):"".concat(t[0],"***@").concat(s)},C=()=>{var e,t,s,a,r;const[i,n]=(0,l.useState)(null),[c,d]=(0,l.useState)(!0),[u,p]=(0,l.useState)(null),[g,b]=(0,l.useState)(!1);(0,l.useEffect)(()=>{y()},[]);const y=async()=>{try{d(!0),p(null);const e=await x.Kp.getReferralInfo();n(e.data)}catch(e){p("Failed to load referral data")}finally{d(!1)}},j=e=>{navigator.clipboard.writeText(e),b(!0),setTimeout(()=>b(!1),2e3)},v=null!==i&&void 0!==i&&i.code?"https://vpn-xo.com/register?ref=".concat(i.code):"";return c?(0,h.jsxs)("div",{className:"flex items-center justify-center py-20",children:[(0,h.jsx)(o.DIg,{className:"animate-spin text-blue-400 text-2xl mr-3"}),(0,h.jsx)("span",{className:"text-gray-400",children:"Loading referral data..."})]}):u?(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsx)("p",{className:"text-red-400",children:u}),(0,h.jsx)("button",{onClick:y,className:"mt-2 text-blue-400 hover:text-blue-300 text-sm",children:"Retry"})]}):(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center",children:[(0,h.jsx)(o.Wp,{className:"mr-3 text-yellow-400"}),"Refer Friends & Earn Rewards"]}),(0,h.jsx)("p",{className:"text-gray-400 mb-6",children:"Share your referral link and earn free premium days when friends sign up!"}),(0,h.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:[(0,h.jsx)("label",{className:"text-gray-400 text-sm mb-2 block",children:"Your Referral Code"}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"flex-1 px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-white font-mono text-lg tracking-wider",children:(null===i||void 0===i?void 0:i.code)||"N/A"}),(0,h.jsxs)("button",{onClick:()=>j((null===i||void 0===i?void 0:i.code)||""),className:"px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center",children:[g?(0,h.jsx)(o.A7C,{className:"mr-2"}):(0,h.jsx)(o.paH,{className:"mr-2"}),g?"Copied!":"Copy"]})]})]}),(0,h.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,h.jsx)("label",{className:"text-gray-400 text-sm mb-2 block",children:"Your Referral Link"}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"flex-1 px-4 py-3 bg-gray-900 border border-gray-700 rounded-lg text-blue-400 text-sm truncate",children:v}),(0,h.jsxs)("button",{onClick:()=>j(v),className:"px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center flex-shrink-0",children:[(0,h.jsx)(o.AnD,{className:"mr-2"}),"Copy Link"]})]})]}),(0,h.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,h.jsxs)("a",{href:"https://twitter.com/intent/tweet?text=Try%20VPN%20XO%20for%20secure%20internet!%20".concat(encodeURIComponent(v)),target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-lg text-sm flex items-center transition-colors",children:[(0,h.jsx)(o.Zzu,{className:"mr-2"}),"Twitter"]}),(0,h.jsxs)("a",{href:"mailto:?subject=Try%20VPN%20XO&body=Check%20out%20VPN%20XO%20for%20secure%20internet!%20".concat(encodeURIComponent(v)),className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg text-sm flex items-center transition-colors",children:[(0,h.jsx)(o.Zzu,{className:"mr-2"}),"Email"]})]})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,h.jsxs)(m.A,{className:"p-5",children:[(0,h.jsxs)("div",{className:"flex items-center mb-2",children:[(0,h.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/20 mr-3",children:(0,h.jsx)(o.YXz,{className:"text-blue-400"})}),(0,h.jsx)("span",{className:"text-gray-400 text-sm",children:"Total Referrals"})]}),(0,h.jsx)("p",{className:"text-3xl font-bold text-white",children:(null===i||void 0===i||null===(e=i.stats)||void 0===e?void 0:e.total)||0})]}),(0,h.jsxs)(m.A,{className:"p-5",children:[(0,h.jsxs)("div",{className:"flex items-center mb-2",children:[(0,h.jsx)("div",{className:"p-2 rounded-lg bg-green-500/20 mr-3",children:(0,h.jsx)(o.A7C,{className:"text-green-400"})}),(0,h.jsx)("span",{className:"text-gray-400 text-sm",children:"Converted"})]}),(0,h.jsx)("p",{className:"text-3xl font-bold text-white",children:(null===i||void 0===i||null===(t=i.stats)||void 0===t?void 0:t.converted)||0})]}),(0,h.jsxs)(m.A,{className:"p-5",children:[(0,h.jsxs)("div",{className:"flex items-center mb-2",children:[(0,h.jsx)("div",{className:"p-2 rounded-lg bg-yellow-500/20 mr-3",children:(0,h.jsx)(o.w_X,{className:"text-yellow-400"})}),(0,h.jsx)("span",{className:"text-gray-400 text-sm",children:"Pending"})]}),(0,h.jsx)("p",{className:"text-3xl font-bold text-white",children:(null===i||void 0===i||null===(s=i.stats)||void 0===s?void 0:s.pending)||0})]}),(0,h.jsxs)(m.A,{className:"p-5",children:[(0,h.jsxs)("div",{className:"flex items-center mb-2",children:[(0,h.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/20 mr-3",children:(0,h.jsx)(o.W5v,{className:"text-purple-400"})}),(0,h.jsx)("span",{className:"text-gray-400 text-sm",children:"Days Earned"})]}),(0,h.jsx)("p",{className:"text-3xl font-bold text-white",children:(null===i||void 0===i||null===(a=i.stats)||void 0===a?void 0:a.totalRewardDays)||0})]})]}),(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,h.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,h.jsx)(o.YXz,{className:"mr-2 text-blue-400"}),"Your Referrals"]}),(0,h.jsx)("button",{onClick:y,className:"text-gray-400 hover:text-white transition-colors",children:(0,h.jsx)(o.DIg,{})})]}),(null===i||void 0===i||null===(r=i.referrals)||void 0===r?void 0:r.length)>0?(0,h.jsx)("div",{className:"overflow-x-auto",children:(0,h.jsxs)("table",{className:"w-full",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,h.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 text-sm",children:"Email"}),(0,h.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 text-sm",children:"Status"}),(0,h.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 text-sm",children:"Date"}),(0,h.jsx)("th",{className:"text-left py-3 px-4 text-gray-400 text-sm",children:"Reward"})]})}),(0,h.jsx)("tbody",{children:i.referrals.map((e,t)=>(0,h.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[(0,h.jsx)("td",{className:"py-3 px-4 text-white",children:A(e.referred_email)}),(0,h.jsx)("td",{className:"py-3 px-4",children:(0,h.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat("converted"===e.status?"bg-green-500/20 text-green-400":"registered"===e.status?"bg-blue-500/20 text-blue-400":"bg-yellow-500/20 text-yellow-400"),children:e.status})}),(0,h.jsx)("td",{className:"py-3 px-4 text-gray-400",children:new Date(e.created_at).toLocaleDateString()}),(0,h.jsx)("td",{className:"py-3 px-4 text-purple-400",children:e.reward_value?"+".concat(e.reward_value," days"):"--"})]},t))})]})}):(0,h.jsxs)("div",{className:"text-center py-10",children:[(0,h.jsx)(o.Wp,{className:"text-gray-600 text-4xl mx-auto mb-3"}),(0,h.jsx)("p",{className:"text-gray-500",children:"No referrals yet. Share your link to get started!"})]})]}),(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"How It Works"}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center mx-auto mb-3",children:(0,h.jsx)(o.Zzu,{className:"text-blue-400 text-xl"})}),(0,h.jsx)("h4",{className:"text-white font-semibold mb-1",children:"1. Share Your Link"}),(0,h.jsx)("p",{className:"text-gray-400 text-sm",children:"Send your referral link to friends and family"})]}),(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-3",children:(0,h.jsx)(o.YXz,{className:"text-green-400 text-xl"})}),(0,h.jsx)("h4",{className:"text-white font-semibold mb-1",children:"2. They Sign Up"}),(0,h.jsx)("p",{className:"text-gray-400 text-sm",children:"When they create an account using your link"})]}),(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center mx-auto mb-3",children:(0,h.jsx)(o.Wp,{className:"text-purple-400 text-xl"})}),(0,h.jsx)("h4",{className:"text-white font-semibold mb-1",children:"3. Earn Rewards"}),(0,h.jsx)("p",{className:"text-gray-400 text-sm",children:"Get free premium days for each converted referral"})]})]})]})]})},S=e=>{let{server:t}=e;const s=t.max_safe_capacity||250,a=t.active_free_connections/s*100,l="available"===t.status,r="grace_period"===t.status,i="full"===t.status,n=Math.max(0,s-t.active_free_connections);return(0,h.jsxs)("div",{className:"bg-white bg-opacity-5 border border-white border-opacity-10 rounded-xl p-5 hover:bg-opacity-10 transition-all",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-xl",children:(c=t.location,c?c.includes("Canada")?"\ud83c\udde8\ud83c\udde6":c.includes("France")?"\ud83c\uddeb\ud83c\uddf7":c.includes("Germany")?"\ud83c\udde9\ud83c\uddea":c.includes("Netherlands")?"\ud83c\uddf3\ud83c\uddf1":"\ud83c\udf0d":"\ud83c\udf0d")}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-white font-semibold text-sm",children:t.server_name}),(0,h.jsx)("p",{className:"text-gray-400 text-xs",children:t.location})]})]}),(0,h.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium ".concat(l?"bg-green-500 bg-opacity-20 text-green-400":r?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-red-500 bg-opacity-20 text-red-400"),children:l?"\u25cf Available":r?"\u25cf Busy":"\u25cf Full"})]}),(0,h.jsxs)("div",{className:"mb-2",children:[(0,h.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[(0,h.jsx)("span",{children:"Free slots"}),(0,h.jsxs)("span",{className:"font-medium text-white",children:[n," / ",s]})]}),(0,h.jsx)("div",{className:"w-full bg-white bg-opacity-10 rounded-full h-2 overflow-hidden",children:(0,h.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 ".concat(a<80?"bg-green-500":a<100?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(a,100),"%")}})})]}),(0,h.jsxs)("p",{className:"text-xs mt-2 ".concat(l?"text-green-400":r?"text-yellow-400":"text-red-400"),children:[l&&"\u2713 ".concat(n," safe slots available"),r&&"\u23f3 Server busy \u2014 new connections get 20 min grace period",i&&"\u2717 Server full \u2014 try again shortly"]})]});var c},P=()=>{const[e,t]=(0,l.useState)([]),[s,a]=(0,l.useState)(!0);(0,l.useEffect)(()=>{r();const e=setInterval(r,6e4);return()=>clearInterval(e)},[]);const r=async()=>{try{const e=await x.Ay.get("/api/vpn/server-capacity");t(e.data.servers||[])}catch(e){console.error("Failed to fetch server capacity:",e)}finally{a(!1)}};return s?(0,h.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[1,2].map(e=>(0,h.jsxs)("div",{className:"bg-white bg-opacity-5 rounded-xl p-5 animate-pulse",children:[(0,h.jsx)("div",{className:"h-5 bg-white bg-opacity-10 rounded w-1/2 mb-3"}),(0,h.jsx)("div",{className:"h-3 bg-white bg-opacity-10 rounded w-full mb-2"}),(0,h.jsx)("div",{className:"h-6 bg-white bg-opacity-10 rounded w-full"})]},e))}):0===e.length?null:(0,h.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.map(e=>(0,h.jsx)(S,{server:e},e.server_id))})};var _=s(2015),D=s(4951);const T=()=>{var e;(0,D.A)("Dashboard");const t=(0,r.Zp)(),{user:s,logout:A}=(0,d.A)(),{darkMode:S,toggleTheme:T}=(0,_.DP)(),{confirm:F,dialogProps:z}=(0,j.A)(),L=(0,l.useRef)(null),[M,W]=(0,l.useState)("overview"),[R,E]=(0,l.useState)(null),[O,U]=(0,l.useState)(!0),[I,H]=(0,l.useState)(null),[B,V]=(0,l.useState)(!1),[q,G]=(0,l.useState)(null),[X,Y]=(0,l.useState)(null),K=[{id:"overview",name:"Overview",icon:o.rQ8,description:"Dashboard home"},{id:"downloads",name:"Downloads",icon:o.WCW,description:"Get our apps"},{id:"devices",name:"Devices",icon:o.rle,description:"Manage devices"},{id:"billing",name:"Billing",icon:o.x1c,description:"Payments"},{id:"support",name:"Support",icon:o.tVd,description:"Get help"},{id:"referrals",name:"Referrals",icon:o.Wp,description:"Refer friends"},{id:"settings",name:"Settings",icon:o.Pcn,description:"Account settings"}],Z=(0,l.useCallback)(e=>{var t,s;const a=K.findIndex(e=>e.id===M);let l;if("ArrowRight"===e.key||"ArrowDown"===e.key)e.preventDefault(),l=(a+1)%K.length;else if("ArrowLeft"===e.key||"ArrowUp"===e.key)e.preventDefault(),l=(a-1+K.length)%K.length;else if("Home"===e.key)e.preventDefault(),l=0;else{if("End"!==e.key)return;e.preventDefault(),l=K.length-1}W(K[l].id),H(null);const r=null===(t=L.current)||void 0===t?void 0:t.querySelectorAll('[role="tab"]');null===r||void 0===r||null===(s=r[l])||void 0===s||s.focus()},[M,K]);(0,l.useEffect)(()=>{Q()},[]);const Q=async()=>{try{U(!0),G(null);const e=await x.Kp.getSubscriptionStatus();E(e.data)}catch(e){console.error("Failed to load subscription:",e),G("Failed to load subscription data. Please refresh the page.")}finally{U(!1)}},J=async()=>{if(await F({title:"Cancel Subscription",message:"Are you sure you want to cancel your subscription? You will retain access until the end of your billing period.",confirmText:"Cancel Subscription",variant:"danger"}))try{await x.Kp.cancelSubscription(),await Q(),Y({type:"success",text:"Subscription cancelled. You will retain access until the end of your billing period."})}catch(e){console.error("Failed to cancel subscription:",e),Y({type:"error",text:"Failed to cancel subscription. Please try again or contact support."})}};return O?(0,h.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center",children:(0,h.jsxs)("div",{className:"text-white text-center",children:[(0,h.jsx)(n.P.div,{className:"spinner mx-auto mb-4",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,h.jsx)("div",{className:"text-2xl font-semibold",children:"Loading your dashboard..."}),(0,h.jsx)("p",{className:"text-gray-300 mt-2",children:"Please wait a moment"})]})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900",children:[(0,h.jsx)("nav",{className:"bg-black bg-opacity-30 backdrop-blur-md border-b border-white border-opacity-10 sticky top-0 z-50",children:(0,h.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,h.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,h.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,h.jsx)(i.N_,{to:"/",children:(0,h.jsx)(n.P.img,{src:"/logos/logo_vpnxo_green.png",alt:"VPN XO",className:"h-12 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95}})}),(0,h.jsx)("div",{className:"hidden md:block",children:(0,h.jsx)("span",{className:"text-white text-xl font-bold",children:"Dashboard"})})]}),(0,h.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,h.jsxs)("div",{className:"hidden lg:flex items-center space-x-3 px-4 py-2 bg-white bg-opacity-10 rounded-lg",children:[(0,h.jsx)(o.NBi,{className:"text-2xl text-gray-300"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-xs text-gray-400",children:"Logged in as"}),(0,h.jsx)("div",{className:"text-sm text-white font-semibold truncate max-w-[150px]",children:null===s||void 0===s?void 0:s.email})]})]}),"admin"===(null===s||void 0===s?void 0:s.tier)&&(0,h.jsx)(i.N_,{to:"/admin",children:(0,h.jsxs)(u.A,{variant:"outline",size:"sm",children:[(0,h.jsx)(o.SMR,{className:"mr-2"}),"Admin Panel"]})}),(0,h.jsx)("button",{onClick:T,className:"flex items-center px-3 py-2 text-white hover:text-yellow-400 transition rounded-lg hover:bg-white hover:bg-opacity-10",title:S?"Switch to Light Mode":"Switch to Dark Mode",children:S?(0,h.jsx)(o.wQq,{}):(0,h.jsx)(o.V6H,{})}),(0,h.jsxs)("button",{onClick:async()=>{await F({title:"Log Out",message:"Are you sure you want to logout?",confirmText:"Log Out",variant:"warning"})&&(await A(),t("/login"))},className:"flex items-center px-4 py-2 text-white hover:text-red-400 transition rounded-lg hover:bg-white hover:bg-opacity-10",title:"Logout",children:[(0,h.jsx)(o.axc,{className:"mr-2"}),(0,h.jsx)("span",{className:"hidden md:inline",children:"Logout"})]})]})]})})}),(0,h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,h.jsxs)(n.P.div,{className:"mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,h.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:[(()=>{const e=(new Date).getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"})(),", ",(null===s||void 0===s||null===(e=s.email)||void 0===e?void 0:e.split("@")[0])||"User","! \ud83d\udc4b"]}),(0,h.jsx)("p",{className:"text-gray-300",children:"Welcome to your VPN XO dashboard. Manage your account and get support."})]}),q&&(0,h.jsx)(n.P.div,{className:"mb-6 p-4 bg-red-500 bg-opacity-20 border border-red-500 rounded-lg text-red-200",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(o.gZZ,{className:"mr-2"}),q]})}),(0,h.jsx)("div",{className:"mb-8",children:(0,h.jsx)("div",{ref:L,role:"tablist","aria-label":"Dashboard sections",className:"flex space-x-2 bg-black bg-opacity-30 p-2 rounded-lg overflow-x-auto",children:K.map((e,t)=>(0,h.jsxs)(n.P.button,{role:"tab","aria-selected":M===e.id,"aria-controls":"tabpanel-".concat(e.id),tabIndex:M===e.id?0:-1,onKeyDown:Z,onClick:()=>{W(e.id),H(null)},className:"flex items-center px-6 py-3 rounded-lg transition whitespace-nowrap font-medium ".concat(M===e.id?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:bg-white hover:bg-opacity-10"),whileHover:{scale:1.02},whileTap:{scale:.98},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:[(0,h.jsx)(e.icon,{className:"mr-2"}),(0,h.jsx)("span",{children:e.name})]},e.id))})}),(0,h.jsxs)(c.N,{mode:"wait",children:["overview"===M&&(0,h.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"grid lg:grid-cols-3 gap-8",children:[(0,h.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,h.jsx)(p,{subscription:R,onCancelSubscription:J}),(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[(0,h.jsx)(o.SMR,{className:"mr-2 text-green-400"}),"Server Status"]}),(0,h.jsx)(P,{}),"free"===(null===s||void 0===s?void 0:s.tier)&&(0,h.jsxs)("div",{className:"mt-4 p-4 bg-blue-500 bg-opacity-10 border border-blue-500 border-opacity-20 rounded-lg",children:[(0,h.jsx)("h4",{className:"text-white font-semibold text-sm mb-2",children:"How Free Access Works"}),(0,h.jsxs)("ul",{className:"text-gray-300 text-xs space-y-1.5",children:[(0,h.jsxs)("li",{children:["\u2022 Each server has ",(0,h.jsx)("span",{className:"text-white font-medium",children:"250 safe slots"})," for free users"]}),(0,h.jsxs)("li",{children:["\u2022 If a server is full, new connections get a ",(0,h.jsx)("span",{className:"text-white font-medium",children:"20-minute grace period"})]}),(0,h.jsx)("li",{children:"\u2022 After 20 minutes, the oldest overflow user is replaced by the newest"}),(0,h.jsxs)("li",{children:["\u2022 ",(0,h.jsx)("span",{className:"text-yellow-400 font-medium",children:"Premium users"})," are never disconnected and get priority access"]})]})]})]}),(0,h.jsxs)(m.A,{className:"p-6 bg-gradient-to-r from-blue-600 to-purple-600",children:[(0,h.jsxs)("h3",{className:"text-xl font-bold text-white mb-3 flex items-center",children:[(0,h.jsx)(o.SMR,{className:"mr-2"}),"How to Connect"]}),(0,h.jsx)("p",{className:"text-white mb-4",children:"Download our app and connect with one tap. VPN connections are managed through the app, not this website."}),(0,h.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,h.jsx)(u.A,{variant:"solid",size:"md",icon:(0,h.jsx)(o.WCW,{}),onClick:()=>W("downloads"),children:(0,h.jsx)("span",{className:"text-blue-900 font-semibold",children:"Download Apps"})}),"free"===(null===s||void 0===s?void 0:s.tier)&&(0,h.jsx)(i.N_,{to:"/subscribe",children:(0,h.jsx)(u.A,{variant:"warning",size:"md",icon:(0,h.jsx)(o.Hu1,{}),children:"Upgrade to Premium"})})]})]})]}),(0,h.jsxs)("div",{className:"space-y-6",children:[(0,h.jsxs)(m.A,{className:"p-6",children:[(0,h.jsxs)("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[(0,h.jsx)(o.NBi,{className:"mr-2"}),"Account Info"]}),(0,h.jsxs)("div",{className:"space-y-3 text-white",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-gray-300 text-sm",children:"Email"}),(0,h.jsx)("div",{className:"font-medium break-all",children:null===s||void 0===s?void 0:s.email})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-gray-300 text-sm",children:"Account Type"}),(0,h.jsx)("div",{className:"font-medium flex items-center",children:"paid"===(null===s||void 0===s?void 0:s.tier)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.Hu1,{className:"text-yellow-400 mr-2"}),"Premium"]}):"admin"===(null===s||void 0===s?void 0:s.tier)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.SMR,{className:"text-red-400 mr-2"}),"Administrator"]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.NBi,{className:"text-gray-400 mr-2"}),"Free"]})})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-gray-300 text-sm",children:"Member Since"}),(0,h.jsx)("div",{className:"font-medium",children:null!==s&&void 0!==s&&s.created_at?new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]}),(0,h.jsxs)(m.A,{className:"p-6 bg-gradient-to-br from-purple-600 to-pink-600",children:[(0,h.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Need Help?"}),(0,h.jsx)("p",{className:"text-purple-100 mb-4 text-sm",children:"Our support team is here to help you 24/7"}),(0,h.jsx)(u.A,{variant:"solid",size:"md",fullWidth:!0,icon:(0,h.jsx)(o.tVd,{}),onClick:()=>{W("support"),V(!0)},children:(0,h.jsx)("span",{className:"text-purple-900 font-semibold",children:"Create Ticket"})})]})]})]},"overview"),"devices"===M&&(0,h.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,h.jsx)(k,{})},"devices"),"downloads"===M&&(0,h.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,h.jsx)(g,{})},"downloads"),"support"===M&&(0,h.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsxs)("h2",{className:"text-xl font-bold text-white mb-3 flex items-center",children:[(0,h.jsx)(o.Mu7,{className:"mr-2 text-blue-400"}),"Choose Your Support Channel"]}),(0,h.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,h.jsx)("a",{href:"https://t.me/vpn_xobot",target:"_blank",rel:"noopener noreferrer",className:"block group",children:(0,h.jsxs)(m.A,{className:"p-5 border border-blue-500 border-opacity-30 hover:border-opacity-60 transition-all group-hover:shadow-lg group-hover:shadow-blue-500/10",children:[(0,h.jsxs)("div",{className:"flex items-center mb-3",children:[(0,h.jsx)("div",{className:"bg-blue-500 bg-opacity-20 p-3 rounded-lg mr-3",children:(0,h.jsx)(o.zyo,{className:"text-2xl text-blue-400"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-white font-bold",children:"Telegram Bot"}),(0,h.jsx)("p",{className:"text-gray-400 text-sm",children:"@vpn_xobot"})]})]}),(0,h.jsx)("p",{className:"text-gray-300 text-sm",children:"Instant support via Telegram. Create tickets, check status, manage your account \u2014 all from your phone."}),(0,h.jsx)("div",{className:"mt-3 text-blue-400 text-sm font-medium flex items-center",children:"Open in Telegram \u2192"})]})}),(0,h.jsx)("div",{className:"cursor-pointer block group",onClick:()=>V(!0),children:(0,h.jsxs)(m.A,{className:"p-5 border border-purple-500 border-opacity-30 hover:border-opacity-60 transition-all group-hover:shadow-lg group-hover:shadow-purple-500/10 h-full",children:[(0,h.jsxs)("div",{className:"flex items-center mb-3",children:[(0,h.jsx)("div",{className:"bg-purple-500 bg-opacity-20 p-3 rounded-lg mr-3",children:(0,h.jsx)(o.tVd,{className:"text-2xl text-purple-400"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-white font-bold",children:"Web Ticket"}),(0,h.jsx)("p",{className:"text-gray-400 text-sm",children:"Create & track here"})]})]}),(0,h.jsx)("p",{className:"text-gray-300 text-sm",children:"Create a support ticket right here. Attach files, track progress, and get email notifications."}),(0,h.jsx)("div",{className:"mt-3 text-purple-400 text-sm font-medium flex items-center",children:"Create new ticket \u2192"})]})})]}),(0,h.jsx)("p",{className:"text-gray-500 text-xs mt-2 text-center",children:"Both channels share the same ticket system \u2014 your requests are synced."})]}),I?(0,h.jsx)(v,{ticketId:I.id,onBack:()=>H(null)}):(0,h.jsx)(b,{onSelectTicket:H,onCreateTicket:()=>V(!0)})]},"support"),"billing"===M&&(0,h.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[X&&(0,h.jsx)("div",{className:"mb-4 p-3 rounded-lg text-sm ".concat("success"===X.type?"bg-green-500/20 text-green-300 border border-green-500/40":"bg-red-500/20 text-red-300 border border-red-500/40"),children:X.text}),(0,h.jsx)(N,{subscription:R,onCancelSubscription:J,onNavigateToSupport:()=>W("support")})]},"billing"),"settings"===M&&(0,h.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,h.jsx)(w,{})},"settings"),"referrals"===M&&(0,h.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,h.jsx)(C,{})},"referrals")]})]}),(0,h.jsx)(f,{isOpen:B,onClose:()=>V(!1),onSuccess:()=>{V(!1),"support"===M&&window.location.reload()}})]}),(0,h.jsx)(y.A,(0,a.A)({},z))]})}},3367:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var a=s(12),l=s(6938),r=s(5369),i=s(579);const n=e=>{let{isOpen:t,title:s="Are you sure?",message:n="",confirmText:c="Confirm",cancelText:o="Cancel",variant:d="danger",onConfirm:x,onCancel:m}=e;const u={danger:{icon:"text-red-400",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500",bg:"bg-red-900 bg-opacity-20"},warning:{icon:"text-yellow-400",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",bg:"bg-yellow-900 bg-opacity-20"},info:{icon:"text-blue-400",button:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",bg:"bg-blue-900 bg-opacity-20"}},h=u[d]||u.danger;return(0,i.jsx)(l.N,{children:t&&(0,i.jsxs)(a.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-60",onClick:m}),(0,i.jsxs)(a.P.div,{className:"relative bg-gray-800 rounded-xl shadow-2xl border border-gray-700 max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.15},role:"alertdialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",children:[(0,i.jsxs)("div",{className:"flex items-start gap-4",children:[(0,i.jsx)("div",{className:"flex-shrink-0 p-2 rounded-full ".concat(h.bg),children:(0,i.jsx)(r.BS8,{className:"text-xl ".concat(h.icon)})}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h3",{id:"confirm-dialog-title",className:"text-lg font-semibold text-white mb-1",children:s}),(0,i.jsx)("p",{id:"confirm-dialog-message",className:"text-sm text-gray-300 leading-relaxed",children:n})]})]}),(0,i.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,i.jsx)("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 transition",children:o}),(0,i.jsx)("button",{onClick:x,className:"px-4 py-2 text-sm font-medium text-white rounded-lg focus:outline-none focus:ring-2 transition ".concat(h.button),autoFocus:!0,children:c})]})]})]})})}},4951:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(5043);const l=e=>{(0,a.useEffect)(()=>{const t=document.title;return document.title=e?"".concat(e," | VPN XO"):"VPN XO - Secure VPN Service",()=>{document.title=t}},[e])}},8289:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(9379),l=s(3986),r=(s(5043),s(12)),i=s(579);const n=["children","variant","hover","className","onClick"],c=e=>{let{children:t,variant:s="default",hover:c=!0,className:o="",onClick:d}=e,x=(0,l.A)(e,n);const m=c?"hover:shadow-2xl hover:scale-105 cursor-pointer":"",u="\n    ".concat("rounded-2xl transition-all duration-300","\n    ").concat({default:"bg-white bg-opacity-10 backdrop-blur-md border border-white border-opacity-20",solid:"bg-white shadow-xl",gradient:"bg-gradient-to-br from-blue-600 to-purple-600",glass:"bg-white bg-opacity-5 backdrop-blur-lg border border-white border-opacity-10"}[s],"\n    ").concat(m,"\n    ").concat(o,"\n  ").trim().replace(/\s+/g," ");return(0,i.jsx)(r.P.div,(0,a.A)((0,a.A)({className:u,onClick:d,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:c?{y:-5}:{}},x),{},{children:t}))}}}]);
//# sourceMappingURL=87.ce93eee7.chunk.js.map