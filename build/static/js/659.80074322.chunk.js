"use strict";(self.webpackChunkvpn_xo_website=self.webpackChunkvpn_xo_website||[]).push([[659],{4951:(e,t,i)=>{i.d(t,{A:()=>n});var a=i(5043);const n=e=>{(0,a.useEffect)(()=>{const t=document.title;return document.title=e?"".concat(e," | VPN XO"):"VPN XO - Secure VPN Service",()=>{document.title=t}},[e])}},8659:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var a=i(5043),n=i(3216),s=i(5475),o=i(12),r=i(5369),c=i(4505),l=i(342),d=i(4951),u=i(579);const m=()=>{(0,d.A)("Sign In");const e=(0,n.Zp)(),{login:t}=(0,l.A)(),[i]=(0,s.ok)(),[m,h]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{const t=i.get("code");if(i.get("error"))return h("Google authentication failed. Please try again."),void setTimeout(()=>e("/login"),3e3);if(!t)return h("No authorization code received."),void setTimeout(()=>e("/login"),3e3);try{const{data:e}=await c.Kp.googleCallback(t);if(!e.accessToken)throw new Error("No access token received");{(0,c.ki)(e.accessToken),localStorage.setItem("user",JSON.stringify(e.user));const t="admin"===e.user.tier?"/admin":"/dashboard";window.location.href=t}}catch(a){console.error("Google OAuth error:",a),h("Authentication failed. Please try again."),setTimeout(()=>e("/login"),3e3)}})()},[i,e]),(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center",children:(0,u.jsx)(o.P.div,{className:"text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:m?(0,u.jsxs)("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 rounded-lg p-6 text-white",children:[(0,u.jsx)("div",{className:"text-6xl mb-4",children:"\u274c"}),(0,u.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Authentication Failed"}),(0,u.jsx)("p",{className:"text-gray-200",children:m}),(0,u.jsx)("p",{className:"text-sm text-gray-300 mt-4",children:"Redirecting to login..."})]}):(0,u.jsxs)("div",{className:"bg-white bg-opacity-10 backdrop-blur-md rounded-lg p-8 text-white",children:[(0,u.jsx)(o.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:(0,u.jsx)(r.hW,{className:"text-6xl text-blue-400"})}),(0,u.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Completing Sign In..."}),(0,u.jsx)("p",{className:"text-gray-300",children:"Please wait while we authenticate your account"})]})})})}}}]);
//# sourceMappingURL=659.80074322.chunk.js.map